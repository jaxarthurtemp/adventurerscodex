!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=187)}([function(e,t,n){var a,i,r;!function(){var o=!0;!function(s){var c=this||(0,eval)("this"),l=c.document,d=c.navigator,u=c.jQuery,p=c.JSON;!function(o){i=[t,n],(r="function"==typeof(a=o)?a.apply(t,i):a)===s||(e.exports=r)}(function(e,t){function n(e,t){return!!(null===e||typeof e in r)&&e===t}function a(e,t,n,a){i.bindingHandlers[e]={init:function(e,r,o,s,c){var l,d;return i.computed(function(){var o=i.utils.unwrapObservable(r()),s=!n!=!o,u=!d;(u||t||s!==l)&&(u&&i.computedContext.getDependenciesCount()&&(d=i.utils.cloneNodes(i.virtualElements.childNodes(e),!0)),s?(u||i.virtualElements.setDomNodeChildren(e,i.utils.cloneNodes(d)),i.applyBindingsToDescendants(a?a(c,o):c,e)):i.virtualElements.emptyNode(e),l=s)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},i.expressionRewriting.bindingRewriteValidators[e]=!1,i.virtualElements.allowedBindings[e]=!0}var i=void 0!==e?e:{};i.exportSymbol=function(e,t){for(var n=e.split("."),a=i,r=0;r<n.length-1;r++)a=a[n[r]];a[n[n.length-1]]=t},i.exportProperty=function(e,t,n){e[t]=n},i.version="3.3.0",i.exportSymbol("version",i.version),i.utils=function(){function e(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function t(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(e,t){return e.__proto__=t,e}function a(e,t,n,a){var r=e[t].match(b)||[];i.utils.arrayForEach(n.match(b),function(e){i.utils.addOrRemoveItem(r,e,a)}),e[t]=r.join(" ")}var r={__proto__:[]}instanceof Array,o={},f={};o[d&&/Firefox\/2/i.test(d.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],o.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],e(o,function(e,t){if(t.length)for(var n=0,a=t.length;n<a;n++)f[t[n]]=e});var h={propertychange:!0},m=l&&function(){for(var e=3,t=l.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return e>4?e:s}(),b=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,a=e.length;n<a;n++)t(e[n],n)},arrayIndexOf:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var a=0,i=e.length;a<i;a++)if(t.call(n,e[a],a))return e[a];return null},arrayRemoveItem:function(e,t){var n=i.utils.arrayIndexOf(e,t);n>0?e.splice(n,1):0===n&&e.shift()},arrayGetDistinctValues:function(e){for(var t=[],n=0,a=(e=e||[]).length;n<a;n++)i.utils.arrayIndexOf(t,e[n])<0&&t.push(e[n]);return t},arrayMap:function(e,t){for(var n=[],a=0,i=(e=e||[]).length;a<i;a++)n.push(t(e[a],a));return n},arrayFilter:function(e,t){for(var n=[],a=0,i=(e=e||[]).length;a<i;a++)t(e[a],a)&&n.push(e[a]);return n},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,a=t.length;n<a;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,t,n){var a=i.utils.arrayIndexOf(i.utils.peekObservable(e),t);a<0?n&&e.push(t):n||e.splice(a,1)},canSetPrototype:r,extend:t,setPrototypeOf:n,setPrototypeOfOrExtend:r?n:t,objectForEach:e,objectMap:function(e,t){if(!e)return e;var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=t(e[a],a,e));return n},emptyDomNode:function(e){for(;e.firstChild;)i.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){for(var t=i.utils.makeArray(e),n=(t[0]&&t[0].ownerDocument||l).createElement("div"),a=0,r=t.length;a<r;a++)n.appendChild(i.cleanNode(t[a]));return n},cloneNodes:function(e,t){for(var n=0,a=e.length,r=[];n<a;n++){var o=e[n].cloneNode(!0);r.push(t?i.cleanNode(o):o)}return r},setDomNodeChildren:function(e,t){if(i.utils.emptyDomNode(e),t)for(var n=0,a=t.length;n<a;n++)e.appendChild(t[n])},replaceDomNodes:function(e,t){var n=e.nodeType?[e]:e;if(n.length>0){for(var a=n[0],r=a.parentNode,o=0,s=t.length;o<s;o++)r.insertBefore(t[o],a);for(o=0,s=n.length;o<s;o++)i.removeNode(n[o])}},fixUpContinuousNodeArray:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);if(e.length>1){var n=e[0],a=e[e.length-1];for(e.length=0;n!==a;)if(e.push(n),!(n=n.nextSibling))return;e.push(a)}}return e},setOptionNodeSelectionState:function(e,t){m<7?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return null===e||e===s?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},domNodeIsAttachedToDocument:function(e){return i.utils.domNodeIsContainedBy(e,e.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(e){return!!i.utils.arrayFirst(e,i.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},registerEventHandler:function(e,t,n){var a=m&&h[t];if(!a&&u)u(e).bind(t,n);else if(a||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");var r=function(t){n.call(e,t)},o="on"+t;e.attachEvent(o,r),i.utils.domNodeDisposal.addDisposeCallback(e,function(){e.detachEvent(o,r)})}else e.addEventListener(t,n,!1)},triggerEvent:function(e,t){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var n=function(e,t){if("input"!==i.utils.tagNameLower(e)||!e.type)return!1;if("click"!=t.toLowerCase())return!1;var n=e.type;return"checkbox"==n||"radio"==n}(e,t);if(u&&!n)u(e).trigger(t);else if("function"==typeof l.createEvent){if("function"!=typeof e.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var a=f[t]||"HTMLEvents",r=l.createEvent(a);r.initEvent(t,!0,!0,c,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(r)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw new Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}},unwrapObservable:function(e){return i.isObservable(e)?e():e},peekObservable:function(e){return i.isObservable(e)?e.peek():e},toggleDomNodeCssClass:function(e,t,n){var r;t&&("object"==typeof e.classList?(r=e.classList[n?"add":"remove"],i.utils.arrayForEach(t.match(b),function(t){r.call(e.classList,t)})):"string"==typeof e.className.baseVal?a(e.className,"baseVal",t,n):a(e,"className",t,n))},setTextContent:function(e,t){var n=i.utils.unwrapObservable(t);null!==n&&n!==s||(n="");var a=i.virtualElements.firstChild(e);!a||3!=a.nodeType||i.virtualElements.nextSibling(a)?i.virtualElements.setDomNodeChildren(e,[e.ownerDocument.createTextNode(n)]):a.data=n,i.utils.forceRefresh(e)},setElementName:function(e,t){if(e.name=t,m<=7)try{e.mergeAttributes(l.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},forceRefresh:function(e){if(m>=9){var t=1==e.nodeType?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(m){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,t){e=i.utils.unwrapObservable(e),t=i.utils.unwrapObservable(t);for(var n=[],a=e;a<=t;a++)n.push(a);return n},makeArray:function(e){for(var t=[],n=0,a=e.length;n<a;n++)t.push(e[n]);return t},isIe6:6===m,isIe7:7===m,ieVersion:m,getFormFields:function(e,t){for(var n=i.utils.makeArray(e.getElementsByTagName("input")).concat(i.utils.makeArray(e.getElementsByTagName("textarea"))),a="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},r=[],o=n.length-1;o>=0;o--)a(n[o])&&r.push(n[o]);return r},parseJson:function(e){return"string"==typeof e&&(e=i.utils.stringTrim(e))?p&&p.parse?p.parse(e):new Function("return "+e)():null},stringifyJson:function(e,t,n){if(!p||!p.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return p.stringify(i.utils.unwrapObservable(e),t,n)},postJson:function(t,n,a){var r=(a=a||{}).params||{},o=a.includeFields||this.fieldsIncludedWithJsonPost,s=t;if("object"==typeof t&&"form"===i.utils.tagNameLower(t)){var c=t;s=c.action;for(var d=o.length-1;d>=0;d--)for(var u=i.utils.getFormFields(c,o[d]),p=u.length-1;p>=0;p--)r[u[p].name]=u[p].value}n=i.utils.unwrapObservable(n);var f=l.createElement("form");f.style.display="none",f.action=s,f.method="post";for(var h in n){var m=l.createElement("input");m.type="hidden",m.name=h,m.value=i.utils.stringifyJson(i.utils.unwrapObservable(n[h])),f.appendChild(m)}e(r,function(e,t){var n=l.createElement("input");n.type="hidden",n.name=e,n.value=t,f.appendChild(n)}),l.body.appendChild(f),a.submitter?a.submitter(f):f.submit(),setTimeout(function(){f.parentNode.removeChild(f)},0)}}}(),i.exportSymbol("utils",i.utils),i.exportSymbol("utils.arrayForEach",i.utils.arrayForEach),i.exportSymbol("utils.arrayFirst",i.utils.arrayFirst),i.exportSymbol("utils.arrayFilter",i.utils.arrayFilter),i.exportSymbol("utils.arrayGetDistinctValues",i.utils.arrayGetDistinctValues),i.exportSymbol("utils.arrayIndexOf",i.utils.arrayIndexOf),i.exportSymbol("utils.arrayMap",i.utils.arrayMap),i.exportSymbol("utils.arrayPushAll",i.utils.arrayPushAll),i.exportSymbol("utils.arrayRemoveItem",i.utils.arrayRemoveItem),i.exportSymbol("utils.extend",i.utils.extend),i.exportSymbol("utils.fieldsIncludedWithJsonPost",i.utils.fieldsIncludedWithJsonPost),i.exportSymbol("utils.getFormFields",i.utils.getFormFields),i.exportSymbol("utils.peekObservable",i.utils.peekObservable),i.exportSymbol("utils.postJson",i.utils.postJson),i.exportSymbol("utils.parseJson",i.utils.parseJson),i.exportSymbol("utils.registerEventHandler",i.utils.registerEventHandler),i.exportSymbol("utils.stringifyJson",i.utils.stringifyJson),i.exportSymbol("utils.range",i.utils.range),i.exportSymbol("utils.toggleDomNodeCssClass",i.utils.toggleDomNodeCssClass),i.exportSymbol("utils.triggerEvent",i.utils.triggerEvent),i.exportSymbol("utils.unwrapObservable",i.utils.unwrapObservable),i.exportSymbol("utils.objectForEach",i.utils.objectForEach),i.exportSymbol("utils.addOrRemoveItem",i.utils.addOrRemoveItem),i.exportSymbol("utils.setTextContent",i.utils.setTextContent),i.exportSymbol("unwrap",i.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var a=n.slice(0);return a.push.apply(a,arguments),t.apply(e,a)}}),i.utils.domData=new function(){function e(e,i){var r=e[n];if(!(r&&"null"!==r&&a[r])){if(!i)return s;r=e[n]="ko"+t++,a[r]={}}return a[r]}var t=0,n="__ko__"+(new Date).getTime(),a={};return{get:function(t,n){var a=e(t,!1);return a===s?s:a[n]},set:function(t,n,a){if(a!==s||e(t,!1)!==s){e(t,!0)[n]=a}},clear:function(e){var t=e[n];return!!t&&(delete a[t],e[n]=null,!0)},nextKey:function(){return t+++n}}},i.exportSymbol("utils.domData",i.utils.domData),i.exportSymbol("utils.domData.clear",i.utils.domData.clear),i.utils.domNodeDisposal=new function(){function e(e,t){var a=i.utils.domData.get(e,n);return a===s&&t&&(a=[],i.utils.domData.set(e,n,a)),a}function t(n){var a=e(n,!1);if(a){a=a.slice(0);for(var o=0;o<a.length;o++)a[o](n)}i.utils.domData.clear(n),i.utils.domNodeDisposal.cleanExternalData(n),r[n.nodeType]&&function(e){var n,a=e.firstChild;for(;n=a;)a=n.nextSibling,8===n.nodeType&&t(n)}(n)}var n=i.utils.domData.nextKey(),a={1:!0,8:!0,9:!0},r={1:!0,9:!0};return{addDisposeCallback:function(t,n){if("function"!=typeof n)throw new Error("Callback must be a function");e(t,!0).push(n)},removeDisposeCallback:function(t,a){var r=e(t,!1);r&&(i.utils.arrayRemoveItem(r,a),0==r.length&&function(e){i.utils.domData.set(e,n,s)}(t))},cleanNode:function(e){if(a[e.nodeType]&&(t(e),r[e.nodeType])){var n=[];i.utils.arrayPushAll(n,e.getElementsByTagName("*"));for(var o=0,s=n.length;o<s;o++)t(n[o])}return e},removeNode:function(e){i.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){u&&"function"==typeof u.cleanData&&u.cleanData([e])}}},i.cleanNode=i.utils.domNodeDisposal.cleanNode,i.removeNode=i.utils.domNodeDisposal.removeNode,i.exportSymbol("cleanNode",i.cleanNode),i.exportSymbol("removeNode",i.removeNode),i.exportSymbol("utils.domNodeDisposal",i.utils.domNodeDisposal),i.exportSymbol("utils.domNodeDisposal.addDisposeCallback",i.utils.domNodeDisposal.addDisposeCallback),i.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",i.utils.domNodeDisposal.removeDisposeCallback),function(){i.utils.parseHtmlFragment=function(e,t){return u?function(e,t){if(u.parseHTML)return u.parseHTML(e,t)||[];var n=u.clean([e],t);if(n&&n[0]){for(var a=n[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}return n}(e,t):function(e,t){t||(t=l);var n=t.parentWindow||t.defaultView||c,a=i.utils.stringTrim(e).toLowerCase(),r=t.createElement("div"),o=a.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!a.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!a.indexOf("<td")||!a.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],s="ignored<div>"+o[1]+e+o[2]+"</div>";for("function"==typeof n.innerShiv?r.appendChild(n.innerShiv(s)):r.innerHTML=s;o[0]--;)r=r.lastChild;return i.utils.makeArray(r.lastChild.childNodes)}(e,t)},i.utils.setHtml=function(e,t){if(i.utils.emptyDomNode(e),null!==(t=i.utils.unwrapObservable(t))&&t!==s)if("string"!=typeof t&&(t=t.toString()),u)u(e).html(t);else for(var n=i.utils.parseHtmlFragment(t,e.ownerDocument),a=0;a<n.length;a++)e.appendChild(n[a])}}(),i.exportSymbol("utils.parseHtmlFragment",i.utils.parseHtmlFragment),i.exportSymbol("utils.setHtml",i.utils.setHtml),i.memoization=function(){function e(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function t(e,n){if(e)if(8==e.nodeType){var a=i.memoization.parseMemoText(e.nodeValue);null!=a&&n.push({domNode:e,memoId:a})}else if(1==e.nodeType)for(var r=0,o=e.childNodes,s=o.length;r<s;r++)t(o[r],n)}var n={};return{memoize:function(t){if("function"!=typeof t)throw new Error("You can only pass a function to ko.memoization.memoize()");var a=e()+e();return n[a]=t,"\x3c!--[ko_memo:"+a+"]--\x3e"},unmemoize:function(e,t){var a=n[e];if(a===s)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return a.apply(null,t||[]),!0}finally{delete n[e]}},unmemoizeDomNodeAndDescendants:function(e,n){var a=[];t(e,a);for(var r=0,o=a.length;r<o;r++){var s=a[r].domNode,c=[s];n&&i.utils.arrayPushAll(c,n),i.memoization.unmemoize(a[r].memoId,c),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),i.exportSymbol("memoization",i.memoization),i.exportSymbol("memoization.memoize",i.memoization.memoize),i.exportSymbol("memoization.unmemoize",i.memoization.unmemoize),i.exportSymbol("memoization.parseMemoText",i.memoization.parseMemoText),i.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",i.memoization.unmemoizeDomNodeAndDescendants),i.extenders={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return i.dependentObservable({read:e,write:function(a){clearTimeout(n),n=setTimeout(function(){e(a)},t)}})},rateLimit:function(e,t){var n,a,i;"number"==typeof t?n=t:(n=t.timeout,a=t.method),i="notifyWhenChangesStop"==a?function(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}:function(e,t){var n;return function(){n||(n=setTimeout(function(){n=s,e()},t))}},e.limit(function(e){return i(e,n)})},notify:function(e,t){e.equalityComparer="always"==t?null:n}};var r={undefined:1,boolean:1,number:1,string:1};i.exportSymbol("extenders",i.extenders),i.subscription=function(e,t,n){this._target=e,this.callback=t,this.disposeCallback=n,this.isDisposed=!1,i.exportProperty(this,"dispose",this.dispose)},i.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},i.subscribable=function(){i.utils.setPrototypeOfOrExtend(this,i.subscribable.fn),this._subscriptions={},this._versionNumber=1};var f="change",h={subscribe:function(e,t,n){var a=this;n=n||f;var r=t?e.bind(t):e,o=new i.subscription(a,r,function(){i.utils.arrayRemoveItem(a._subscriptions[n],o),a.afterSubscriptionRemove&&a.afterSubscriptionRemove(n)});return a.beforeSubscriptionAdd&&a.beforeSubscriptionAdd(n),a._subscriptions[n]||(a._subscriptions[n]=[]),a._subscriptions[n].push(o),o},notifySubscribers:function(e,t){if((t=t||f)===f&&this.updateVersion(),this.hasSubscriptionsForEvent(t))try{i.dependencyDetection.begin();for(var n,a=this._subscriptions[t].slice(0),r=0;n=a[r];++r)n.isDisposed||n.callback(e)}finally{i.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},limit:function(e){var t,n,a,r=this,o=i.isObservable(r);r._origNotifySubscribers||(r._origNotifySubscribers=r.notifySubscribers,r.notifySubscribers=function(e,t){t&&t!==f?"beforeChange"===t?r._rateLimitedBeforeChange(e):r._origNotifySubscribers(e,t):r._rateLimitedChange(e)});var s=e(function(){o&&a===r&&(a=r()),t=!1,r.isDifferent(n,a)&&r._origNotifySubscribers(n=a)});r._rateLimitedChange=function(e){t=!0,a=e,s()},r._rateLimitedBeforeChange=function(e){t||(n=e,r._origNotifySubscribers(e,"beforeChange"))}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var t=0;return i.utils.objectForEach(this._subscriptions,function(e,n){t+=n.length}),t},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var t=this;return e&&i.utils.objectForEach(e,function(e,n){var a=i.extenders[e];"function"==typeof a&&(t=a(t,n)||t)}),t}};i.exportProperty(h,"subscribe",h.subscribe),i.exportProperty(h,"extend",h.extend),i.exportProperty(h,"getSubscriptionsCount",h.getSubscriptionsCount),i.utils.canSetPrototype&&i.utils.setPrototypeOf(h,Function.prototype),i.subscribable.fn=h,i.isSubscribable=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},i.exportSymbol("subscribable",i.subscribable),i.exportSymbol("isSubscribable",i.isSubscribable),i.computedContext=i.dependencyDetection=function(){function e(e){a.push(n),n=e}function t(){n=a.pop()}var n,a=[],r=0;return{begin:e,end:t,registerDependency:function(e){if(n){if(!i.isSubscribable(e))throw new Error("Only subscribable things can act as dependencies");n.callback(e,e._id||(e._id=++r))}},ignore:function(n,a,i){try{return e(),n.apply(a,i||[])}finally{t()}},getDependenciesCount:function(){if(n)return n.computed.getDependenciesCount()},isInitial:function(){if(n)return n.isInitial}}}(),i.exportSymbol("computedContext",i.computedContext),i.exportSymbol("computedContext.getDependenciesCount",i.computedContext.getDependenciesCount),i.exportSymbol("computedContext.isInitial",i.computedContext.isInitial),i.exportSymbol("computedContext.isSleeping",i.computedContext.isSleeping),i.exportSymbol("ignoreDependencies",i.ignoreDependencies=i.dependencyDetection.ignore),i.observable=function(e){function t(){return arguments.length>0?(t.isDifferent(n,arguments[0])&&(t.valueWillMutate(),n=arguments[0],o&&(t._latestValue=n),t.valueHasMutated()),this):(i.dependencyDetection.registerDependency(t),n)}var n=e;return i.subscribable.call(t),i.utils.setPrototypeOfOrExtend(t,i.observable.fn),o&&(t._latestValue=n),t.peek=function(){return n},t.valueHasMutated=function(){t.notifySubscribers(n)},t.valueWillMutate=function(){t.notifySubscribers(n,"beforeChange")},i.exportProperty(t,"peek",t.peek),i.exportProperty(t,"valueHasMutated",t.valueHasMutated),i.exportProperty(t,"valueWillMutate",t.valueWillMutate),t},i.observable.fn={equalityComparer:n};var m=i.observable.protoProperty="__ko_proto__";i.observable.fn[m]=i.observable,i.utils.canSetPrototype&&i.utils.setPrototypeOf(i.observable.fn,i.subscribable.fn),i.hasPrototype=function(e,t){return null!==e&&e!==s&&e[m]!==s&&(e[m]===t||i.hasPrototype(e[m],t))},i.isObservable=function(e){return i.hasPrototype(e,i.observable)},i.isWriteableObservable=function(e){return"function"==typeof e&&e[m]===i.observable||!("function"!=typeof e||e[m]!==i.dependentObservable||!e.hasWriteFunction)},i.exportSymbol("observable",i.observable),i.exportSymbol("isObservable",i.isObservable),i.exportSymbol("isWriteableObservable",i.isWriteableObservable),i.exportSymbol("isWritableObservable",i.isWriteableObservable),i.observableArray=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=i.observable(e);return i.utils.setPrototypeOfOrExtend(t,i.observableArray.fn),t.extend({trackArrayChanges:!0})},i.observableArray.fn={remove:function(e){for(var t=this.peek(),n=[],a="function"!=typeof e||i.isObservable(e)?function(t){return t===e}:e,r=0;r<t.length;r++){var o=t[r];a(o)&&(0===n.length&&this.valueWillMutate(),n.push(o),t.splice(r,1),r--)}return n.length&&this.valueHasMutated(),n},removeAll:function(e){if(e===s){var t=this.peek(),n=t.slice(0);return this.valueWillMutate(),t.splice(0,t.length),this.valueHasMutated(),n}return e?this.remove(function(t){return i.utils.arrayIndexOf(e,t)>=0}):[]},destroy:function(e){var t=this.peek(),n="function"!=typeof e||i.isObservable(e)?function(t){return t===e}:e;this.valueWillMutate();for(var a=t.length-1;a>=0;a--){n(t[a])&&(t[a]._destroy=!0)}this.valueHasMutated()},destroyAll:function(e){return e===s?this.destroy(function(){return!0}):e?this.destroy(function(t){return i.utils.arrayIndexOf(e,t)>=0}):[]},indexOf:function(e){var t=this();return i.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},i.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){i.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(t,e,arguments);var n=t[e].apply(t,arguments);return this.valueHasMutated(),n}}),i.utils.arrayForEach(["slice"],function(e){i.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),i.utils.canSetPrototype&&i.utils.setPrototypeOf(i.observableArray.fn,i.observable.fn),i.exportSymbol("observableArray",i.observableArray);var b="arrayChange";i.extenders.trackArrayChanges=function(e){function t(){if(!a){a=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,n){return n&&n!==f||++o,t.apply(this,arguments)};var s=[].concat(e.peek()||[]);r=null,n=e.subscribe(function(t){if(t=[].concat(t||[]),e.hasSubscriptionsForEvent(b))var n=function(e,t){(!r||o>1)&&(r=i.utils.compareArrays(e,t,{sparse:!0}));return r}(s,t);s=t,r=null,o=0,n&&n.length&&e.notifySubscribers(n,b)})}}if(!e.cacheDiffForKnownOperation){var n,a=!1,r=null,o=0,s=e.beforeSubscriptionAdd,c=e.afterSubscriptionRemove;e.beforeSubscriptionAdd=function(n){s&&s.call(e,n),n===b&&t()},e.afterSubscriptionRemove=function(t){c&&c.call(e,t),t!==b||e.hasSubscriptionsForEvent(b)||(n.dispose(),a=!1)},e.cacheDiffForKnownOperation=function(e,t,n){function s(e,t,n){return c[c.length]={status:e,value:t,index:n}}if(a&&!o){var c=[],l=e.length,d=n.length,u=0;switch(t){case"push":u=l;case"unshift":for(var p=0;p<d;p++)s("added",n[p],u+p);break;case"pop":u=l-1;case"shift":l&&s("deleted",e[u],u);break;case"splice":for(var f=Math.min(Math.max(0,n[0]<0?l+n[0]:n[0]),l),h=1===d?l:Math.min(f+(n[1]||0),l),m=f+d-2,b=Math.max(h,m),v=[],g=[],y=(p=f,2);p<b;++p,++y)p<h&&g.push(s("deleted",e[p],p)),p<m&&v.push(s("added",n[y],p));i.utils.findMovesInArrayComparison(g,v);break;default:return}r=c}}}},i.computed=i.dependentObservable=function(e,t,n){function a(e,t,n){if(w&&t===u)throw Error("A 'pure' computed must not be called recursively");E[e]=n,n._order=A++,n._version=t.getVersion()}function r(){var e,t;for(e in E)if(E.hasOwnProperty(e)&&(t=E[e])._target.hasChanged(t._version))return!0}function c(){!k&&E&&i.utils.objectForEach(E,function(e,t){t.dispose&&t.dispose()}),E=null,A=0,y=!0,b=!1,k=!1}function l(){var e=u.throttleEvaluation;e&&e>=0?(clearTimeout(M),M=setTimeout(function(){d(!0)},e)):u._evalRateLimited?u._evalRateLimited():d(!0)}function d(e){if(!v&&!y){if(_&&_()){if(!g)return void T()}else g=!1;v=!0;try{var n=E,r=A,c=w?s:!A;i.dependencyDetection.begin({callback:function(e,t){y||(r&&n[t]?(a(t,e,n[t]),delete n[t],--r):E[t]||a(t,e,k?{_target:e}:e.subscribe(l)))},computed:u,isInitial:c}),E={},A=0;try{var d=t?x.call(t):x()}finally{i.dependencyDetection.end(),r&&!k&&i.utils.objectForEach(n,function(e,t){t.dispose&&t.dispose()}),b=!1}u.isDifferent(m,d)&&(k||h(m,"beforeChange"),m=d,o&&(u._latestValue=m),k?u.updateVersion():e&&h(m)),c&&h(m,"awake")}finally{v=!1}A||T()}}function u(){if(arguments.length>0){if("function"!=typeof S)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return S.apply(t,arguments),this}return i.dependencyDetection.registerDependency(u),(b||k&&r())&&d(),m}function p(){return(b&&!A||k&&r())&&d(),m}function f(){return b||A>0}function h(e,t){u.notifySubscribers(e,t)}var m,b=!0,v=!1,g=!1,y=!1,x=e,w=!1,k=!1;if(x&&"object"==typeof x?x=(n=x).read:(n=n||{},x||(x=n.read)),"function"!=typeof x)throw new Error("Pass a function that returns the value of the ko.computed");var S=n.write,C=n.disposeWhenNodeIsRemoved||n.disposeWhenNodeIsRemoved||null,I=n.disposeWhen||n.disposeWhen,_=I,T=c,E={},A=0,M=null;t||(t=n.owner),i.subscribable.call(u),i.utils.setPrototypeOfOrExtend(u,i.dependentObservable.fn),u.peek=p,u.getDependenciesCount=function(){return A},u.hasWriteFunction="function"==typeof S,u.dispose=function(){T()},u.isActive=f;var F=u.limit;return u.limit=function(e){F.call(u,e),u._evalRateLimited=function(){u._rateLimitedBeforeChange(m),b=!0,u._rateLimitedChange(u)}},n.pure?(w=!0,k=!0,u.beforeSubscriptionAdd=function(e){if(!y&&k&&"change"==e){if(k=!1,b||r())E=null,A=0,b=!0,d();else{var t=[];i.utils.objectForEach(E,function(e,n){t[n._order]=e}),i.utils.arrayForEach(t,function(e,t){var n=E[e],a=n._target.subscribe(l);a._order=t,a._version=n._version,E[e]=a})}y||h(m,"awake")}},u.afterSubscriptionRemove=function(e){y||"change"!=e||u.hasSubscriptionsForEvent("change")||(i.utils.objectForEach(E,function(e,t){t.dispose&&(E[e]={_target:t._target,_order:t._order,_version:t._version},t.dispose())}),k=!0,h(s,"asleep"))},u._originalGetVersion=u.getVersion,u.getVersion=function(){return k&&(b||r())&&d(),u._originalGetVersion()}):n.deferEvaluation&&(u.beforeSubscriptionAdd=function(e){"change"!=e&&"beforeChange"!=e||p()}),i.exportProperty(u,"peek",u.peek),i.exportProperty(u,"dispose",u.dispose),i.exportProperty(u,"isActive",u.isActive),i.exportProperty(u,"getDependenciesCount",u.getDependenciesCount),C&&(g=!0,C.nodeType&&(_=function(){return!i.utils.domNodeIsAttachedToDocument(C)||I&&I()})),k||n.deferEvaluation||d(),C&&f()&&C.nodeType&&(T=function(){i.utils.domNodeDisposal.removeDisposeCallback(C,T),c()},i.utils.domNodeDisposal.addDisposeCallback(C,T)),u},i.isComputed=function(e){return i.hasPrototype(e,i.dependentObservable)};var v=i.observable.protoProperty;i.dependentObservable[v]=i.observable,i.dependentObservable.fn={equalityComparer:n},i.dependentObservable.fn[v]=i.dependentObservable,i.utils.canSetPrototype&&i.utils.setPrototypeOf(i.dependentObservable.fn,i.subscribable.fn),i.exportSymbol("dependentObservable",i.dependentObservable),i.exportSymbol("computed",i.dependentObservable),i.exportSymbol("isComputed",i.isComputed),i.pureComputed=function(e,t){return"function"==typeof e?i.computed(e,t,{pure:!0}):(e=i.utils.extend({},e),e.pure=!0,i.computed(e,t))},i.exportSymbol("pureComputed",i.pureComputed),function(){function e(n,a,i){i=i||new t;if(!!("object"!=typeof(n=a(n))||null===n||n===s||n instanceof Date||n instanceof String||n instanceof Number||n instanceof Boolean))return n;var r=n instanceof Array?[]:{};return i.save(n,r),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(var a in e)t(a)}(n,function(t){var o=a(n[t]);switch(typeof o){case"boolean":case"number":case"string":case"function":r[t]=o;break;case"object":case"undefined":var c=i.get(o);r[t]=c!==s?c:e(o,a,i)}}),r}function t(){this.keys=[],this.values=[]}i.toJS=function(t){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(e){for(var t=0;i.isObservable(e)&&t<10;t++)e=e();return e})},i.toJSON=function(e,t,n){var a=i.toJS(e);return i.utils.stringifyJson(a,t,n)},t.prototype={constructor:t,save:function(e,t){var n=i.utils.arrayIndexOf(this.keys,e);n>=0?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){var t=i.utils.arrayIndexOf(this.keys,e);return t>=0?this.values[t]:s}}}(),i.exportSymbol("toJS",i.toJS),i.exportSymbol("toJSON",i.toJSON),function(){var e="__ko__hasDomDataOptionValue__";i.selectExtensions={readValue:function(t){switch(i.utils.tagNameLower(t)){case"option":return!0===t[e]?i.utils.domData.get(t,i.bindingHandlers.options.optionValueDomDataKey):i.utils.ieVersion<=7?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return t.selectedIndex>=0?i.selectExtensions.readValue(t.options[t.selectedIndex]):s;default:return t.value}},writeValue:function(t,n,a){switch(i.utils.tagNameLower(t)){case"option":switch(typeof n){case"string":i.utils.domData.set(t,i.bindingHandlers.options.optionValueDomDataKey,s),e in t&&delete t[e],t.value=n;break;default:i.utils.domData.set(t,i.bindingHandlers.options.optionValueDomDataKey,n),t[e]=!0,t.value="number"==typeof n?n:""}break;case"select":""!==n&&null!==n||(n=s);for(var r,o=-1,c=0,l=t.options.length;c<l;++c)if((r=i.selectExtensions.readValue(t.options[c]))==n||""==r&&n===s){o=c;break}(a||o>=0||n===s&&t.size>1)&&(t.selectedIndex=o);break;default:null!==n&&n!==s||(n=""),t.value=n}}}}(),i.exportSymbol("selectExtensions",i.selectExtensions),i.exportSymbol("selectExtensions.readValue",i.selectExtensions.readValue),i.exportSymbol("selectExtensions.writeValue",i.selectExtensions.writeValue),i.expressionRewriting=function(){function e(e){var t=i.utils.stringTrim(e);123===t.charCodeAt(0)&&(t=t.slice(1,-1));var n,s=[],c=t.match(a),l=[],d=0;if(c){c.push(",");for(var u,p=0;u=c[p];++p){var f=u.charCodeAt(0);if(44===f){if(d<=0){s.push(n&&l.length?{key:n,value:l.join("")}:{unknown:n||l.join("")}),n=d=0,l=[];continue}}else if(58===f){if(!d&&!n&&1===l.length){n=l.pop();continue}}else if(47===f&&p&&u.length>1){var h=c[p-1].match(r);h&&!o[h[0]]&&((c=(t=t.substr(t.indexOf(u)+1)).match(a)).push(","),p=-1,u="/")}else 40===f||123===f||91===f?++d:41===f||125===f||93===f?--d:n||l.length||34!==f&&39!==f||(u=u.slice(1,-1));l.push(u)}}return s}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,a=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),r=/[\])"'A-Za-z0-9_$]+$/,o={in:1,return:1,typeof:1},s={};return{bindingRewriteValidators:[],twoWayBindings:s,parseObjectLiteral:e,preProcessBindings:function(a,r){function o(e,a){var r;if(!u){if(!function(t){return!t||!t.preprocess||(a=t.preprocess(a,e,o))}(i.getBindingHandler(e)))return;s[e]&&(r=function(e){if(i.utils.arrayIndexOf(t,e)>=0)return!1;var a=e.match(n);return null!==a&&(a[1]?"Object("+a[1]+")"+a[2]:e)}(a))&&l.push("'"+e+"':function(_z){"+r+"=_z}")}d&&(a="function(){return "+a+" }"),c.push("'"+e+"':"+a)}var c=[],l=[],d=(r=r||{}).valueAccessors,u=r.bindingParams,p="string"==typeof a?e(a):a;return i.utils.arrayForEach(p,function(e){o(e.key||e.unknown,e.value)}),l.length&&o("_ko_property_writers","{"+l.join(",")+" }"),c.join(",")},keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},writeValueToProperty:function(e,t,n,a,r){if(e&&i.isObservable(e))!i.isWriteableObservable(e)||r&&e.peek()===a||e(a);else{var o=t.get("_ko_property_writers");o&&o[n]&&o[n](a)}}}}(),i.exportSymbol("expressionRewriting",i.expressionRewriting),i.exportSymbol("expressionRewriting.bindingRewriteValidators",i.expressionRewriting.bindingRewriteValidators),i.exportSymbol("expressionRewriting.parseObjectLiteral",i.expressionRewriting.parseObjectLiteral),i.exportSymbol("expressionRewriting.preProcessBindings",i.expressionRewriting.preProcessBindings),i.exportSymbol("expressionRewriting._twoWayBindings",i.expressionRewriting.twoWayBindings),i.exportSymbol("jsonExpressionRewriting",i.expressionRewriting),i.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",i.expressionRewriting.preProcessBindings),function(){function e(e){return 8==e.nodeType&&s.test(o?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&c.test(o?e.text:e.nodeValue)}function n(n,a){for(var i=n,r=1,o=[];i=i.nextSibling;){if(t(i)&&0==--r)return o;o.push(i),e(i)&&r++}if(!a)throw new Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function a(e,t){var a=n(e,t);return a?a.length>0?a[a.length-1].nextSibling:e.nextSibling:null}function r(n){var i=n.firstChild,r=null;if(i)do{if(r)r.push(i);else if(e(i)){var o=a(i,!0);o?i=o:r=[i]}else t(i)&&(r=[i])}while(i=i.nextSibling);return r}var o=l&&"\x3c!--test--\x3e"===l.createComment("test").text,s=o?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,c=o?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,d={ul:!0,ol:!0};i.virtualElements={allowedBindings:{},childNodes:function(t){return e(t)?n(t):t.childNodes},emptyNode:function(t){if(e(t))for(var n=i.virtualElements.childNodes(t),a=0,r=n.length;a<r;a++)i.removeNode(n[a]);else i.utils.emptyDomNode(t)},setDomNodeChildren:function(t,n){if(e(t)){i.virtualElements.emptyNode(t);for(var a=t.nextSibling,r=0,o=n.length;r<o;r++)a.parentNode.insertBefore(n[r],a)}else i.utils.setDomNodeChildren(t,n)},prepend:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},insertAfter:function(t,n,a){a?e(t)?t.parentNode.insertBefore(n,a.nextSibling):a.nextSibling?t.insertBefore(n,a.nextSibling):t.appendChild(n):i.virtualElements.prepend(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=a(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},hasBindingValue:e,virtualNodeBindingValue:function(e){var t=(o?e.text:e.nodeValue).match(s);return t?t[1]:null},normaliseVirtualElementDomStructure:function(e){if(d[i.utils.tagNameLower(e)]){var t=e.firstChild;if(t)do{if(1===t.nodeType){var n=r(t);if(n)for(var a=t.nextSibling,o=0;o<n.length;o++)a?e.insertBefore(n[o],a):e.appendChild(n[o])}}while(t=t.nextSibling)}}}}(),i.exportSymbol("virtualElements",i.virtualElements),i.exportSymbol("virtualElements.allowedBindings",i.virtualElements.allowedBindings),i.exportSymbol("virtualElements.emptyNode",i.virtualElements.emptyNode),i.exportSymbol("virtualElements.insertAfter",i.virtualElements.insertAfter),i.exportSymbol("virtualElements.prepend",i.virtualElements.prepend),i.exportSymbol("virtualElements.setDomNodeChildren",i.virtualElements.setDomNodeChildren),function(){function e(e,t,n){var a=e+(n&&n.valueAccessors||"");return t[a]||(t[a]=function(e,t){var n="with($context){with($data||{}){return{"+i.expressionRewriting.preProcessBindings(e,t)+"}}}";return new Function("$context","$element",n)}(e,n))}i.bindingProvider=function(){this.bindingCache={}},i.utils.extend(i.bindingProvider.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||i.components.getComponentNameForNode(e);case 8:return i.virtualElements.hasBindingValue(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t),a=n?this.parseBindingsString(n,t,e):null;return i.components.addBindingsForCustomElement(a,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t),a=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return i.components.addBindingsForCustomElement(a,e,t,!0)},getBindingsString:function(e,t){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return i.virtualElements.virtualNodeBindingValue(e);default:return null}},parseBindingsString:function(t,n,a,i){try{return e(t,this.bindingCache,i)(n,a)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+e.message,e}}}),i.bindingProvider.instance=new i.bindingProvider}(),i.exportSymbol("bindingProvider",i.bindingProvider),function(){function e(e){return function(){return e}}function t(e){return e()}function n(e){return i.utils.objectMap(i.dependencyDetection.ignore(e),function(t,n){return function(){return e()[n]}})}function a(e,t,n){var a,o=i.virtualElements.firstChild(t),s=i.bindingProvider.instance,c=s.preprocessNode;if(c){for(;a=o;)o=i.virtualElements.nextSibling(a),c.call(s,a);o=i.virtualElements.firstChild(t)}for(;a=o;)o=i.virtualElements.nextSibling(a),r(e,a,n)}function r(e,t,n){var r=!0,s=1===t.nodeType;s&&i.virtualElements.normaliseVirtualElementDomStructure(t);(s&&n||i.bindingProvider.instance.nodeHasBindings(t))&&(r=o(t,null,e,n).shouldBindDescendants),r&&!d[i.utils.tagNameLower(t)]&&a(e,t,!s)}function o(e,a,r,o){var c=i.utils.domData.get(e,p);if(!a){if(c)throw Error("You cannot apply bindings multiple times to the same element.");i.utils.domData.set(e,p,!0)}!c&&o&&i.storedBindingContextForNode(e,r);var l;if(a&&"function"!=typeof a)l=a;else{var d=i.bindingProvider.instance,u=d.getBindingAccessors||function(e,t){return n(this.getBindings.bind(this,e,t))},f=i.dependentObservable(function(){return(l=a?a(r,e):u.call(d,e,r))&&r._subscribable&&r._subscribable(),l},null,{disposeWhenNodeIsRemoved:e});l&&f.isActive()||(f=null)}var h;if(l){var m=f?function(e){return function(){return t(f()[e])}}:function(e){return l[e]};function b(){return i.utils.objectMap(f?f():l,t)}b.get=function(e){return l[e]&&t(m(e))},b.has=function(e){return e in l};var v=function(e){var t=[],n={},a=[];return i.utils.objectForEach(e,function r(o){if(!n[o]){var s=i.getBindingHandler(o);s&&(s.after&&(a.push(o),i.utils.arrayForEach(s.after,function(t){if(e[t]){if(-1!==i.utils.arrayIndexOf(a,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+a.join(", "));r(t)}}),a.length--),t.push({key:o,handler:s})),n[o]=!0}}),t}(l);i.utils.arrayForEach(v,function(t){var n=t.handler.init,a=t.handler.update,o=t.key;8===e.nodeType&&function(e){if(!i.virtualElements.allowedBindings[e])throw new Error("The binding '"+e+"' cannot be used with virtual elements")}(o);try{"function"==typeof n&&i.dependencyDetection.ignore(function(){var t=n(e,m(o),b,r.$data,r);if(t&&t.controlsDescendantBindings){if(h!==s)throw new Error("Multiple bindings ("+h+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");h=o}}),"function"==typeof a&&i.dependentObservable(function(){a(e,m(o),b,r.$data,r)},null,{disposeWhenNodeIsRemoved:e})}catch(e){throw e.message='Unable to process binding "'+o+": "+l[o]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:h===s}}function l(e){return e&&e instanceof i.bindingContext?e:new i.bindingContext(e)}i.bindingHandlers={};var d={script:!0,textarea:!0};i.getBindingHandler=function(e){return i.bindingHandlers[e]},i.bindingContext=function(e,t,n,a){var r,o=this,c="function"==typeof e&&!i.isObservable(e),l=i.dependentObservable(function(){var r=c?e():e,s=i.utils.unwrapObservable(r);return t?(t._subscribable&&t._subscribable(),i.utils.extend(o,t),l&&(o._subscribable=l)):(o.$parents=[],o.$root=s,o.ko=i),o.$rawData=r,o.$data=s,n&&(o[n]=s),a&&a(o,t,s),o.$data},null,{disposeWhen:function(){return r&&!i.utils.anyDomNodeIsAttachedToDocument(r)},disposeWhenNodeIsRemoved:!0});l.isActive()&&(o._subscribable=l,l.equalityComparer=null,r=[],l._addNode=function(e){r.push(e),i.utils.domNodeDisposal.addDisposeCallback(e,function(e){i.utils.arrayRemoveItem(r,e),r.length||(l.dispose(),o._subscribable=l=s)})})},i.bindingContext.prototype.createChildContext=function(e,t,n){return new i.bindingContext(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},i.bindingContext.prototype.extend=function(e){return new i.bindingContext(this._subscribable||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,i.utils.extend(t,"function"==typeof e?e():e)})};var p=i.utils.domData.nextKey(),f=i.utils.domData.nextKey();i.storedBindingContextForNode=function(e,t){if(2!=arguments.length)return i.utils.domData.get(e,f);i.utils.domData.set(e,f,t),t._subscribable&&t._subscribable._addNode(e)},i.applyBindingAccessorsToNode=function(e,t,n){return 1===e.nodeType&&i.virtualElements.normaliseVirtualElementDomStructure(e),o(e,t,l(n),!0)},i.applyBindingsToNode=function(t,a,r){var o=l(r);return i.applyBindingAccessorsToNode(t,function(t,a,r){return"function"==typeof t?n(t.bind(null,a,r)):i.utils.objectMap(t,e)}(a,o,t),o)},i.applyBindingsToDescendants=function(e,t){1!==t.nodeType&&8!==t.nodeType||a(l(e),t,!0)},i.applyBindings=function(e,t){if(!u&&c.jQuery&&(u=c.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||c.document.body,r(l(e),t,!0)},i.contextFor=function(e){switch(e.nodeType){case 1:case 8:var t=i.storedBindingContextForNode(e);if(t)return t;if(e.parentNode)return i.contextFor(e.parentNode)}return s},i.dataFor=function(e){var t=i.contextFor(e);return t?t.$data:s},i.exportSymbol("bindingHandlers",i.bindingHandlers),i.exportSymbol("applyBindings",i.applyBindings),i.exportSymbol("applyBindingsToDescendants",i.applyBindingsToDescendants),i.exportSymbol("applyBindingAccessorsToNode",i.applyBindingAccessorsToNode),i.exportSymbol("applyBindingsToNode",i.applyBindingsToNode),i.exportSymbol("contextFor",i.contextFor),i.exportSymbol("dataFor",i.dataFor)}(),function(e){function t(t,n){return t.hasOwnProperty(n)?t[n]:e}function n(e,n){var s,c=t(r,e);c?c.subscribe(n):((c=r[e]=new i.subscribable).subscribe(n),function(e,t){a("getConfig",[e],function(n){n?a("loadComponent",[e,n],function(e){t(e,n)}):t(null,null)})}(e,function(t,n){var a=!(!n||!n.synchronous);o[e]={definition:t,isSynchronousComponent:a},delete r[e],s||a?c.notifySubscribers(t):setTimeout(function(){c.notifySubscribers(t)},0)}),s=!0)}function a(t,n,r,o){o||(o=i.components.loaders.slice(0));var s=o.shift();if(s){var c=s[t];if(c){var l=!1;if(c.apply(s,n.concat(function(e){l?r(null):null!==e?r(e):a(t,n,r,o)}))!==e&&(l=!0,!s.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else a(t,n,r,o)}else r(null)}var r={},o={};i.components={get:function(e,a){var r=t(o,e);r?r.isSynchronousComponent?i.dependencyDetection.ignore(function(){a(r.definition)}):setTimeout(function(){a(r.definition)},0):n(e,a)},clearCachedDefinition:function(e){delete o[e]},_getFirstResultFromLoaders:a},i.components.loaders=[],i.exportSymbol("components",i.components),i.exportSymbol("components.get",i.components.get),i.exportSymbol("components.clearCachedDefinition",i.components.clearCachedDefinition)}(),function(e){function n(e,t,n){if("string"==typeof t)n(i.utils.parseHtmlFragment(t));else if(t instanceof Array)n(t);else if(o(t))n(i.utils.makeArray(t.childNodes));else if(t.element){var a=t.element;if(function(e){return c.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType}(a))n(r(a));else if("string"==typeof a){var s=l.getElementById(a);s?n(r(s)):e("Cannot find element with ID "+a)}else e("Unknown element type: "+a)}else e("Unknown template value: "+t)}function a(e,t,n){if("function"==typeof t)n(function(e){return new t(e)});else if("function"==typeof t[p])n(t[p]);else if("instance"in t){var i=t.instance;n(function(e,t){return i})}else"viewModel"in t?a(e,t.viewModel,n):e("Unknown viewModel value: "+t)}function r(e){switch(i.utils.tagNameLower(e)){case"script":return i.utils.parseHtmlFragment(e.text);case"textarea":return i.utils.parseHtmlFragment(e.value);case"template":if(o(e.content))return i.utils.cloneNodes(e.content.childNodes)}return i.utils.cloneNodes(e.childNodes)}function o(e){return c.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function s(e,n,a){"string"==typeof n.require?t||c.require?(t||c.require)([n.require],a):e("Uses require, but no AMD loader is present"):a(n)}function d(e){return function(t){throw new Error("Component '"+e+"': "+t)}}var u={};i.components.register=function(e,t){if(!t)throw new Error("Invalid configuration for "+e);if(i.components.isRegistered(e))throw new Error("Component "+e+" is already registered");u[e]=t},i.components.isRegistered=function(e){return e in u},i.components.unregister=function(e){delete u[e],i.components.clearCachedDefinition(e)},i.components.defaultLoader={getConfig:function(e,t){t(u.hasOwnProperty(e)?u[e]:null)},loadComponent:function(e,t,n){var a=d(e);s(a,t,function(t){!function(e,t,n,a){var r={},o=2,c=function(){0==--o&&a(r)},l=n.template,d=n.viewModel;l?s(t,l,function(t){i.components._getFirstResultFromLoaders("loadTemplate",[e,t],function(e){r.template=e,c()})}):c(),d?s(t,d,function(t){i.components._getFirstResultFromLoaders("loadViewModel",[e,t],function(e){r[p]=e,c()})}):c()}(e,a,t,n)})},loadTemplate:function(e,t,a){n(d(e),t,a)},loadViewModel:function(e,t,n){a(d(e),t,n)}};var p="createViewModel";i.exportSymbol("components.register",i.components.register),i.exportSymbol("components.isRegistered",i.components.isRegistered),i.exportSymbol("components.unregister",i.components.unregister),i.exportSymbol("components.defaultLoader",i.components.defaultLoader),i.components.loaders.push(i.components.defaultLoader),i.components._allRegisteredComponents=u}(),function(e){i.components.getComponentNameForNode=function(e){var t=i.utils.tagNameLower(e);return i.components.isRegistered(t)&&t},i.components.addBindingsForCustomElement=function(e,n,a,r){if(1===n.nodeType){var o=i.components.getComponentNameForNode(n);if(o){if((e=e||{}).component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var s={name:o,params:function(e,n){var a=e.getAttribute("params");if(a){var r=t.parseBindingsString(a,n,e,{valueAccessors:!0,bindingParams:!0}),o=i.utils.objectMap(r,function(t,n){return i.computed(t,null,{disposeWhenNodeIsRemoved:e})}),s=i.utils.objectMap(o,function(t,n){var a=t.peek();return t.isActive()?i.computed({read:function(){return i.utils.unwrapObservable(t())},write:i.isWriteableObservable(a)&&function(e){t()(e)},disposeWhenNodeIsRemoved:e}):a});return s.hasOwnProperty("$raw")||(s.$raw=o),s}return{$raw:{}}}(n,a)};e.component=r?function(){return s}:s}}return e};var t=new i.bindingProvider;i.utils.ieVersion<9&&(i.components.register=function(e){return function(t){return l.createElement(t),e.apply(this,arguments)}}(i.components.register),l.createDocumentFragment=function(e){return function(){var t=e(),n=i.components._allRegisteredComponents;for(var a in n)n.hasOwnProperty(a)&&t.createElement(a);return t}}(l.createDocumentFragment))}(),function(e){var t=0;i.bindingHandlers.component={init:function(e,n,a,r,o){var s,c,l=function(){var e=s&&s.dispose;"function"==typeof e&&e.call(s),c=null},d=i.utils.makeArray(i.virtualElements.childNodes(e));return i.utils.domNodeDisposal.addDisposeCallback(e,l),i.computed(function(){var a,r,u=i.utils.unwrapObservable(n());if("string"==typeof u?a=u:(a=i.utils.unwrapObservable(u.name),r=i.utils.unwrapObservable(u.params)),!a)throw new Error("No component name specified");var p=c=++t;i.components.get(a,function(t){if(c===p){if(l(),!t)throw new Error("Unknown component '"+a+"'");!function(e,t,n){var a=t.template;if(!a)throw new Error("Component '"+e+"' has no template");var r=i.utils.cloneNodes(a);i.virtualElements.setDomNodeChildren(n,r)}(a,t,e);var n=function(e,t,n,a){var i=e.createViewModel;return i?i.call(e,a,{element:t,templateNodes:n}):a}(t,e,d,r),u=o.createChildContext(n,void 0,function(e){e.$component=n,e.$componentTemplateNodes=d});s=n,i.applyBindingsToDescendants(u,e)}})},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},i.virtualElements.allowedBindings.component=!0}();var g={class:"className",for:"htmlFor"};i.bindingHandlers.attr={update:function(e,t,n){var a=i.utils.unwrapObservable(t())||{};i.utils.objectForEach(a,function(t,n){var a=!1===(n=i.utils.unwrapObservable(n))||null===n||n===s;a&&e.removeAttribute(t),i.utils.ieVersion<=8&&t in g?(t=g[t],a?e.removeAttribute(t):e[t]=n):a||e.setAttribute(t,n.toString()),"name"===t&&i.utils.setElementName(e,a?"":n.toString())})}},i.bindingHandlers.checked={after:["value","attr"],init:function(e,t,n){function a(){var a=e.checked,o=u?r():a;if(!i.computedContext.isInitial()&&(!c||a)){var s=i.dependencyDetection.ignore(t);l?d!==o?(a&&(i.utils.addOrRemoveItem(s,o,!0),i.utils.addOrRemoveItem(s,d,!1)),d=o):i.utils.addOrRemoveItem(s,o,a):i.expressionRewriting.writeValueToProperty(s,n,"checked",o,!0)}}var r=i.pureComputed(function(){return n.has("checkedValue")?i.utils.unwrapObservable(n.get("checkedValue")):n.has("value")?i.utils.unwrapObservable(n.get("value")):e.value}),o="checkbox"==e.type,c="radio"==e.type;if(o||c){var l=o&&i.utils.unwrapObservable(t())instanceof Array,d=l?r():s,u=c||l;c&&!e.name&&i.bindingHandlers.uniqueName.init(e,function(){return!0}),i.computed(a,null,{disposeWhenNodeIsRemoved:e}),i.utils.registerEventHandler(e,"click",a),i.computed(function(){var n=i.utils.unwrapObservable(t());e.checked=l?i.utils.arrayIndexOf(n,r())>=0:o?n:r()===n},null,{disposeWhenNodeIsRemoved:e})}}},i.expressionRewriting.twoWayBindings.checked=!0,i.bindingHandlers.checkedValue={update:function(e,t){e.value=i.utils.unwrapObservable(t())}};i.bindingHandlers.css={update:function(e,t){var n=i.utils.unwrapObservable(t());null!==n&&"object"==typeof n?i.utils.objectForEach(n,function(t,n){n=i.utils.unwrapObservable(n),i.utils.toggleDomNodeCssClass(e,t,n)}):(n=String(n||""),i.utils.toggleDomNodeCssClass(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,i.utils.toggleDomNodeCssClass(e,n,!0))}},i.bindingHandlers.enable={update:function(e,t){var n=i.utils.unwrapObservable(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},i.bindingHandlers.disable={update:function(e,t){i.bindingHandlers.enable.update(e,function(){return!i.utils.unwrapObservable(t())})}},i.bindingHandlers.event={init:function(e,t,n,a,r){var o=t()||{};i.utils.objectForEach(o,function(o){"string"==typeof o&&i.utils.registerEventHandler(e,o,function(e){var s,c=t()[o];if(c){try{var l=i.utils.makeArray(arguments);a=r.$data,l.unshift(a),s=c.apply(a,l)}finally{!0!==s&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1!==n.get(o+"Bubble")||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},i.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var t=e(),n=i.utils.peekObservable(t);return n&&"number"!=typeof n.length?(i.utils.unwrapObservable(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:i.nativeTemplateEngine.instance}):{foreach:t,templateEngine:i.nativeTemplateEngine.instance}}},init:function(e,t,n,a,r){return i.bindingHandlers.template.init(e,i.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,n,a,r){return i.bindingHandlers.template.update(e,i.bindingHandlers.foreach.makeTemplateValueAccessor(t),n,a,r)}},i.expressionRewriting.bindingRewriteValidators.foreach=!1,i.virtualElements.allowedBindings.foreach=!0;var y="__ko_hasfocusUpdating",x="__ko_hasfocusLastValue";i.bindingHandlers.hasfocus={init:function(e,t,n){var a=function(a){e[y]=!0;var r=e.ownerDocument;if("activeElement"in r){var o;try{o=r.activeElement}catch(e){o=r.body}a=o===e}var s=t();i.expressionRewriting.writeValueToProperty(s,n,"hasfocus",a,!0),e[x]=a,e[y]=!1},r=a.bind(null,!0),o=a.bind(null,!1);i.utils.registerEventHandler(e,"focus",r),i.utils.registerEventHandler(e,"focusin",r),i.utils.registerEventHandler(e,"blur",o),i.utils.registerEventHandler(e,"focusout",o)},update:function(e,t){var n=!!i.utils.unwrapObservable(t());e[y]||e[x]===n||(n?e.focus():e.blur(),i.dependencyDetection.ignore(i.utils.triggerEvent,null,[e,n?"focusin":"focusout"]))}},i.expressionRewriting.twoWayBindings.hasfocus=!0,i.bindingHandlers.hasFocus=i.bindingHandlers.hasfocus,i.expressionRewriting.twoWayBindings.hasFocus=!0,i.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){i.utils.setHtml(e,t())}},a("if"),a("ifnot",!1,!0),a("with",!0,!1,function(e,t){return e.createChildContext(t)});var w={};i.bindingHandlers.options={init:function(e){if("select"!==i.utils.tagNameLower(e))throw new Error("options binding applies only to SELECT elements");for(;e.length>0;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,n){function a(){return i.utils.arrayFilter(e.options,function(e){return e.selected})}function r(e,t,n){var a=typeof t;return"function"==a?t(e):"string"==a?e[t]:n}function o(t,a){if(g&&h)i.selectExtensions.writeValue(e,i.utils.unwrapObservable(n.get("value")),!0);else if(v.length){var r=i.utils.arrayIndexOf(v,i.selectExtensions.readValue(a[0]))>=0;i.utils.setOptionNodeSelectionState(a[0],r),g&&!r&&i.dependencyDetection.ignore(i.utils.triggerEvent,null,[e,"change"])}}var c,l,d=0==e.length,u=e.multiple,p=!d&&u?e.scrollTop:null,f=i.utils.unwrapObservable(t()),h=n.get("valueAllowUnset")&&n.has("value"),m=n.get("optionsIncludeDestroyed"),b={},v=[];h||(u?v=i.utils.arrayMap(a(),i.selectExtensions.readValue):e.selectedIndex>=0&&v.push(i.selectExtensions.readValue(e.options[e.selectedIndex]))),f&&(void 0===f.length&&(f=[f]),l=i.utils.arrayFilter(f,function(e){return m||e===s||null===e||!i.utils.unwrapObservable(e._destroy)}),n.has("optionsCaption")&&null!==(c=i.utils.unwrapObservable(n.get("optionsCaption")))&&c!==s&&l.unshift(w));var g=!1;b.beforeRemove=function(t){e.removeChild(t)};var y=o;n.has("optionsAfterRender")&&"function"==typeof n.get("optionsAfterRender")&&(y=function(e,t){o(0,t),i.dependencyDetection.ignore(n.get("optionsAfterRender"),null,[t[0],e!==w?e:s])}),i.utils.setDomNodeChildrenFromArrayMapping(e,l,function(t,a,o){o.length&&(v=!h&&o[0].selected?[i.selectExtensions.readValue(o[0])]:[],g=!0);var c=e.ownerDocument.createElement("option");if(t===w)i.utils.setTextContent(c,n.get("optionsCaption")),i.selectExtensions.writeValue(c,s);else{var l=r(t,n.get("optionsValue"),t);i.selectExtensions.writeValue(c,i.utils.unwrapObservable(l));var d=r(t,n.get("optionsText"),l);i.utils.setTextContent(c,d)}return[c]},b,y),i.dependencyDetection.ignore(function(){if(h)i.selectExtensions.writeValue(e,i.utils.unwrapObservable(n.get("value")),!0);else{(u?v.length&&a().length<v.length:v.length&&e.selectedIndex>=0?i.selectExtensions.readValue(e.options[e.selectedIndex])!==v[0]:v.length||e.selectedIndex>=0)&&i.utils.triggerEvent(e,"change")}}),i.utils.ensureSelectElementIsRenderedCorrectly(e),p&&Math.abs(p-e.scrollTop)>20&&(e.scrollTop=p)}},i.bindingHandlers.options.optionValueDomDataKey=i.utils.domData.nextKey(),i.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(e,t,n){i.utils.registerEventHandler(e,"change",function(){var a=t(),r=[];i.utils.arrayForEach(e.getElementsByTagName("option"),function(e){e.selected&&r.push(i.selectExtensions.readValue(e))}),i.expressionRewriting.writeValueToProperty(a,n,"selectedOptions",r)})},update:function(e,t){if("select"!=i.utils.tagNameLower(e))throw new Error("values binding applies only to SELECT elements");var n=i.utils.unwrapObservable(t());n&&"number"==typeof n.length&&i.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var t=i.utils.arrayIndexOf(n,i.selectExtensions.readValue(e))>=0;i.utils.setOptionNodeSelectionState(e,t)})}},i.expressionRewriting.twoWayBindings.selectedOptions=!0,i.bindingHandlers.style={update:function(e,t){var n=i.utils.unwrapObservable(t()||{});i.utils.objectForEach(n,function(t,n){null!==(n=i.utils.unwrapObservable(n))&&n!==s&&!1!==n||(n=""),e.style[t]=n})}},i.bindingHandlers.submit={init:function(e,t,n,a,r){if("function"!=typeof t())throw new Error("The value for a submit binding must be a function");i.utils.registerEventHandler(e,"submit",function(n){var a,i=t();try{a=i.call(r.$data,e)}finally{!0!==a&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},i.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){i.utils.setTextContent(e,t())}},i.virtualElements.allowedBindings.text=!0,function(){if(c&&c.navigator)var e=function(e){if(e)return parseFloat(e[1])},t=c.opera&&c.opera.version&&parseInt(c.opera.version()),n=c.navigator.userAgent,a=e(n.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),r=e(n.match(/Firefox\/([^ ]*)/));if(i.utils.ieVersion<10)var l=i.utils.domData.nextKey(),d=i.utils.domData.nextKey(),u=function(e){var t=this.activeElement,n=t&&i.utils.domData.get(t,d);n&&n(e)},p=function(e,t){var n=e.ownerDocument;i.utils.domData.get(n,l)||(i.utils.domData.set(n,l,!0),i.utils.registerEventHandler(n,"selectionchange",u)),i.utils.domData.set(e,d,t)};i.bindingHandlers.textInput={init:function(e,n,c){var l,d,u=e.value,f=function(t){clearTimeout(l),d=l=s;var a=e.value;u!==a&&(o&&t&&(e._ko_textInputProcessedEvent=t.type),u=a,i.expressionRewriting.writeValueToProperty(n(),c,"textInput",a))},h=function(t){if(!l){d=e.value;var n=o?f.bind(e,{type:t.type}):f;l=setTimeout(n,4)}},m=function(){var t=i.utils.unwrapObservable(n());null!==t&&t!==s||(t=""),d===s||t!==d?e.value!==t&&(u=t,e.value=t):setTimeout(m,4)},b=function(t,n){i.utils.registerEventHandler(e,t,n)};o&&i.bindingHandlers.textInput._forceUpdateOn?i.utils.arrayForEach(i.bindingHandlers.textInput._forceUpdateOn,function(e){"after"==e.slice(0,5)?b(e.slice(5),h):b(e,f)}):i.utils.ieVersion<10?(b("propertychange",function(e){"value"===e.propertyName&&f(e)}),8==i.utils.ieVersion&&(b("keyup",f),b("keydown",f)),i.utils.ieVersion>=8&&(p(e,f),b("dragend",h))):(b("input",f),a<5&&"textarea"===i.utils.tagNameLower(e)?(b("keydown",h),b("paste",h),b("cut",h)):t<11?b("keydown",h):r<4&&(b("DOMAutoComplete",f),b("dragdrop",f),b("drop",f))),b("change",f),i.computed(m,null,{disposeWhenNodeIsRemoved:e})}},i.expressionRewriting.twoWayBindings.textInput=!0,i.bindingHandlers.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),i.bindingHandlers.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++i.bindingHandlers.uniqueName.currentIndex;i.utils.setElementName(e,n)}}},i.bindingHandlers.uniqueName.currentIndex=0,i.bindingHandlers.value={after:["options","foreach"],init:function(e,t,n){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var a=["change"],r=n.get("valueUpdate"),o=!1,s=null;r&&("string"==typeof r&&(r=[r]),i.utils.arrayPushAll(a,r),a=i.utils.arrayGetDistinctValues(a));var c=function(){s=null,o=!1;var a=t(),r=i.selectExtensions.readValue(e);i.expressionRewriting.writeValueToProperty(a,n,"value",r)};i.utils.ieVersion&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&"off"!=e.autocomplete&&(!e.form||"off"!=e.form.autocomplete)&&-1==i.utils.arrayIndexOf(a,"propertychange")&&(i.utils.registerEventHandler(e,"propertychange",function(){o=!0}),i.utils.registerEventHandler(e,"focus",function(){o=!1}),i.utils.registerEventHandler(e,"blur",function(){o&&c()})),i.utils.arrayForEach(a,function(t){var n=c;i.utils.stringStartsWith(t,"after")&&(n=function(){s=i.selectExtensions.readValue(e),setTimeout(c,0)},t=t.substring("after".length)),i.utils.registerEventHandler(e,t,n)});var l=function(){var a=i.utils.unwrapObservable(t()),r=i.selectExtensions.readValue(e);if(null===s||a!==s){if(a!==r)if("select"===i.utils.tagNameLower(e)){var o=n.get("valueAllowUnset"),c=function(){i.selectExtensions.writeValue(e,a,o)};c(),o||a===i.selectExtensions.readValue(e)?setTimeout(c,0):i.dependencyDetection.ignore(i.utils.triggerEvent,null,[e,"change"])}else i.selectExtensions.writeValue(e,a)}else setTimeout(l,0)};i.computed(l,null,{disposeWhenNodeIsRemoved:e})}else i.applyBindingAccessorsToNode(e,{checkedValue:t})},update:function(){}},i.expressionRewriting.twoWayBindings.value=!0,i.bindingHandlers.visible={update:function(e,t){var n=i.utils.unwrapObservable(t()),a=!("none"==e.style.display);n&&!a?e.style.display="":!n&&a&&(e.style.display="none")}},function(e){i.bindingHandlers[e]={init:function(t,n,a,r,o){return i.bindingHandlers.event.init.call(this,t,function(){var t={};return t[e]=n(),t},a,r,o)}}}("click"),i.templateEngine=function(){},i.templateEngine.prototype.renderTemplateSource=function(e,t,n,a){throw new Error("Override renderTemplateSource")},i.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(e){throw new Error("Override createJavaScriptEvaluatorBlock")},i.templateEngine.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var n=(t=t||l).getElementById(e);if(!n)throw new Error("Cannot find template with ID "+e);return new i.templateSources.domElement(n)}if(1==e.nodeType||8==e.nodeType)return new i.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},i.templateEngine.prototype.renderTemplate=function(e,t,n,a){var i=this.makeTemplateSource(e,a);return this.renderTemplateSource(i,t,n,a)},i.templateEngine.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},i.templateEngine.prototype.rewriteTemplate=function(e,t,n){var a=this.makeTemplateSource(e,n),i=t(a.text());a.text(i),a.data("isRewritten",!0)},i.exportSymbol("templateEngine",i.templateEngine),i.templateRewriting=function(){function e(e,t,n,a){var r=i.expressionRewriting.parseObjectLiteral(e);!function(e){for(var t=i.expressionRewriting.bindingRewriteValidators,n=0;n<e.length;n++){var a=e[n].key;if(t.hasOwnProperty(a)){var r=t[a];if("function"==typeof r){var o=r(e[n].value);if(o)throw new Error(o)}else if(!r)throw new Error("This template engine does not support the '"+a+"' binding within its templates")}}}(r);var o="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+i.expressionRewriting.preProcessBindings(r,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')";return a.createJavaScriptEvaluatorBlock(o)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return i.templateRewriting.memoizeBindingAttributeSyntax(e,t)},n)},memoizeBindingAttributeSyntax:function(a,i){return a.replace(t,function(){return e(arguments[4],arguments[1],arguments[2],i)}).replace(n,function(){return e(arguments[1],"\x3c!-- ko --\x3e","#comment",i)})},applyMemoizedBindingsToNextSibling:function(e,t){return i.memoization.memoize(function(n,a){var r=n.nextSibling;r&&r.nodeName.toLowerCase()===t&&i.applyBindingAccessorsToNode(r,e,a)})}}}(),i.exportSymbol("__tr_ambtns",i.templateRewriting.applyMemoizedBindingsToNextSibling),function(){i.templateSources={},i.templateSources.domElement=function(e){this.domElement=e},i.templateSources.domElement.prototype.text=function(){var e=i.utils.tagNameLower(this.domElement),t="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.domElement[t];var n=arguments[0];"innerHTML"===t?i.utils.setHtml(this.domElement,n):this.domElement[t]=n};var e=i.utils.domData.nextKey()+"_";i.templateSources.domElement.prototype.data=function(t){if(1===arguments.length)return i.utils.domData.get(this.domElement,e+t);i.utils.domData.set(this.domElement,e+t,arguments[1])};var t=i.utils.domData.nextKey();i.templateSources.anonymousTemplate=function(e){this.domElement=e},i.templateSources.anonymousTemplate.prototype=new i.templateSources.domElement,i.templateSources.anonymousTemplate.prototype.constructor=i.templateSources.anonymousTemplate,i.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var e=i.utils.domData.get(this.domElement,t)||{};return e.textData===s&&e.containerData&&(e.textData=e.containerData.innerHTML),e.textData}var n=arguments[0];i.utils.domData.set(this.domElement,t,{textData:n})},i.templateSources.domElement.prototype.nodes=function(){if(0==arguments.length){return(i.utils.domData.get(this.domElement,t)||{}).containerData}var e=arguments[0];i.utils.domData.set(this.domElement,t,{containerData:e})},i.exportSymbol("templateSources",i.templateSources),i.exportSymbol("templateSources.domElement",i.templateSources.domElement),i.exportSymbol("templateSources.anonymousTemplate",i.templateSources.anonymousTemplate)}(),function(){function e(e,t,n){for(var a,r=e,o=i.virtualElements.nextSibling(t);r&&(a=r)!==o;)n(a,r=i.virtualElements.nextSibling(a))}function t(t,n){if(t.length){var a=t[0],r=t[t.length-1],o=a.parentNode,s=i.bindingProvider.instance,c=s.preprocessNode;if(c){if(e(a,r,function(e,t){var n=e.previousSibling,i=c.call(s,e);i&&(e===a&&(a=i[0]||t),e===r&&(r=i[i.length-1]||n))}),t.length=0,!a)return;a===r?t.push(a):(t.push(a,r),i.utils.fixUpContinuousNodeArray(t,o))}e(a,r,function(e){1!==e.nodeType&&8!==e.nodeType||i.applyBindings(n,e)}),e(a,r,function(e){1!==e.nodeType&&8!==e.nodeType||i.memoization.unmemoizeDomNodeAndDescendants(e,[n])}),i.utils.fixUpContinuousNodeArray(t,o)}}function n(e){return e.nodeType?e:e.length>0?e[0]:null}function a(e,a,r,s,c){c=c||{};var l=(e&&n(e)||r||{}).ownerDocument,d=c.templateEngine||o;i.templateRewriting.ensureTemplateIsRewritten(r,d,l);var u=d.renderTemplate(r,s,c,l);if("number"!=typeof u.length||u.length>0&&"number"!=typeof u[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var p=!1;switch(a){case"replaceChildren":i.virtualElements.setDomNodeChildren(e,u),p=!0;break;case"replaceNode":i.utils.replaceDomNodes(e,u),p=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+a)}return p&&(t(u,s),c.afterRender&&i.dependencyDetection.ignore(c.afterRender,null,[u,s.$data])),u}function r(e,t,n){return i.isObservable(e)?e():"function"==typeof e?e(t,n):e}var o;i.setTemplateEngine=function(e){if(e!=s&&!(e instanceof i.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");o=e},i.renderTemplate=function(e,t,c,l,d){if(((c=c||{}).templateEngine||o)==s)throw new Error("Set a template engine before calling renderTemplate");if(d=d||"replaceChildren",l){var u=n(l),p=function(){return!u||!i.utils.domNodeIsAttachedToDocument(u)},f=u&&"replaceNode"==d?u.parentNode:u;return i.dependentObservable(function(){var o=t&&t instanceof i.bindingContext?t:new i.bindingContext(i.utils.unwrapObservable(t)),s=r(e,o.$data,o),p=a(l,d,s,o,c);"replaceNode"==d&&(u=n(l=p))},null,{disposeWhen:p,disposeWhenNodeIsRemoved:f})}return i.memoization.memoize(function(n){i.renderTemplate(e,t,c,n,"replaceNode")})},i.renderTemplateForEach=function(e,n,o,c,l){var d,u=function(t,n){d=l.createChildContext(t,o.as,function(e){e.$index=n});return a(null,"ignoreTargetNode",r(e,t,d),d,o)},p=function(e,n,a){t(n,d),o.afterRender&&o.afterRender(n,e),d=null};return i.dependentObservable(function(){var e=i.utils.unwrapObservable(n)||[];void 0===e.length&&(e=[e]);var t=i.utils.arrayFilter(e,function(e){return o.includeDestroyed||e===s||null===e||!i.utils.unwrapObservable(e._destroy)});i.dependencyDetection.ignore(i.utils.setDomNodeChildrenFromArrayMapping,null,[c,t,u,o,p])},null,{disposeWhenNodeIsRemoved:c})};var c=i.utils.domData.nextKey();i.bindingHandlers.template={init:function(e,t){var n=i.utils.unwrapObservable(t());if("string"==typeof n||n.name)i.virtualElements.emptyNode(e);else if("nodes"in n){var a=n.nodes||[];if(i.isObservable(a))throw new Error('The "nodes" option must be a plain, non-observable array.');var r=i.utils.moveCleanedNodesToContainerElement(a);new i.templateSources.anonymousTemplate(e).nodes(r)}else{var o=i.virtualElements.childNodes(e);r=i.utils.moveCleanedNodesToContainerElement(o);new i.templateSources.anonymousTemplate(e).nodes(r)}return{controlsDescendantBindings:!0}},update:function(e,t,n,a,r){var o,l,d=t(),u=i.utils.unwrapObservable(d),p=!0,f=null;if("string"==typeof u?(l=d,u={}):(l=u.name,"if"in u&&(p=i.utils.unwrapObservable(u.if)),p&&"ifnot"in u&&(p=!i.utils.unwrapObservable(u.ifnot)),o=i.utils.unwrapObservable(u.data)),"foreach"in u){var h=p&&u.foreach||[];f=i.renderTemplateForEach(l||e,h,u,e,r)}else if(p){var m="data"in u?r.createChildContext(o,u.as):r;f=i.renderTemplate(l||e,m,u,e)}else i.virtualElements.emptyNode(e);!function(e,t){var n=i.utils.domData.get(e,c);n&&"function"==typeof n.dispose&&n.dispose(),i.utils.domData.set(e,c,t&&t.isActive()?t:s)}(e,f)}},i.expressionRewriting.bindingRewriteValidators.template=function(e){var t=i.expressionRewriting.parseObjectLiteral(e);return 1==t.length&&t[0].unknown?null:i.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},i.virtualElements.allowedBindings.template=!0}(),i.exportSymbol("setTemplateEngine",i.setTemplateEngine),i.exportSymbol("renderTemplate",i.renderTemplate),i.utils.findMovesInArrayComparison=function(e,t,n){if(e.length&&t.length){var a,i,r,o,s;for(a=i=0;(!n||a<n)&&(o=e[i]);++i){for(r=0;s=t[r];++r)if(o.value===s.value){o.moved=s.index,s.moved=o.index,t.splice(r,1),a=r=0;break}a+=r}}},i.utils.compareArrays=function(){function e(e,t,n,a,r){var o,s,c,l,d,u=Math.min,p=Math.max,f=[],h=e.length,m=t.length,b=m-h||1,v=h+m+1;for(o=0;o<=h;o++)for(l=c,f.push(c=[]),d=u(m,o+b),s=p(0,o-1);s<=d;s++)if(s)if(o)if(e[o-1]===t[s-1])c[s]=l[s-1];else{var g=l[s]||v,y=c[s-1]||v;c[s]=u(g,y)+1}else c[s]=s+1;else c[s]=o+1;var x,w=[],k=[],S=[];for(o=h,s=m;o||s;)x=f[o][s]-1,s&&x===f[o][s-1]?k.push(w[w.length]={status:n,value:t[--s],index:s}):o&&x===f[o-1][s]?S.push(w[w.length]={status:a,value:e[--o],index:o}):(--s,--o,r.sparse||w.push({status:"retained",value:t[s]}));return i.utils.findMovesInArrayComparison(k,S,10*h),w.reverse()}var t="added",n="deleted";return function(a,i,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},a=a||[],i=i||[],a.length<=i.length?e(a,i,t,n,r):e(i,a,n,t,r)}}(),i.exportSymbol("utils.compareArrays",i.utils.compareArrays),function(){function e(e,t,n,a,r){var o=[],c=i.dependentObservable(function(){var s=t(n,r,i.utils.fixUpContinuousNodeArray(o,e))||[];o.length>0&&(i.utils.replaceDomNodes(o,s),a&&i.dependencyDetection.ignore(a,null,[n,s,r])),o.length=0,i.utils.arrayPushAll(o,s)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return!i.utils.anyDomNodeIsAttachedToDocument(o)}});return{mappedNodes:o,dependentObservable:c.isActive()?c:s}}var t=i.utils.domData.nextKey();i.utils.setDomNodeChildrenFromArrayMapping=function(n,a,r,o,c){function l(e,t){u=m[t],x!==t&&(C[e]=u),u.indexObservable(x++),i.utils.fixUpContinuousNodeArray(u.mappedNodes,n),g.push(u),k.push(u)}function d(e,t){if(e)for(var n=0,a=t.length;n<a;n++)t[n]&&i.utils.arrayForEach(t[n].mappedNodes,function(a){e(a,n,t[n].arrayEntry)})}a=a||[],o=o||{};for(var u,p,f,h=i.utils.domData.get(n,t)===s,m=i.utils.domData.get(n,t)||[],b=i.utils.arrayMap(m,function(e){return e.arrayEntry}),v=i.utils.compareArrays(b,a,o.dontLimitMoves),g=[],y=0,x=0,w=[],k=[],S=[],C=[],I=[],_=0;p=v[_];_++)switch(f=p.moved,p.status){case"deleted":f===s&&((u=m[y]).dependentObservable&&u.dependentObservable.dispose(),w.push.apply(w,i.utils.fixUpContinuousNodeArray(u.mappedNodes,n)),o.beforeRemove&&(S[_]=u,k.push(u))),y++;break;case"retained":l(_,y++);break;case"added":f!==s?l(_,f):(u={arrayEntry:p.value,indexObservable:i.observable(x++)},g.push(u),k.push(u),h||(I[_]=u))}d(o.beforeMove,C),i.utils.arrayForEach(w,o.beforeRemove?i.cleanNode:i.removeNode);_=0;for(var T,E,A=i.virtualElements.firstChild(n);u=k[_];_++){u.mappedNodes||i.utils.extend(u,e(n,r,u.arrayEntry,c,u.indexObservable));for(var M=0;E=u.mappedNodes[M];A=E.nextSibling,T=E,M++)E!==A&&i.virtualElements.insertAfter(n,E,T);!u.initialized&&c&&(c(u.arrayEntry,u.mappedNodes,u.indexObservable),u.initialized=!0)}d(o.beforeRemove,S),d(o.afterMove,C),d(o.afterAdd,I),i.utils.domData.set(n,t,g)}}(),i.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",i.utils.setDomNodeChildrenFromArrayMapping),i.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},i.nativeTemplateEngine.prototype=new i.templateEngine,i.nativeTemplateEngine.prototype.constructor=i.nativeTemplateEngine,i.nativeTemplateEngine.prototype.renderTemplateSource=function(e,t,n,a){var r=(!(i.utils.ieVersion<9)?e.nodes:null)?e.nodes():null;if(r)return i.utils.makeArray(r.cloneNode(!0).childNodes);var o=e.text();return i.utils.parseHtmlFragment(o,a)},i.nativeTemplateEngine.instance=new i.nativeTemplateEngine,i.setTemplateEngine(i.nativeTemplateEngine.instance),i.exportSymbol("nativeTemplateEngine",i.nativeTemplateEngine),function(){i.jqueryTmplTemplateEngine=function(){var e=this.jQueryTmplVersion=function(){if(!u||!u.tmpl)return 0;try{if(u.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,a,i){i=i||l,a=a||{},function(){if(e<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}();var r=t.data("precompiled");if(!r){var o=t.text()||"";o="{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}",r=u.template(null,o),t.data("precompiled",r)}var s=function(e,t,n){return u.tmpl(e,t,n)}(r,[n.$data],u.extend({koBindingContext:n},a.templateOptions));return s.appendTo(i.createElement("div")),u.fragments={},s},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){l.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},e>0&&(u.tmpl.tag.ko_code={open:"__.push($1 || '');"},u.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},i.jqueryTmplTemplateEngine.prototype=new i.templateEngine,i.jqueryTmplTemplateEngine.prototype.constructor=i.jqueryTmplTemplateEngine;var e=new i.jqueryTmplTemplateEngine;e.jQueryTmplVersion>0&&i.setTemplateEngine(e),i.exportSymbol("jqueryTmplTemplateEngine",i.jqueryTmplTemplateEngine)}()})}()}()},function(e,t,n){"use strict";var a=n(83);n.d(t,"a",function(){return a.a});var i=n(369);n.d(t,"b",function(){return i.a});var r=n(69);n.d(t,"c",function(){return r.a});var o=n(370);n.d(t,"d",function(){return o.a});var s=n(144);n.d(t,"e",function(){return s.a});var c=n(38);n.d(t,"f",function(){return c.a});var l=n(50);n.d(t,"g",function(){return l.a});n(372)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={customImport:!0,logErrors:!1,enableCompression:!1,master:"__master__",version:"__version__",storage:localStorage,registry:{}};a.findAllObjs=function(e){return a._findAllObjs(e)},a.findAll=function(e){return a._findAll(e)},a.findAllByName=function(e){return a._findAllByName(e)},a.findFiltered=function(e,t){return a._findFiltered(e,t)},a.findBy=function(e,t,n){return a._findFiltered(e,function(e,a){return e[t]===n})},a.findByPredicates=function(e,t){return a._findFiltered(e,function(e,n){return t.every(function(t,n,a){return t.matches(e)})})},a.findFirstBy=function(e,t,n){return a._findFiltered(e,function(e,a){return e[t]===n})[0]},a.save=function(e,t){a._save(e.__name,t)},a.saveObj=function(e,t,n){a._saveObj(e,t,n)},a.delete=function(e,t){a._delete(e.__name,t)},a.drop=function(e){a._findAllObjs(e).forEach(function(t,n,i){a._delete(e,t.id)})},a.listAll=function(){return a._listAll()},a.dropAll=function(){a.listAll().forEach(function(e,t,n){a.drop(e)})},a.register=function(e,t){return new function(e,t){var n=this;n.model=e,n.inst=t,n.findAll=function(){return a.findAll(n.model)},n.save=function(){a.save(n.model,n.inst)},n.delete=function(){a.delete(n.model,n.inst.__id)}}(e,t)},a.addToRegistry=function(e){a.registry[e.__name]=e},a.migrate=function(e,t){var n=a.getVersion();if(t!==n){e.filter(function(e,i,r){return a._shouldApplyMigration(t,n,e)}).forEach(function(e,t,n){a._applyMigration(e)}),a._setVersion(t)}},a.getVersion=function(){return a.storage[a.version]},a.withTemporaryDataStore=function(e,t){var n=a.storage;a.storage=e;try{t()}catch(e){}a.storage=n},a._setVersion=function(e){return a.storage[a.version]=e},a._findAllObjs=function(e){var t=[],n=[];try{n=JSON.parse(a.storage[e])}catch(e){}for(var i in n)t.push({id:i,data:n[i]});return t},a._findAll=function(e){return a._findAllByName(e.__name)},a._findAllByName=function(e){var t=a._findAllObjs(e);return a._mapModels(t,a.registry[e])},a._findFiltered=function(e,t){var n=a._findAllObjs(e.__name).filter(function(e,n,a){return t(e.data,n)});return a._mapModels(n,e)},a._mapModels=function(e,t){var n=[];if(a.customImport)for(var i=0;i<e.length;i++){var r=new t;try{r.importValues(e[i].data),r.__id=e[i].id}catch(e){var o="Import of "+t.__name+" at index "+i+" failed.";if(!a.logErrors)throw o;console.log(o)}n.push(r)}else n=e;return n},a._save=function(e,t){var n;if(a.customImport)try{n=t.exportValues()}catch(t){var i="Export of "+e+" failed.";if(!a.logErrors)throw i;console.log(i)}else n=JSON.stringify(t);var r;try{r=JSON.parse(a.storage[e])}catch(e){r={}}var o=t.__id;if(void 0===o||null===o){var s=Object.keys(r);s.sort(function(e,t){return parseInt(t)-parseInt(e)}),o=s[0]?parseInt(s[0])+1:0,t.__id=o}a._saveObj(e,o,n)},a._saveObj=function(e,t,n){var i;try{i=JSON.parse(a.storage[e])}catch(e){i={}}i[t]=n;try{a.storage[e]=JSON.stringify(i)}catch(e){var r="Storage quota exceeded.";if(a.enableCompression||(r+=" Try enabling compression for more storage."),!a.logErrors)throw r;console.log(r)}var o;try{o=JSON.parse(a.storage[a.master])}catch(e){o=[]}-1===o.indexOf(e)&&(o.push(e),a.storage[a.master]=JSON.stringify(o))},a._delete=function(e,t){var n=JSON.parse(a.storage[e]);if(Object.keys(n).indexOf(String(t))>-1)delete n[t];else{var i="No such element at index: "+t;if(!a.logErrors)throw i;console.log(i)}a.storage[e]=JSON.stringify(n)},a._listAll=function(){return JSON.parse(a.storage[a.master])},a._applyMigration=function(e){var t={};a._copyObjectUsingKeys(localStorage,t);try{e.migration()}catch(i){a._copyObjectUsingKeys(t,localStorage);var n="Migration failed on "+e.name;throw console.log(n),n}},a._shouldApplyMigration=function(e,t,n){t||(t="0.0.0");var i=a._compareVersions(e,t),r=a._compareVersions(n.version,t),o=!a._compareVersions(n.version,e);return i&&r&&o},a._compareVersions=function(e,t){var n=e.split(".").map(function(e,t,n){return parseInt(e)}),a=t.split(".").map(function(e,t,n){return parseInt(e)});for(var i in n){if(void 0===a[i])return!0;if(n[i]>a[i])return!0}return!1},a._copyObjectUsingKeys=function(e,t){Object.keys(e).forEach(function(n,a,i){t[n]=e[n]})}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){!function(e){"use strict";e(n(0),t)}(function(e,t){"use strict";function n(){for(var e,t,n,a=arguments,i=a.length,r={},o=[];i--;)for(e=(n=a[i]).length;e--;)r[t=n[e]]||(r[t]=1,o.push(t));return o}function a(e,i){var r;for(var o in i)if(i.hasOwnProperty(o)&&i[o])if(r=t.getType(e[o]),o&&e[o]&&"array"!==r&&"string"!==r)a(e[o],i[o]);else{var s="array"===t.getType(e[o])&&"array"===t.getType(i[o]);e[o]=s?n(e[o],i[o]):i[o]}}function i(e,t){var n={};return a(n,e),a(n,t),n}function r(e,t){for(var n=i({},e),a=S.length-1;a>=0;a--){var r=S[a];n[r]&&(n[""]instanceof Object||(n[""]={}),n[""][r]=n[r],delete n[r])}return t&&(n.ignore=o(t.ignore,n.ignore),n.include=o(t.include,n.include),n.copy=o(t.copy,n.copy),n.observe=o(t.observe,n.observe)),n.ignore=o(n.ignore,_.ignore),n.include=o(n.include,_.include),n.copy=o(n.copy,_.copy),n.observe=o(n.observe,_.observe),n.mappedProperties=n.mappedProperties||{},n.copiedProperties=n.copiedProperties||{},n}function o(n,a){return void 0===n?n=[]:"array"!==t.getType(n)&&(n=[n]),void 0===a?a=[]:"array"!==t.getType(a)&&(a=[a]),e.utils.arrayGetDistinctValues(n.concat(a))}function s(t,n){var a=e.dependentObservable;e.dependentObservable=function(n,a,i){i=i||{},n&&"object"==typeof n&&(i=n);var r=i.deferEvaluation,o=i.pure,s=!1;i.deferEvaluation=!0;var c=w(n,a,i);return r||o||(c=function(n){var a=e.dependentObservable;e.dependentObservable=w;var i=e.isWriteableObservable(n);e.dependentObservable=a;var r=w({read:function(){return s||(e.utils.arrayRemoveItem(t,n),s=!0),n.apply(n,arguments)},write:i&&function(e){return n(e)},deferEvaluation:!0});return y&&(r._wrapper=!0),r.__DO=n,r}(c),t.push(c)),c},e.dependentObservable.fn=w.fn,e.computed=e.dependentObservable;var i=n();return e.dependentObservable=a,e.computed=e.dependentObservable,i}function c(n,a,r,o,d,b,y){var w="array"===t.getType(e.utils.unwrapObservable(a));if(b=b||"",t.isMapped(n)){var k=e.utils.unwrapObservable(n)[x];r=i(k,r)}var S={data:a,parent:y||d},I=function(){return r[o]&&r[o].create instanceof Function},_=function(t){return s(v,function(){return e.utils.unwrapObservable(d)instanceof Array?r[o].create({data:t||S.data,parent:S.parent,skip:C}):r[o].create({data:t||S.data,parent:S.parent})})},T=function(){return r[o]&&r[o].update instanceof Function},E=function(t,n){var a={data:n||S.data,parent:S.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(a.observable=t),r[o].update(a)},A=g.get(a);if(A)return A;if(o=o||"",w){var M=[],F=!1,O=function(e){return e};r[o]&&r[o].key&&(O=r[o].key,F=!0),e.isObservable(n)||((n=e.observableArray([])).mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===O(e)};return n.remove(function(e){return t(O(e))})},n.mappedRemoveAll=function(t){var a=p(t,O);return n.remove(function(t){return-1!==e.utils.arrayIndexOf(a,O(t))})},n.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===O(e)};return n.destroy(function(e){return t(O(e))})},n.mappedDestroyAll=function(t){var a=p(t,O);return n.destroy(function(t){return-1!==e.utils.arrayIndexOf(a,O(t))})},n.mappedIndexOf=function(t){var a=p(n(),O),i=O(t);return e.utils.arrayIndexOf(a,i)},n.mappedGet=function(e){return n()[n.mappedIndexOf(e)]},n.mappedCreate=function(t){if(-1!==n.mappedIndexOf(t))throw new Error("There already is an object with the key that you specified.");var a=I()?_(t):t;if(T()){var i=E(a,t);e.isWriteableObservable(a)?a(i):a=i}return n.push(a),a});var P=p(e.utils.unwrapObservable(n),O).sort(),D=p(a,O);F&&D.sort();var N,R,B,L=e.utils.compareArrays(P,D),H={},j=e.utils.unwrapObservable(a),U={},z=!0;for(N=0,R=j.length;N<R;N++){if(void 0===(B=O(j[N]))||B instanceof Object){z=!1;break}U[B]=j[N]}var W,q,V=[],$=0;for(N=0,R=L.length;N<R;N++){B=L[N];var J,G=b+"["+m(N)+"]";switch(B.status){case"added":J=c(void 0,W=z?U[B.value]:u(e.utils.unwrapObservable(a),B.value,O),r,o,n,G,d),I()||(J=e.utils.unwrapObservable(J)),q=l(e.utils.unwrapObservable(a),W,H),J===C?$++:V[q-$]=J,H[q]=!0;break;case"retained":W=z?U[B.value]:u(e.utils.unwrapObservable(a),B.value,O),c(J=u(n,B.value,O),W,r,o,n,G,d),V[q=l(e.utils.unwrapObservable(a),W,H)]=J,H[q]=!0;break;case"deleted":J=u(n,B.value,O)}M.push({event:B.status,item:J})}n(V),r[o]&&r[o].arrayChanged&&e.utils.arrayForEach(M,function(e){r[o].arrayChanged(e.event,e.item)})}else if(h(a)){if(!(n=e.utils.unwrapObservable(n))){if(I()){var Q=_();return T()&&(Q=E(Q)),Q}if(T())return E();n={}}if(T()&&(n=E(n)),g.save(a,n),T())return n;f(a,function(i){var o=b.length?b+"."+m(i):m(i);if(-1===e.utils.arrayIndexOf(r.ignore,o))if(-1===e.utils.arrayIndexOf(r.copy,o)){if("object"!=typeof a[i]&&"array"!==t.getType(a[i])&&r.observe.length>0&&-1===e.utils.arrayIndexOf(r.observe,o))return n[i]=a[i],void(r.copiedProperties[o]=!0);var s=g.get(a[i]),l=c(n[i],a[i],r,i,n,o,n),d=s||l;if(r.observe.length>0&&-1===e.utils.arrayIndexOf(r.observe,o))return n[i]=e.utils.unwrapObservable(d),void(r.copiedProperties[o]=!0);e.isWriteableObservable(n[i])?(d=e.utils.unwrapObservable(d),n[i]()!==d&&n[i](d)):(d=void 0===n[i]?d:e.utils.unwrapObservable(d),n[i]=d),r.mappedProperties[o]=!0}else n[i]=a[i]})}else switch(t.getType(a)){case"function":T()?e.isWriteableObservable(a)?(a(E(a)),n=a):n=E(a):n=a;break;default:if(e.isWriteableObservable(n)){var K;return T()?(K=E(n),n(K),K):(K=e.utils.unwrapObservable(a),n(K),K)}var Y=I()||T();if(n=I()?_():e.observable(e.utils.unwrapObservable(a)),T()&&n(E(n)),Y)return n}return n}function l(e,t,n){for(var a=0,i=e.length;a<i;a++)if(!0!==n[a]&&e[a]===t)return a;return null}function d(n,a){var i;return a&&(i=a(n)),"undefined"===t.getType(i)&&(i=n),e.utils.unwrapObservable(i)}function u(t,n,a){for(var i=0,r=(t=e.utils.unwrapObservable(t)).length;i<r;i++){var o=t[i];if(d(o,a)===n)return o}throw new Error("When calling ko.update*, the key '"+n+"' was not found!")}function p(t,n){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return n?d(e,n):e})}function f(e,n){if("array"===t.getType(e))for(var a=0;a<e.length;a++)n(a);else for(var i in e)e.hasOwnProperty(i)&&n(i)}function h(e){if(null===e)return!1;var n=t.getType(e);return"object"===n||"array"===n}function m(e){return(""+e).replace(/~/g,"~~").replace(/\[/g,"~[").replace(/]/g,"~]").replace(/\./g,"~.")}function b(){var t={},n=function(n){var a;try{a=n}catch(e){a="$$$"}var i=t[a];return t.hasOwnProperty(a)||(i=new function(){var t=[],n=[];this.save=function(a,i){var r=e.utils.arrayIndexOf(t,a);r>=0?n[r]=i:(t.push(a),n.push(i))},this.get=function(a){var i=e.utils.arrayIndexOf(t,a);return i>=0?n[i]:void 0}},t[a]=i),i};this.save=function(e,t){n(e).save(e,t)},this.get=function(e){return n(e).get(e)}}e.mapping=t;var v,g,y=!0,x="__ko_mapping__",w=e.dependentObservable,k=0,S=["create","update","key","arrayChanged"],C={},I={include:["_destroy"],ignore:[],copy:[],observe:[]},_=I;t.isMapped=function(t){var n=e.utils.unwrapObservable(t);return n&&n[x]},t.fromJS=function(e){if(0===arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{k||(v=[],g=new b),k++;var t,n;2===arguments.length&&(arguments[1][x]?n=arguments[1]:t=arguments[1]),3===arguments.length&&(t=arguments[1],n=arguments[2]),n&&(t=i(t,n[x]));var a=c(n,e,t=r(t));if(n&&(a=n),!--k)for(;v.length;){var o=v.pop();o&&(o(),o.__DO.throttleEvaluation=o.throttleEvaluation)}return a[x]=i(a[x],t),a}catch(e){throw k=0,e}},t.fromJSON=function(n){var a=Array.prototype.slice.call(arguments,0);return a[0]=e.utils.parseJson(n),t.fromJS.apply(this,a)},t.toJS=function(n,a){if(_||t.resetDefaultOptions(),0===arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(_.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(_.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(_.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return a=r(a,n[x]),t.visitModel(n,function(t){return e.utils.unwrapObservable(t)},a)},t.toJSON=function(n,a,i,r){var o=t.toJS(n,a);return e.utils.stringifyJson(o,i,r)},t.defaultOptions=function(){if(!(arguments.length>0))return _;_=arguments[0]},t.resetDefaultOptions=function(){_={include:I.include.slice(0),ignore:I.ignore.slice(0),copy:I.copy.slice(0),observe:I.observe.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(n,a,i){(i=i||{}).visitedObjects=i.visitedObjects||new b;var o,s=e.utils.unwrapObservable(n);if(!h(s))return a(n,i.parentName);i=r(i,s[x]),a(n,i.parentName),o="array"===t.getType(s)?[]:{},i.visitedObjects.save(n,o);var c=i.parentName;return f(s,function(n){var r=m(n);if(!i.ignore||-1===e.utils.arrayIndexOf(i.ignore,r)){var l=s[n];if(i.parentName=function(e,n,a){var i=e||"";return"array"===t.getType(n)?e&&(i+="["+m(a)+"]"):(e&&(i+="."),i+=m(a)),i}(c,s,n),-1===e.utils.arrayIndexOf(i.copy,r)&&-1===e.utils.arrayIndexOf(i.include,r)){var d=s[x];if(d){var u=d.mappedProperties;if(u&&!u[r]){var p=d.copiedProperties;if(p&&!p[r]&&"array"!==t.getType(s))return}}}switch(t.getType(e.utils.unwrapObservable(l))){case"object":case"array":case"undefined":var f=i.visitedObjects.get(l);o[n]="undefined"!==t.getType(f)?f:t.visitModel(l,a,i);break;default:o[n]=a(l,i.parentName)}}}),o}})},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(4);n.n(r);i.a.mapping.autoignore||(i.a.mapping.autoignore=function(e,t){var n=t.include||[],a=Object.keys(e);return t.ignore=t.ignore||[],t.ignore=t.ignore.concat(a.filter(function(e,t,a){return-1===n.indexOf(e)})),t})},function(e,t,n){"use strict";var a=n(65);n.d(t,"c",function(){return a.a}),n.d(t,"e",function(){return a.b});var i=n(384);n.d(t,"f",function(){return i.a});var r=n(385);n.d(t,"g",function(){return r.a});var o=n(10);n.d(t,"h",function(){return o.a}),n.d(t,"k",function(){return o.c});var s=n(2);n.d(t,"l",function(){return s.a});n(12);var c=n(386);n.d(t,"m",function(){return c.a});var l=n(387);n.d(t,"n",function(){return l.a});var d=n(159);n.d(t,"a",function(){return d.a}),n.d(t,"b",function(){return d.b}),n.d(t,"d",function(){return d.c}),n.d(t,"i",function(){return d.d}),n.d(t,"j",function(){return d.e}),n.d(t,"o",function(){return d.f}),n.d(t,"p",function(){return d.g})},function(e,t,n){function a(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return o(e,t,n)}var r=n(8),o=r.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=i),a(o,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var a=o(e);return void 0!==t?"string"==typeof n?a.fill(t,n):a.fill(t):a.fill(0),a},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(e){function a(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=r.prototype:(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return o(this,e,t,n)}function o(e,t,n,a){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,a){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,n):new Uint8Array(t,n,a);r.TYPED_ARRAY_SUPPORT?(e=t).__proto__=r.prototype:e=l(e,t);return e}(e,t,n,a):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var a=0|u(t,n),o=(e=i(e,a)).write(t,n);o!==a&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(r.isBuffer(t)){var n=0|d(t.length);return 0===(e=i(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?i(e,0):l(e,t);if("Buffer"===t.type&&N(t.data))return l(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(s(t),e=i(e,t<0?0:0|d(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|d(t.length);e=i(e,n);for(var a=0;a<n;a+=1)e[a]=255&t[a];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function u(e,t){if(r.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(a)return M(e).length;t=(""+t).toLowerCase(),a=!0}}function p(e,t,n){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var a=e.length;(!t||t<0)&&(t=0);(!n||n<0||n>a)&&(n=a);for(var i="",r=t;r<n;++r)i+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[r]);return i}(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return function(e,t,n){var a="";n=Math.min(e.length,n);for(var i=t;i<n;++i)a+=String.fromCharCode(127&e[i]);return a}(this,t,n);case"latin1":case"binary":return function(e,t,n){var a="";n=Math.min(e.length,n);for(var i=t;i<n;++i)a+=String.fromCharCode(e[i]);return a}(this,t,n);case"base64":return function(e,t,n){return 0===t&&n===e.length?P.fromByteArray(e):P.fromByteArray(e.slice(t,n))}(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var a=e.slice(t,n),i="",r=0;r<a.length;r+=2)i+=String.fromCharCode(a[r]+256*a[r+1]);return i}(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function f(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function h(e,t,n,a,i){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=r.from(t,a)),r.isBuffer(t))return 0===t.length?-1:m(e,t,n,a,i);if("number"==typeof t)return t&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,a,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,a,i){function r(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,c=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}var l;if(i){var d=-1;for(l=n;l<s;l++)if(r(e,l)===r(t,-1===d?0:l-d)){if(-1===d&&(d=l),l-d+1===c)return d*o}else-1!==d&&(l-=l-d),d=-1}else for(n+c>s&&(n=s-c),l=n;l>=0;l--){for(var u=!0,p=0;p<c;p++)if(r(e,l+p)!==r(t,p)){u=!1;break}if(u)return l}return-1}function b(e,t,n,a){n=Number(n)||0;var i=e.length-n;a?(a=Number(a))>i&&(a=i):a=i;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");a>r/2&&(a=r/2);for(var o=0;o<a;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function v(e,t,n,a){return O(M(t,e.length-n),e,n,a)}function g(e,t,n,a){return O(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function y(e,t,n,a){return g(e,t,n,a)}function x(e,t,n,a){return O(F(t),e,n,a)}function w(e,t,n,a){return O(function(e,t){for(var n,a,i,r=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),a=n>>8,i=n%256,r.push(i),r.push(a);return r}(t,e.length-n),e,n,a)}function k(e,t,n){n=Math.min(e.length,n);for(var a=[],i=t;i<n;){var r=e[i],o=null,s=r>239?4:r>223?3:r>191?2:1;if(i+s<=n){var c,l,d,u;switch(s){case 1:r<128&&(o=r);break;case 2:128==(192&(c=e[i+1]))&&(u=(31&r)<<6|63&c)>127&&(o=u);break;case 3:c=e[i+1],l=e[i+2],128==(192&c)&&128==(192&l)&&(u=(15&r)<<12|(63&c)<<6|63&l)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:c=e[i+1],l=e[i+2],d=e[i+3],128==(192&c)&&128==(192&l)&&128==(192&d)&&(u=(15&r)<<18|(63&c)<<12|(63&l)<<6|63&d)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,a.push(o>>>10&1023|55296),o=56320|1023&o),a.push(o),i+=s}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=R));return n}(a)}function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,n,a,i,o){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function I(e,t,n,a){t<0&&(t=65535+t+1);for(var i=0,r=Math.min(e.length-n,2);i<r;++i)e[n+i]=(t&255<<8*(a?i:1-i))>>>8*(a?i:1-i)}function _(e,t,n,a){t<0&&(t=4294967295+t+1);for(var i=0,r=Math.min(e.length-n,4);i<r;++i)e[n+i]=t>>>8*(a?i:3-i)&255}function T(e,t,n,a,i,r){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function E(e,t,n,a,i){return i||T(e,0,n,4),D.write(e,t,n,a,23,4),n+4}function A(e,t,n,a,i){return i||T(e,0,n,8),D.write(e,t,n,a,52,8),n+8}function M(e,t){t=t||1/0;for(var n,a=e.length,i=null,r=[],o=0;o<a;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(o+1===a){(t-=3)>-1&&r.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&r.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function F(e){return P.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function O(e,t,n,a){for(var i=0;i<a&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}var P=n(273),D=n(274),N=n(108);t.Buffer=r,t.SlowBuffer=function(e){return+e!=e&&(e=0),r.alloc(+e)},t.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,n){return o(null,e,t,n)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,n){return function(e,t,n,a){return s(t),t<=0?i(e,t):void 0!==n?"string"==typeof a?i(e,t).fill(n,a):i(e,t).fill(n):i(e,t)}(null,e,t,n)},r.allocUnsafe=function(e){return c(null,e)},r.allocUnsafeSlow=function(e){return c(null,e)},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,a=t.length,i=0,o=Math.min(n,a);i<o;++i)if(e[i]!==t[i]){n=e[i],a=t[i];break}return n<a?-1:a<n?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!N(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var a=r.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!r.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,i),i+=o.length}return a},r.byteLength=u,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):p.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,n,a,i){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===i&&(i=this.length),t<0||n>e.length||a<0||i>this.length)throw new RangeError("out of range index");if(a>=i&&t>=n)return 0;if(a>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,a>>>=0,i>>>=0,this===e)return 0;for(var o=i-a,s=n-t,c=Math.min(o,s),l=this.slice(a,i),d=e.slice(t,n),u=0;u<c;++u)if(l[u]!==d[u]){o=l[u],s=d[u];break}return o<s?-1:s<o?1:0},r.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},r.prototype.indexOf=function(e,t,n){return h(this,e,t,n,!0)},r.prototype.lastIndexOf=function(e,t,n){return h(this,e,t,n,!1)},r.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var r=!1;;)switch(a){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return g(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),r=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;r.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var a;if(r.TYPED_ARRAY_SUPPORT)(a=this.subarray(e,t)).__proto__=r.prototype;else{var i=t-e;a=new r(i,void 0);for(var o=0;o<i;++o)a[o]=this[o+e]}return a},r.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var a=this[e],i=1,r=0;++r<t&&(i*=256);)a+=this[e+r]*i;return a},r.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var a=this[e+--t],i=1;t>0&&(i*=256);)a+=this[e+--t]*i;return a},r.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var a=this[e],i=1,r=0;++r<t&&(i*=256);)a+=this[e+r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},r.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var a=t,i=1,r=this[e+--a];a>0&&(i*=256);)r+=this[e+--a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},r.prototype.readInt8=function(e,t){return t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),D.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),D.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),D.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),D.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,a){if(e=+e,t|=0,n|=0,!a){C(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,r=0;for(this[t]=255&e;++r<n&&(i*=256);)this[t+r]=e/i&255;return t+n},r.prototype.writeUIntBE=function(e,t,n,a){if(e=+e,t|=0,n|=0,!a){C(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,r=1;for(this[t+i]=255&e;--i>=0&&(r*=256);)this[t+i]=e/r&255;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):_(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t|=0,!a){var i=Math.pow(2,8*n-1);C(this,e,t,n,i-1,-i)}var r=0,o=1,s=0;for(this[t]=255&e;++r<n&&(o*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/o>>0)-s&255;return t+n},r.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t|=0,!a){var i=Math.pow(2,8*n-1);C(this,e,t,n,i-1,-i)}var r=n-1,o=1,s=0;for(this[t+r]=255&e;--r>=0&&(o*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/o>>0)-s&255;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):_(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return E(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return E(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return A(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return A(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,a){if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var i,o=a-n;if(this===e&&n<t&&t<a)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!r.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},r.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!r.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=r.isBuffer(e)?e:M(new r(e,a).toString()),c=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%c]}return this};var B=/[^+\/0-9A-Za-z-_]/g}).call(t,n(26))},function(e,t){function n(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(a),r=a.sources.map(function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"});return[n].concat(r).concat([i]).join("\n")}return[n].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var a=n(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(a[r]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&a[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){"use strict";t.a=function(e,t){var n=this;n.key=e,n.value=t,n.matches=function(e){return e[n.key]===n.value}},t.b=function(e){this.predicate=e,this.matches=function(t){return!e.matches(t)}},t.c=function(e){var t=this;t.predicates=e,t.matches=function(e){return t.predicates.some(function(t,n,a){return t.matches(e)})}}},function(e,t,n){"use strict";var a=n(89);n.d(t,"a",function(){return a.a});var i=n(49);n.d(t,"b",function(){return i.a});var r=n(156);n.d(t,"c",function(){return r.a});var o=n(84);n.d(t,"d",function(){return o.a});var s=n(152);n.d(t,"e",function(){return s.a});var c=n(58);n.d(t,"f",function(){return c.a});var l=n(163);n.d(t,"g",function(){return l.a});var d=n(96);n.d(t,"h",function(){return d.a});var u=n(158);n.d(t,"i",function(){return u.a});var p=n(91);n.d(t,"j",function(){return p.a});var f=n(143);n.d(t,"k",function(){return f.a});n(391);var h=n(155);n.d(t,"v",function(){return h.a});var m=n(392);n.d(t,"l",function(){return m.a});var b=n(59);n.d(t,"m",function(){return b.a});var v=n(60);n.d(t,"n",function(){return v.a});var g=n(145);n.d(t,"o",function(){return g.a});var y=n(93);n.d(t,"p",function(){return y.a});var x=n(393);n.d(t,"q",function(){return x.a});var w=n(24);n.d(t,"s",function(){return w.a});var k=n(31);n.d(t,"r",function(){return k.a});var S=n(90);n.d(t,"t",function(){return S.a});var C=n(164);n.d(t,"u",function(){return C.a})},function(e,t,n){"use strict";t.a=function(e,t){var n=this;n._sharedService=null,n._sharedServiceType=e,n._sharedServiceConfig=t,n.sharedService=function(){if(!n._sharedService){var e=n._sharedServiceConfig||{};n._sharedService=new n._sharedServiceType(e)}return n._sharedService},n.resetSharedService=function(){n._sharedService=null}}},function(e,t,n){(function(e){!function(e,t){"use strict";function a(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function r(e,t,n){if(r.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}function o(e,t,n){for(var a=0,i=Math.min(e.length,n),r=t;r<i;r++){var o=e.charCodeAt(r)-48;a<<=4,a|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return a}function s(e,t,n,a){for(var i=0,r=Math.min(e.length,n),o=t;o<r;o++){var s=e.charCodeAt(o)-48;i*=a,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}function c(e,t,n){n.negative=t.negative^e.negative;var a=e.length+t.length|0;n.length=a,a=a-1|0;var i=0|e.words[0],r=0|t.words[0],o=i*r,s=67108863&o,c=o/67108864|0;n.words[0]=s;for(var l=1;l<a;l++){for(var d=c>>>26,u=67108863&c,p=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=p;f++){var h=l-f|0;d+=(o=(i=0|e.words[h])*(r=0|t.words[f])+u)/67108864|0,u=67108863&o}n.words[l]=0|u,c=0|d}return 0!==c?n.words[l]=0|c:n.length--,n.strip()}function l(e,t,n){return(new d).mulp(e,t,n)}function d(e,t){this.x=e,this.y=t}function u(e,t){this.name=e,this.p=new r(t,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){u.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function f(){u.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function h(){u.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function m(){u.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function b(e){if("string"==typeof e){var t=r._prime(e);this.m=t.p,this.prime=t}else a(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function v(e){b.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof e?e.exports=r:t.BN=r,r.BN=r,r.wordSize=26;var g;try{g=n(313).Buffer}catch(e){}r.isBN=function(e){return e instanceof r||null!==e&&"object"==typeof e&&e.constructor.wordSize===r.wordSize&&Array.isArray(e.words)},r.max=function(e,t){return e.cmp(t)>0?e:t},r.min=function(e,t){return e.cmp(t)<0?e:t},r.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),a(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},r.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(a(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},r.prototype._initArray=function(e,t,n){if(a("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o,s=0;if("be"===n)for(i=e.length-1,r=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[r]|=o<<s&67108863,this.words[r+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,r++);else if("le"===n)for(i=0,r=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[r]|=o<<s&67108863,this.words[r+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,r++);return this.strip()},r.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var a,i,r=0;for(n=e.length-6,a=0;n>=t;n-=6)i=o(e,n,n+6),this.words[a]|=i<<r&67108863,this.words[a+1]|=i>>>26-r&4194303,(r+=24)>=26&&(r-=26,a++);n+6!==t&&(i=o(e,t,n+6),this.words[a]|=i<<r&67108863,this.words[a+1]|=i>>>26-r&4194303),this.strip()},r.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var a=0,i=1;i<=67108863;i*=t)a++;a--,i=i/t|0;for(var r=e.length-n,o=r%a,c=Math.min(r,r-o)+n,l=0,d=n;d<c;d+=a)l=s(e,d,d+a,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==o){var u=1;for(l=s(e,d,e.length,t),d=0;d<o;d++)u*=t;this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},r.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},r.prototype.clone=function(){var e=new r(null);return this.copy(e),e},r.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(e,t){e=e||10,t=0|t||1;var n;if(16===e||"hex"===e){n="";for(var i=0,r=0,o=0;o<this.length;o++){var s=this.words[o],c=(16777215&(s<<i|r)).toString(16);n=0!==(r=s>>>24-i&16777215)||o!==this.length-1?y[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,o--)}for(0!==r&&(n=r.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=x[e],d=w[e];n="";var u=this.clone();for(u.negative=0;!u.isZero();){var p=u.modn(d).toString(e);n=(u=u.idivn(d)).isZero()?p+n:y[l-p.length]+p+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}a(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(e,t){return a(void 0!==g),this.toArrayLike(g,e,t)},r.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},r.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),r=n||Math.max(1,i);a(i<=r,"byte array longer than desired length"),a(r>0,"Requested array length <= 0"),this.strip();var o,s,c="le"===t,l=new e(r),d=this.clone();if(c){for(s=0;!d.isZero();s++)o=d.andln(255),d.iushrn(8),l[s]=o;for(;s<r;s++)l[s]=0}else{for(s=0;s<r-i;s++)l[s]=0;for(s=0;!d.isZero();s++)o=d.andln(255),d.iushrn(8),l[r-s-1]=o}return l},Math.clz32?r.prototype._countBits=function(e){return 32-Math.clz32(e)}:r.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},r.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},r.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},r.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},r.prototype.ior=function(e){return a(0==(this.negative|e.negative)),this.iuor(e)},r.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},r.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},r.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},r.prototype.iand=function(e){return a(0==(this.negative|e.negative)),this.iuand(e)},r.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},r.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},r.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var a=0;a<n.length;a++)this.words[a]=t.words[a]^n.words[a];if(this!==t)for(;a<t.length;a++)this.words[a]=t.words[a];return this.length=t.length,this.strip()},r.prototype.ixor=function(e){return a(0==(this.negative|e.negative)),this.iuxor(e)},r.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},r.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},r.prototype.inotn=function(e){a("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},r.prototype.notn=function(e){return this.clone().inotn(e)},r.prototype.setn=function(e,t){a("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},r.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var n,a;this.length>e.length?(n=this,a=e):(n=e,a=this);for(var i=0,r=0;r<a.length;r++)t=(0|n.words[r])+(0|a.words[r])+i,this.words[r]=67108863&t,i=t>>>26;for(;0!==i&&r<n.length;r++)t=(0|n.words[r])+i,this.words[r]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;r<n.length;r++)this.words[r]=n.words[r];return this},r.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},r.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;var a,i;n>0?(a=this,i=e):(a=e,i=this);for(var r=0,o=0;o<i.length;o++)r=(t=(0|a.words[o])-(0|i.words[o])+r)>>26,this.words[o]=67108863&t;for(;0!==r&&o<a.length;o++)r=(t=(0|a.words[o])+r)>>26,this.words[o]=67108863&t;if(0===r&&o<a.length&&a!==this)for(;o<a.length;o++)this.words[o]=a.words[o];return this.length=Math.max(this.length,o),a!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(e){return this.clone().isub(e)};var k=function(e,t,n){var a,i,r,o=e.words,s=t.words,c=n.words,l=0,d=0|o[0],u=8191&d,p=d>>>13,f=0|o[1],h=8191&f,m=f>>>13,b=0|o[2],v=8191&b,g=b>>>13,y=0|o[3],x=8191&y,w=y>>>13,k=0|o[4],S=8191&k,C=k>>>13,I=0|o[5],_=8191&I,T=I>>>13,E=0|o[6],A=8191&E,M=E>>>13,F=0|o[7],O=8191&F,P=F>>>13,D=0|o[8],N=8191&D,R=D>>>13,B=0|o[9],L=8191&B,H=B>>>13,j=0|s[0],U=8191&j,z=j>>>13,W=0|s[1],q=8191&W,V=W>>>13,$=0|s[2],J=8191&$,G=$>>>13,Q=0|s[3],K=8191&Q,Y=Q>>>13,X=0|s[4],Z=8191&X,ee=X>>>13,te=0|s[5],ne=8191&te,ae=te>>>13,ie=0|s[6],re=8191&ie,oe=ie>>>13,se=0|s[7],ce=8191&se,le=se>>>13,de=0|s[8],ue=8191&de,pe=de>>>13,fe=0|s[9],he=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var be=(l+(a=Math.imul(u,U))|0)+((8191&(i=(i=Math.imul(u,z))+Math.imul(p,U)|0))<<13)|0;l=((r=Math.imul(p,z))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,a=Math.imul(h,U),i=(i=Math.imul(h,z))+Math.imul(m,U)|0,r=Math.imul(m,z);var ve=(l+(a=a+Math.imul(u,q)|0)|0)+((8191&(i=(i=i+Math.imul(u,V)|0)+Math.imul(p,q)|0))<<13)|0;l=((r=r+Math.imul(p,V)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,a=Math.imul(v,U),i=(i=Math.imul(v,z))+Math.imul(g,U)|0,r=Math.imul(g,z),a=a+Math.imul(h,q)|0,i=(i=i+Math.imul(h,V)|0)+Math.imul(m,q)|0,r=r+Math.imul(m,V)|0;var ge=(l+(a=a+Math.imul(u,J)|0)|0)+((8191&(i=(i=i+Math.imul(u,G)|0)+Math.imul(p,J)|0))<<13)|0;l=((r=r+Math.imul(p,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,a=Math.imul(x,U),i=(i=Math.imul(x,z))+Math.imul(w,U)|0,r=Math.imul(w,z),a=a+Math.imul(v,q)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(g,q)|0,r=r+Math.imul(g,V)|0,a=a+Math.imul(h,J)|0,i=(i=i+Math.imul(h,G)|0)+Math.imul(m,J)|0,r=r+Math.imul(m,G)|0;var ye=(l+(a=a+Math.imul(u,K)|0)|0)+((8191&(i=(i=i+Math.imul(u,Y)|0)+Math.imul(p,K)|0))<<13)|0;l=((r=r+Math.imul(p,Y)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,a=Math.imul(S,U),i=(i=Math.imul(S,z))+Math.imul(C,U)|0,r=Math.imul(C,z),a=a+Math.imul(x,q)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(w,q)|0,r=r+Math.imul(w,V)|0,a=a+Math.imul(v,J)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(g,J)|0,r=r+Math.imul(g,G)|0,a=a+Math.imul(h,K)|0,i=(i=i+Math.imul(h,Y)|0)+Math.imul(m,K)|0,r=r+Math.imul(m,Y)|0;var xe=(l+(a=a+Math.imul(u,Z)|0)|0)+((8191&(i=(i=i+Math.imul(u,ee)|0)+Math.imul(p,Z)|0))<<13)|0;l=((r=r+Math.imul(p,ee)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,a=Math.imul(_,U),i=(i=Math.imul(_,z))+Math.imul(T,U)|0,r=Math.imul(T,z),a=a+Math.imul(S,q)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(C,q)|0,r=r+Math.imul(C,V)|0,a=a+Math.imul(x,J)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(w,J)|0,r=r+Math.imul(w,G)|0,a=a+Math.imul(v,K)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(g,K)|0,r=r+Math.imul(g,Y)|0,a=a+Math.imul(h,Z)|0,i=(i=i+Math.imul(h,ee)|0)+Math.imul(m,Z)|0,r=r+Math.imul(m,ee)|0;var we=(l+(a=a+Math.imul(u,ne)|0)|0)+((8191&(i=(i=i+Math.imul(u,ae)|0)+Math.imul(p,ne)|0))<<13)|0;l=((r=r+Math.imul(p,ae)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,a=Math.imul(A,U),i=(i=Math.imul(A,z))+Math.imul(M,U)|0,r=Math.imul(M,z),a=a+Math.imul(_,q)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(T,q)|0,r=r+Math.imul(T,V)|0,a=a+Math.imul(S,J)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(C,J)|0,r=r+Math.imul(C,G)|0,a=a+Math.imul(x,K)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(w,K)|0,r=r+Math.imul(w,Y)|0,a=a+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Z)|0,r=r+Math.imul(g,ee)|0,a=a+Math.imul(h,ne)|0,i=(i=i+Math.imul(h,ae)|0)+Math.imul(m,ne)|0,r=r+Math.imul(m,ae)|0;var ke=(l+(a=a+Math.imul(u,re)|0)|0)+((8191&(i=(i=i+Math.imul(u,oe)|0)+Math.imul(p,re)|0))<<13)|0;l=((r=r+Math.imul(p,oe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,a=Math.imul(O,U),i=(i=Math.imul(O,z))+Math.imul(P,U)|0,r=Math.imul(P,z),a=a+Math.imul(A,q)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(M,q)|0,r=r+Math.imul(M,V)|0,a=a+Math.imul(_,J)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(T,J)|0,r=r+Math.imul(T,G)|0,a=a+Math.imul(S,K)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(C,K)|0,r=r+Math.imul(C,Y)|0,a=a+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(w,Z)|0,r=r+Math.imul(w,ee)|0,a=a+Math.imul(v,ne)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(g,ne)|0,r=r+Math.imul(g,ae)|0,a=a+Math.imul(h,re)|0,i=(i=i+Math.imul(h,oe)|0)+Math.imul(m,re)|0,r=r+Math.imul(m,oe)|0;var Se=(l+(a=a+Math.imul(u,ce)|0)|0)+((8191&(i=(i=i+Math.imul(u,le)|0)+Math.imul(p,ce)|0))<<13)|0;l=((r=r+Math.imul(p,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,a=Math.imul(N,U),i=(i=Math.imul(N,z))+Math.imul(R,U)|0,r=Math.imul(R,z),a=a+Math.imul(O,q)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(P,q)|0,r=r+Math.imul(P,V)|0,a=a+Math.imul(A,J)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(M,J)|0,r=r+Math.imul(M,G)|0,a=a+Math.imul(_,K)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(T,K)|0,r=r+Math.imul(T,Y)|0,a=a+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,Z)|0,r=r+Math.imul(C,ee)|0,a=a+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(w,ne)|0,r=r+Math.imul(w,ae)|0,a=a+Math.imul(v,re)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(g,re)|0,r=r+Math.imul(g,oe)|0,a=a+Math.imul(h,ce)|0,i=(i=i+Math.imul(h,le)|0)+Math.imul(m,ce)|0,r=r+Math.imul(m,le)|0;var Ce=(l+(a=a+Math.imul(u,ue)|0)|0)+((8191&(i=(i=i+Math.imul(u,pe)|0)+Math.imul(p,ue)|0))<<13)|0;l=((r=r+Math.imul(p,pe)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,a=Math.imul(L,U),i=(i=Math.imul(L,z))+Math.imul(H,U)|0,r=Math.imul(H,z),a=a+Math.imul(N,q)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(R,q)|0,r=r+Math.imul(R,V)|0,a=a+Math.imul(O,J)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(P,J)|0,r=r+Math.imul(P,G)|0,a=a+Math.imul(A,K)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(M,K)|0,r=r+Math.imul(M,Y)|0,a=a+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(T,Z)|0,r=r+Math.imul(T,ee)|0,a=a+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(C,ne)|0,r=r+Math.imul(C,ae)|0,a=a+Math.imul(x,re)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(w,re)|0,r=r+Math.imul(w,oe)|0,a=a+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(g,ce)|0,r=r+Math.imul(g,le)|0,a=a+Math.imul(h,ue)|0,i=(i=i+Math.imul(h,pe)|0)+Math.imul(m,ue)|0,r=r+Math.imul(m,pe)|0;var Ie=(l+(a=a+Math.imul(u,he)|0)|0)+((8191&(i=(i=i+Math.imul(u,me)|0)+Math.imul(p,he)|0))<<13)|0;l=((r=r+Math.imul(p,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,a=Math.imul(L,q),i=(i=Math.imul(L,V))+Math.imul(H,q)|0,r=Math.imul(H,V),a=a+Math.imul(N,J)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(R,J)|0,r=r+Math.imul(R,G)|0,a=a+Math.imul(O,K)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(P,K)|0,r=r+Math.imul(P,Y)|0,a=a+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(M,Z)|0,r=r+Math.imul(M,ee)|0,a=a+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(T,ne)|0,r=r+Math.imul(T,ae)|0,a=a+Math.imul(S,re)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(C,re)|0,r=r+Math.imul(C,oe)|0,a=a+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,le)|0)+Math.imul(w,ce)|0,r=r+Math.imul(w,le)|0,a=a+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,pe)|0)+Math.imul(g,ue)|0,r=r+Math.imul(g,pe)|0;var _e=(l+(a=a+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,me)|0)+Math.imul(m,he)|0))<<13)|0;l=((r=r+Math.imul(m,me)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,a=Math.imul(L,J),i=(i=Math.imul(L,G))+Math.imul(H,J)|0,r=Math.imul(H,G),a=a+Math.imul(N,K)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(R,K)|0,r=r+Math.imul(R,Y)|0,a=a+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(P,Z)|0,r=r+Math.imul(P,ee)|0,a=a+Math.imul(A,ne)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(M,ne)|0,r=r+Math.imul(M,ae)|0,a=a+Math.imul(_,re)|0,i=(i=i+Math.imul(_,oe)|0)+Math.imul(T,re)|0,r=r+Math.imul(T,oe)|0,a=a+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(C,ce)|0,r=r+Math.imul(C,le)|0,a=a+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,pe)|0)+Math.imul(w,ue)|0,r=r+Math.imul(w,pe)|0;var Te=(l+(a=a+Math.imul(v,he)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(g,he)|0))<<13)|0;l=((r=r+Math.imul(g,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,a=Math.imul(L,K),i=(i=Math.imul(L,Y))+Math.imul(H,K)|0,r=Math.imul(H,Y),a=a+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(R,Z)|0,r=r+Math.imul(R,ee)|0,a=a+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(P,ne)|0,r=r+Math.imul(P,ae)|0,a=a+Math.imul(A,re)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(M,re)|0,r=r+Math.imul(M,oe)|0,a=a+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(T,ce)|0,r=r+Math.imul(T,le)|0,a=a+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,pe)|0)+Math.imul(C,ue)|0,r=r+Math.imul(C,pe)|0;var Ee=(l+(a=a+Math.imul(x,he)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(w,he)|0))<<13)|0;l=((r=r+Math.imul(w,me)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,a=Math.imul(L,Z),i=(i=Math.imul(L,ee))+Math.imul(H,Z)|0,r=Math.imul(H,ee),a=a+Math.imul(N,ne)|0,i=(i=i+Math.imul(N,ae)|0)+Math.imul(R,ne)|0,r=r+Math.imul(R,ae)|0,a=a+Math.imul(O,re)|0,i=(i=i+Math.imul(O,oe)|0)+Math.imul(P,re)|0,r=r+Math.imul(P,oe)|0,a=a+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,le)|0)+Math.imul(M,ce)|0,r=r+Math.imul(M,le)|0,a=a+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,pe)|0)+Math.imul(T,ue)|0,r=r+Math.imul(T,pe)|0;var Ae=(l+(a=a+Math.imul(S,he)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(C,he)|0))<<13)|0;l=((r=r+Math.imul(C,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,a=Math.imul(L,ne),i=(i=Math.imul(L,ae))+Math.imul(H,ne)|0,r=Math.imul(H,ae),a=a+Math.imul(N,re)|0,i=(i=i+Math.imul(N,oe)|0)+Math.imul(R,re)|0,r=r+Math.imul(R,oe)|0,a=a+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(P,ce)|0,r=r+Math.imul(P,le)|0,a=a+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,pe)|0)+Math.imul(M,ue)|0,r=r+Math.imul(M,pe)|0;var Me=(l+(a=a+Math.imul(_,he)|0)|0)+((8191&(i=(i=i+Math.imul(_,me)|0)+Math.imul(T,he)|0))<<13)|0;l=((r=r+Math.imul(T,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,a=Math.imul(L,re),i=(i=Math.imul(L,oe))+Math.imul(H,re)|0,r=Math.imul(H,oe),a=a+Math.imul(N,ce)|0,i=(i=i+Math.imul(N,le)|0)+Math.imul(R,ce)|0,r=r+Math.imul(R,le)|0,a=a+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,pe)|0)+Math.imul(P,ue)|0,r=r+Math.imul(P,pe)|0;var Fe=(l+(a=a+Math.imul(A,he)|0)|0)+((8191&(i=(i=i+Math.imul(A,me)|0)+Math.imul(M,he)|0))<<13)|0;l=((r=r+Math.imul(M,me)|0)+(i>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,a=Math.imul(L,ce),i=(i=Math.imul(L,le))+Math.imul(H,ce)|0,r=Math.imul(H,le),a=a+Math.imul(N,ue)|0,i=(i=i+Math.imul(N,pe)|0)+Math.imul(R,ue)|0,r=r+Math.imul(R,pe)|0;var Oe=(l+(a=a+Math.imul(O,he)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(P,he)|0))<<13)|0;l=((r=r+Math.imul(P,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,a=Math.imul(L,ue),i=(i=Math.imul(L,pe))+Math.imul(H,ue)|0,r=Math.imul(H,pe);var Pe=(l+(a=a+Math.imul(N,he)|0)|0)+((8191&(i=(i=i+Math.imul(N,me)|0)+Math.imul(R,he)|0))<<13)|0;l=((r=r+Math.imul(R,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var De=(l+(a=Math.imul(L,he))|0)+((8191&(i=(i=Math.imul(L,me))+Math.imul(H,he)|0))<<13)|0;return l=((r=Math.imul(H,me))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=be,c[1]=ve,c[2]=ge,c[3]=ye,c[4]=xe,c[5]=we,c[6]=ke,c[7]=Se,c[8]=Ce,c[9]=Ie,c[10]=_e,c[11]=Te,c[12]=Ee,c[13]=Ae,c[14]=Me,c[15]=Fe,c[16]=Oe,c[17]=Pe,c[18]=De,0!==l&&(c[19]=l,n.length++),n};Math.imul||(k=c),r.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?k(this,e,t):n<63?c(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var a=0,i=0,r=0;r<n.length-1;r++){var o=i;i=0;for(var s=67108863&a,c=Math.min(r,t.length-1),l=Math.max(0,r-e.length+1);l<=c;l++){var d=r-l,u=(0|e.words[d])*(0|t.words[l]),p=67108863&u;s=67108863&(p=p+s|0),i+=(o=(o=o+(u/67108864|0)|0)+(p>>>26)|0)>>>26,o&=67108863}n.words[r]=s,a=o,o=i}return 0!==a?n.words[r]=a:n.length--,n.strip()}(this,e,t):l(this,e,t)},d.prototype.makeRBT=function(e){for(var t=new Array(e),n=r.prototype._countBits(e)-1,a=0;a<e;a++)t[a]=this.revBin(a,n,e);return t},d.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var a=0,i=0;i<t;i++)a|=(1&e)<<t-i-1,e>>=1;return a},d.prototype.permute=function(e,t,n,a,i,r){for(var o=0;o<r;o++)a[o]=t[e[o]],i[o]=n[e[o]]},d.prototype.transform=function(e,t,n,a,i,r){this.permute(r,e,t,n,a,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),d=0;d<i;d+=s)for(var u=c,p=l,f=0;f<o;f++){var h=n[d+f],m=a[d+f],b=n[d+f+o],v=a[d+f+o],g=u*b-p*v;v=u*v+p*b,b=g,n[d+f]=h+b,a[d+f]=m+v,n[d+f+o]=h-b,a[d+f+o]=m-v,f!==s&&(g=c*u-l*p,p=c*p+l*u,u=g)}},d.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),a=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+a},d.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var a=0;a<n/2;a++){var i=e[a];e[a]=e[n-a-1],e[n-a-1]=i,i=t[a],t[a]=-t[n-a-1],t[n-a-1]=-i}},d.prototype.normalize13b=function(e,t){for(var n=0,a=0;a<t/2;a++){var i=8192*Math.round(e[2*a+1]/t)+Math.round(e[2*a]/t)+n;e[a]=67108863&i,n=i<67108864?0:i/67108864|0}return e},d.prototype.convert13b=function(e,t,n,i){for(var r=0,o=0;o<t;o++)r+=0|e[o],n[2*o]=8191&r,r>>>=13,n[2*o+1]=8191&r,r>>>=13;for(o=2*t;o<i;++o)n[o]=0;a(0===r),a(0==(-8192&r))},d.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},d.prototype.mulp=function(e,t,n){var a=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(a),r=this.stub(a),o=new Array(a),s=new Array(a),c=new Array(a),l=new Array(a),d=new Array(a),u=new Array(a),p=n.words;p.length=a,this.convert13b(e.words,e.length,o,a),this.convert13b(t.words,t.length,l,a),this.transform(o,r,s,c,a,i),this.transform(l,r,d,u,a,i);for(var f=0;f<a;f++){var h=s[f]*d[f]-c[f]*u[f];c[f]=s[f]*u[f]+c[f]*d[f],s[f]=h}return this.conjugate(s,c,a),this.transform(s,c,p,r,a,i),this.conjugate(p,r,a),this.normalize13b(p,a),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},r.prototype.mul=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},r.prototype.mulf=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),l(this,e,t)},r.prototype.imul=function(e){return this.clone().mulTo(e,this)},r.prototype.imuln=function(e){a("number"==typeof e),a(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,r=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=r>>>26,this.words[n]=67108863&r}return 0!==t&&(this.words[n]=t,this.length++),this},r.prototype.muln=function(e){return this.clone().imuln(e)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var a=n/26|0,i=n%26;t[n]=(e.words[a]&1<<i)>>>i}return t}(e);if(0===t.length)return new r(1);for(var n=this,a=0;a<t.length&&0===t[a];a++,n=n.sqr());if(++a<t.length)for(var i=n.sqr();a<t.length;a++,i=i.sqr())0!==t[a]&&(n=n.mul(i));return n},r.prototype.iushln=function(e){a("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,r=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&r,c=(0|this.words[t])-s<<n;this.words[t]=c|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},r.prototype.ishln=function(e){return a(0===this.negative),this.iushln(e)},r.prototype.iushrn=function(e,t,n){a("number"==typeof e&&e>=0);var i;i=t?(t-t%26)/26:0;var r=e%26,o=Math.min((e-r)/26,this.length),s=67108863^67108863>>>r<<r,c=n;if(i-=o,i=Math.max(0,i),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var d=0;for(l=this.length-1;l>=0&&(0!==d||l>=i);l--){var u=0|this.words[l];this.words[l]=d<<26-r|u>>>r,d=u&s}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(e,t,n){return a(0===this.negative),this.iushrn(e,t,n)},r.prototype.shln=function(e){return this.clone().ishln(e)},r.prototype.ushln=function(e){return this.clone().iushln(e)},r.prototype.shrn=function(e){return this.clone().ishrn(e)},r.prototype.ushrn=function(e){return this.clone().iushrn(e)},r.prototype.testn=function(e){a("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return!1;return!!(this.words[n]&i)},r.prototype.imaskn=function(e){a("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(a(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},r.prototype.maskn=function(e){return this.clone().imaskn(e)},r.prototype.iaddn=function(e){return a("number"==typeof e),a(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},r.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},r.prototype.isubn=function(e){if(a("number"==typeof e),a(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},r.prototype.addn=function(e){return this.clone().iaddn(e)},r.prototype.subn=function(e){return this.clone().isubn(e)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(e,t,n){var i,r=e.length+n;this._expand(r);var o,s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(a(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},r.prototype._wordDiv=function(e,t){var n=this.length-e.length,a=this.clone(),i=e,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),a.iushln(n),o=0|i.words[i.length-1]);var s,c=a.length-i.length;if("mod"!==t){(s=new r(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var d=a.clone()._ishlnsubmul(i,1,c);0===d.negative&&(a=d,s&&(s.words[c]=1));for(var u=c-1;u>=0;u--){var p=67108864*(0|a.words[i.length+u])+(0|a.words[i.length+u-1]);for(p=Math.min(p/o|0,67108863),a._ishlnsubmul(i,p,u);0!==a.negative;)p--,a.negative=0,a._ishlnsubmul(i,1,u),a.isZero()||(a.negative^=1);s&&(s.words[u]=p)}return s&&s.strip(),a.strip(),"div"!==t&&0!==n&&a.iushrn(n),{div:s||null,mod:a}},r.prototype.divmod=function(e,t,n){if(a(!e.isZero()),this.isZero())return{div:new r(0),mod:new r(0)};var i,o,s;return 0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new r(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new r(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new r(this.modn(e.words[0]))}:this._wordDiv(e,t)},r.prototype.div=function(e){return this.divmod(e,"div",!1).div},r.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},r.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},r.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,a=e.ushrn(1),i=e.andln(1),r=n.cmp(a);return r<0||1===i&&0===r?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},r.prototype.modn=function(e){a(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},r.prototype.idivn=function(e){a(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},r.prototype.divn=function(e){return this.clone().idivn(e)},r.prototype.egcd=function(e){a(0===e.negative),a(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new r(1),o=new r(0),s=new r(0),c=new r(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var d=n.clone(),u=t.clone();!t.isZero();){for(var p=0,f=1;0==(t.words[0]&f)&&p<26;++p,f<<=1);if(p>0)for(t.iushrn(p);p-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(d),o.isub(u)),i.iushrn(1),o.iushrn(1);for(var h=0,m=1;0==(n.words[0]&m)&&h<26;++h,m<<=1);if(h>0)for(n.iushrn(h);h-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(d),c.isub(u)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),o.isub(c)):(n.isub(t),s.isub(i),c.isub(o))}return{a:s,b:c,gcd:n.iushln(l)}},r.prototype._invmp=function(e){a(0===e.negative),a(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new r(1),o=new r(0),s=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var d=0,u=1;0==(n.words[0]&u)&&d<26;++d,u<<=1);if(d>0)for(n.iushrn(d);d-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(o)):(n.isub(t),o.isub(i))}var p;return(p=0===t.cmpn(1)?i:o).cmpn(0)<0&&p.iadd(e),p},r.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var a=0;t.isEven()&&n.isEven();a++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var r=t;t=n,n=r}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(a)},r.prototype.invm=function(e){return this.egcd(e).a.umod(e)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(e){return this.words[0]&e},r.prototype.bincn=function(e){a("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var r=i,o=n;0!==r&&o<this.length;o++){var s=0|this.words[o];r=(s+=r)>>>26,s&=67108863,this.words[o]=s}return 0!==r&&(this.words[o]=r,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(e){var t=e<0;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var n;if(this.length>1)n=1;else{t&&(e=-e),a(e<=67108863,"Number is too big");var i=0|this.words[0];n=i===e?0:i<e?-1:1}return 0!==this.negative?0|-n:n},r.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},r.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var a=0|this.words[n],i=0|e.words[n];if(a!==i){a<i?t=-1:a>i&&(t=1);break}}return t},r.prototype.gtn=function(e){return 1===this.cmpn(e)},r.prototype.gt=function(e){return 1===this.cmp(e)},r.prototype.gten=function(e){return this.cmpn(e)>=0},r.prototype.gte=function(e){return this.cmp(e)>=0},r.prototype.ltn=function(e){return-1===this.cmpn(e)},r.prototype.lt=function(e){return-1===this.cmp(e)},r.prototype.lten=function(e){return this.cmpn(e)<=0},r.prototype.lte=function(e){return this.cmp(e)<=0},r.prototype.eqn=function(e){return 0===this.cmpn(e)},r.prototype.eq=function(e){return 0===this.cmp(e)},r.red=function(e){return new b(e)},r.prototype.toRed=function(e){return a(!this.red,"Already a number in reduction context"),a(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},r.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(e){return this.red=e,this},r.prototype.forceRed=function(e){return a(!this.red,"Already a number in reduction context"),this._forceRed(e)},r.prototype.redAdd=function(e){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},r.prototype.redIAdd=function(e){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},r.prototype.redSub=function(e){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},r.prototype.redISub=function(e){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},r.prototype.redShl=function(e){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},r.prototype.redMul=function(e){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},r.prototype.redIMul=function(e){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},r.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(e){return a(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var S={k256:null,p224:null,p192:null,p25519:null};u.prototype._tmp=function(){var e=new r(null);return e.words=new Array(Math.ceil(this.n/13)),e},u.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var a=t<this.n?-1:n.ucmp(this.p);return 0===a?(n.words[0]=0,n.length=1):a>0?n.isub(this.p):n.strip(),n},u.prototype.split=function(e,t){e.iushrn(this.n,0,t)},u.prototype.imulK=function(e){return e.imul(this.k)},i(p,u),p.prototype.split=function(e,t){for(var n=Math.min(e.length,9),a=0;a<n;a++)t.words[a]=e.words[a];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,a=10;a<e.length;a++){var r=0|e.words[a];e.words[a-10]=(4194303&r)<<4|i>>>22,i=r}i>>>=22,e.words[a-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},p.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var a=0|e.words[n];t+=977*a,e.words[n]=67108863&t,t=64*a+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(f,u),i(h,u),i(m,u),m.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var a=19*(0|e.words[n])+t,i=67108863&a;a>>>=26,e.words[n]=i,t=a}return 0!==t&&(e.words[e.length++]=t),e},r._prime=function(e){if(S[e])return S[e];var t;if("k256"===e)t=new p;else if("p224"===e)t=new f;else if("p192"===e)t=new h;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new m}return S[e]=t,t},b.prototype._verify1=function(e){a(0===e.negative,"red works only with positives"),a(e.red,"red works only with red numbers")},b.prototype._verify2=function(e,t){a(0==(e.negative|t.negative),"red works only with positives"),a(e.red&&e.red===t.red,"red works only with red numbers")},b.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},b.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},b.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},b.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},b.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},b.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},b.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},b.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},b.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},b.prototype.isqr=function(e){return this.imul(e,e.clone())},b.prototype.sqr=function(e){return this.mul(e,e)},b.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(a(t%2==1),3===t){var n=this.m.add(new r(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);a(!i.isZero());var s=new r(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new r(2*d*d).toRed(this);0!==this.pow(d,l).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,i),p=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),h=o;0!==f.cmp(s);){for(var m=f,b=0;0!==m.cmp(s);b++)m=m.redSqr();a(b<h);var v=this.pow(u,new r(1).iushln(h-b-1));p=p.redMul(v),u=v.redSqr(),f=f.redMul(u),h=b}return p},b.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},b.prototype.pow=function(e,t){if(t.isZero())return new r(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=e;for(var a=2;a<n.length;a++)n[a]=this.mul(n[a-1],e);var i=n[0],o=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),a=t.length-1;a>=0;a--){for(var l=t.words[a],d=c-1;d>=0;d--){var u=l>>d&1;i!==n[0]&&(i=this.sqr(i)),0!==u||0!==o?(o<<=1,o|=u,(4===++s||0===a&&0===d)&&(i=this.mul(i,n[o]),s=0,o=0)):s=0}c=26}return i},b.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},b.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},r.mont=function(e){return new v(e)},i(v,b),v.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},v.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},v.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(a).iushrn(this.shift),r=i;return i.cmp(this.m)>=0?r=i.isub(this.m):i.cmpn(0)<0&&(r=i.iadd(this.m)),r._forceRed(this)},v.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new r(0)._forceRed(this);var n=e.mul(t),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(a).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},v.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}).call(t,n(128)(e))},function(e,t,n){"use strict";var a=n(0),i=n.n(a);i.a.bindingHandlers.modal={init:function(e,t,n){var a=t(),r=i.a.utils.unwrapObservable(a.open),o=i.a.utils.unwrapObservable(a.onopen),s=i.a.utils.unwrapObservable(a.onclose);i.a.bindingHandlers.modal.toggle(r,e),o&&$(e).on("shown.bs.modal",o),s&&$(e).on("hidden.bs.modal",s)},update:function(e,t){var n=t(),a=i.a.utils.unwrapObservable(n.open);i.a.bindingHandlers.modal.toggle(a,e)},toggle:function(e,t){var n=e?"show":"hide";$(t).modal(n)}}},function(e,t,n){"use strict";var a=n(17);n.d(t,"a",function(){return a.a}),n.d(t,"k",function(){return a.e}),n.d(t,"t",function(){return a.l}),n.d(t,"x",function(){return a.q}),n.d(t,"y",function(){return a.r});var i=n(11);n.d(t,"c",function(){return i.c}),n.d(t,"d",function(){return i.d}),n.d(t,"e",function(){return i.e}),n.d(t,"l",function(){return i.g}),n.d(t,"m",function(){return i.i}),n.d(t,"o",function(){return i.l}),n.d(t,"p",function(){return i.n}),n.d(t,"s",function(){return i.o}),n.d(t,"u",function(){return i.q}),n.d(t,"v",function(){return i.r}),n.d(t,"w",function(){return i.s}),n.d(t,"A",function(){return i.v});var r=n(25);n.d(t,"b",function(){return r.a}),n.d(t,"f",function(){return r.c}),n.d(t,"g",function(){return r.d}),n.d(t,"h",function(){return r.e}),n.d(t,"i",function(){return r.f}),n.d(t,"j",function(){return r.g}),n.d(t,"n",function(){return r.p}),n.d(t,"q",function(){return r.q}),n.d(t,"r",function(){return r.r}),n.d(t,"z",function(){return r.u})},function(e,t,n){"use strict";var a=t;a.version=n(319).version,a.utils=n(320),a.rand=n(130),a.curve=n(56),a.curves=n(325),a.ec=n(333),a.eddsa=n(337)},function(e,t,n){"use strict";var a=n(28);n.d(t,"a",function(){return a.a});var i=n(377);n.d(t,"b",function(){return i.a});var r=n(378);n.d(t,"c",function(){return r.a});var o=n(379);n.d(t,"f",function(){return o.a});var s=n(105);n.d(t,"e",function(){return s.a});var c=n(104);n.d(t,"d",function(){return c.a});var l=n(86);n.d(t,"g",function(){return l.a});var d=n(146);n.d(t,"i",function(){return d.a});var u=n(87);n.d(t,"h",function(){return u.a});var p=n(63);n.d(t,"j",function(){return p.a});var f=n(106);n.d(t,"k",function(){return f.a});var h=n(61);n.d(t,"l",function(){return h.a});var m=n(380);n.d(t,"m",function(){return m.a});var b=n(147);n.d(t,"n",function(){return b.a});var v=n(148);n.d(t,"o",function(){return v.a});var g=n(88);n.d(t,"p",function(){return g.a});var y=n(107);n.d(t,"q",function(){return y.a});var x=n(381);n.d(t,"r",function(){return x.a})},function(e,t){e.exports=jQuery},function(e,t,n){e.exports=n.p+"2ca61b76e22053571dd8611e5aac4900.png"},function(e,t,n){"use strict";var a=n(167);n.d(t,"a",function(){return a.a}),n.d(t,"e",function(){return a.b}),n.d(t,"h",function(){return a.c}),n.d(t,"i",function(){return a.d}),n.d(t,"m",function(){return a.e}),n.d(t,"p",function(){return a.f}),n.d(t,"q",function(){return a.g});var i=n(6);n.d(t,"b",function(){return i.a}),n.d(t,"c",function(){return i.d}),n.d(t,"d",function(){return i.e}),n.d(t,"f",function(){return i.f}),n.d(t,"g",function(){return i.g}),n.d(t,"j",function(){return i.i}),n.d(t,"k",function(){return i.j}),n.d(t,"l",function(){return i.l}),n.d(t,"n",function(){return i.m}),n.d(t,"o",function(){return i.n}),n.d(t,"r",function(){return i.o}),n.d(t,"s",function(){return i.p});n(462)},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){(function(a){var i;!function(r){"use strict";function o(e,t){var n=t||0,a=f;return a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]}function s(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new p(16):null,e=null);var i=(e=e||{}).random||(e.rng||c)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var r=0;r<16;r++)t[a+r]=i[r];return t||o(i)}var c,l,d,u;r?function(){var e=r.crypto||r.msCrypto;if(!c&&e&&e.getRandomValues)try{var t=new Uint8Array(16);u=c=function(){return e.getRandomValues(t),t},c()}catch(e){}if(!c){var n=new Array(16);l=c=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}():function(){try{var e=n(275).randomBytes;d=c=e&&function(){return e(16)},c()}catch(e){}}();for(var p="function"==typeof a?a:Array,f=[],h={},m=0;m<256;m++)f[m]=(m+256).toString(16).substr(1),h[f[m]]=m;var b=c(),v=[1|b[0],b[1],b[2],b[3],b[4],b[5]],g=16383&(b[6]<<8|b[7]),y=0,x=0,w=s;w.v1=function(e,t,n){var a=t&&n||0,i=t||[],r=null!=(e=e||{}).clockseq?e.clockseq:g,s=null!=e.msecs?e.msecs:(new Date).getTime(),c=null!=e.nsecs?e.nsecs:x+1,l=s-y+(c-x)/1e4;if(l<0&&null==e.clockseq&&(r=r+1&16383),(l<0||s>y)&&null==e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=s,x=c,g=r;var d=(1e4*(268435455&(s+=122192928e5))+c)%4294967296;i[a++]=d>>>24&255,i[a++]=d>>>16&255,i[a++]=d>>>8&255,i[a++]=255&d;var u=s/4294967296*1e4&268435455;i[a++]=u>>>8&255,i[a++]=255&u,i[a++]=u>>>24&15|16,i[a++]=u>>>16&255,i[a++]=r>>>8|128,i[a++]=255&r;for(var p=e.node||v,f=0;f<6;f++)i[a+f]=p[f];return t||o(i)},w.v4=s,w.parse=function(e,t,n){var a=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[a+i++]=h[e])});i<16;)t[a+i++]=0;return t},w.unparse=o,w.BufferClass=p,w._rng=c,w._mathRNG=l,w._nodeRNG=d,w._whatwgRNG=u,void 0!==e&&e.exports?e.exports=w:void 0===(i=function(){return w}.call(t,n,t,e))||(e.exports=i)}("undefined"!=typeof window?window:null)}).call(t,n(8).Buffer)},function(e,t,n){"use strict";function a(e,t,n){"function"==typeof t?n(function(e){var n=new t(e);return"load"in n&&n.load(),n}):"viewModel"in t?a(e,t.viewModel,n):n(null)}var i=n(0);const r={loadViewModel:function(e,t,n){a(function(e){return function(t){throw new Error("Component '"+e+"': "+t)}}(e),t,n)}};n.n(i).a.components.loaders.unshift(r)},function(e,t,n){"use strict";function a(e,t){this.value=e,this.weight=t}function i(){return"health"}function r(){return"magic"}function o(){return"tracked"}t.a=a,t.b=i,t.c=r,t.d=o;var s=n(1);a.processStatusWeights=function(e){var t=0;return e.forEach(function(e,n,a){t+=e.value*e.weight}),t},a.determinePhraseAndColor=function(e,t){var n=[];"health"===e?n=s.c.statusPhraseWordMap.health:"magic"===e?n=s.c.statusPhraseWordMap.magic:"tracked"===e&&(n=s.c.statusPhraseWordMap.tracked);for(var a=0;a<n.length;a++){if(a+1==n.length)return n[a];var i=n[a];if(t>n[a+1].value&&t<=i.value)return n[a]}}},function(e,t,n){"use strict";var a=n(402);n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return a.b}),n.d(t,"e",function(){return a.c}),n.d(t,"f",function(){return a.d}),n.d(t,"g",function(){return a.e}),n.d(t,"h",function(){return a.f}),n.d(t,"i",function(){return a.g}),n.d(t,"j",function(){return a.h}),n.d(t,"k",function(){return a.i}),n.d(t,"l",function(){return a.j}),n.d(t,"m",function(){return a.k}),n.d(t,"n",function(){return a.l}),n.d(t,"o",function(){return a.m}),n.d(t,"p",function(){return a.n}),n.d(t,"q",function(){return a.o}),n.d(t,"r",function(){return a.p}),n.d(t,"s",function(){return a.q}),n.d(t,"t",function(){return a.r}),n.d(t,"u",function(){return a.s});var i=n(85);n.d(t,"a",function(){return i.a});var r=n(419);n.d(t,"b",function(){return r.a});n(94)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function i(e){return 1===e.length?"0"+e:e}function r(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var o=n(21),s=n(3);t.inherits=s,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),a=0;a<e.length;a+=2)n.push(parseInt(e[a]+e[a+1],16))}else for(var a=0;a<e.length;a++){var i=e.charCodeAt(a),r=i>>8,o=255&i;r?n.push(r,o):n.push(o)}else for(a=0;a<e.length;a++)n[a]=0|e[a];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",i=0;i<e.length;i++){var o=e[i];"little"===t&&(o=a(o)),n+=r(o.toString(16))}return n},t.zero2=i,t.zero8=r,t.join32=function(e,t,n,a){var i=n-t;o(i%4==0);for(var r=new Array(i/4),s=0,c=t;s<r.length;s++,c+=4){var l;l="big"===a?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],r[s]=l>>>0}return r},t.split32=function(e,t){for(var n=new Array(4*e.length),a=0,i=0;a<e.length;a++,i+=4){var r=e[a];"big"===t?(n[i]=r>>>24,n[i+1]=r>>>16&255,n[i+2]=r>>>8&255,n[i+3]=255&r):(n[i+3]=r>>>24,n[i+2]=r>>>16&255,n[i+1]=r>>>8&255,n[i]=255&r)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,a){return e+t+n+a>>>0},t.sum32_5=function(e,t,n,a,i){return e+t+n+a+i>>>0},t.sum64=function(e,t,n,a){var i=e[t],r=a+e[t+1]>>>0,o=(r<a?1:0)+n+i;e[t]=o>>>0,e[t+1]=r},t.sum64_hi=function(e,t,n,a){return(t+a>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,a){return t+a>>>0},t.sum64_4_hi=function(e,t,n,a,i,r,o,s){var c=0,l=t;return c+=(l=l+a>>>0)<t?1:0,c+=(l=l+r>>>0)<r?1:0,e+n+i+o+(c+=(l=l+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,a,i,r,o,s){return t+a+r+s>>>0},t.sum64_5_hi=function(e,t,n,a,i,r,o,s,c,l){var d=0,u=t;return d+=(u=u+a>>>0)<t?1:0,d+=(u=u+r>>>0)<r?1:0,d+=(u=u+s>>>0)<s?1:0,e+n+i+o+c+(d+=(u=u+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,n,a,i,r,o,s,c,l){return t+a+r+s+l>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","str","dex","con","int","wis","cha"]},e.characterId=s.a.observable(null),e.str=s.a.observable(null),e.strModifier=s.a.pureComputed(function(){return l(e.str())}),e.dex=s.a.observable(null),e.dexModifier=s.a.pureComputed(function(){return l(e.dex())}),e.con=s.a.observable(null),e.conModifier=s.a.pureComputed(function(){return l(e.con())}),e.int=s.a.observable(null),e.intModifier=s.a.pureComputed(function(){return l(e.int())}),e.wis=s.a.observable(null),e.wisModifier=s.a.pureComputed(function(){return l(e.wis())}),e.cha=s.a.observable(null),e.chaModifier=s.a.pureComputed(function(){return l(e.cha())}),e.modifierFor=function(t){var n=null;switch(t.toLowerCase()){case"str":n=e.str();break;case"dex":n=e.dex();break;case"con":n=e.con();break;case"int":n=e.int();break;case"wis":n=e.wis();break;case"cha":n=e.cha()}return c(n)},e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()}}n.d(t,"b",function(){return c}),t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o),c=function(e){return function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(e)?Math.floor((e-10)/2):null},l=function(e){return null===e||""===e?"":(e=c(e),e=e>=0?"+ "+e:"- "+Math.abs(e))};a.__name="AbilityScores",r.a.addToRegistry(a)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function r(){h&&p&&(h=!1,p.length?f=p.concat(f):m=-1,f.length&&o())}function o(){if(!h){var e=i(r);h=!0;for(var t=f.length;t;){for(p=f,f=[];++m<t;)p&&p[m].run();m=-1,t=f.length}p=null,h=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===a||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,d,u=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:a}catch(e){d=a}}();var p,f=[],h=!1,m=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new s(e,t)),1!==f.length||h||i(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=c,u.addListener=c,u.once=c,u.off=c,u.removeListener=c,u.removeAllListeners=c,u.emit=c,u.prependListener=c,u.prependOnceListener=c,u.listeners=function(e){return[]},u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,n){function a(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var i=n(7).Buffer,r=n(72).Transform,o=n(76).StringDecoder;n(3)(a,r),a.prototype.update=function(e,t,n){"string"==typeof e&&(e=i.from(e,t));var a=this._update(e);return this.hashMode?this:(n&&(a=this._toString(a,n)),a)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var a;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){a=e}finally{n(a)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var a=this._decoder.write(e);return n&&(a+=this._decoder.end()),a},e.exports=a},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={ignore:["clear","ps","importValues","exportValues","save","mapping"]},e.characterId=s.a.observable(null),e.identifier=s.a.observable(),e.type=s.a.observable("default"),e.name=s.a.observable(),e.value=s.a.observable(0),e.clear=function(){var t=(new a).exportValues();s.a.mapping.fromJS(t,e.mapping,e)},e.importValues=function(t){s.a.mapping.fromJS(t,e.mapping,e)},e.exportValues=function(){return s.a.mapping.toJS(e,e.mapping)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="Status",r.a.addToRegistry(a)},function(e,t,n){var a,i,r;!function(o){i=[n(18)],void 0===(r="function"==typeof(a=o)?a.apply(t,i):a)||(e.exports=r)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})},function(e,t,n){e.exports=n.p+"7b9776076d5fceef4993b55c9383dedd.gif"},function(e,t,n){"use strict";function a(e){if(!(this instanceof a))return new a(e);l.call(this,e),d.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||o(r,this)}function r(e){e.end()}var o=n(53),s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=a;var c=n(44);c.inherits=n(3);var l=n(110),d=n(75);c.inherits(a,l);for(var u=s(d.prototype),p=0;p<u.length;p++){var f=u[p];a.prototype[f]||(a.prototype[f]=d.prototype[f])}Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),a.prototype._destroy=function(e,t){this.push(null),this.end(),o(t,e)}},function(e,t){e.exports=Strophe},function(e,t,n){"use strict";(function(t,a){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function r(e,n){if(e>65536)throw new Error("requested too many random bytes");var i=new t.Uint8Array(e);e>0&&s.getRandomValues(i);var r=o.from(i.buffer);return"function"==typeof n?a.nextTick(function(){n(null,r)}):r}var o=n(7).Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=r:e.exports=i}).call(t,n(26),n(29))},function(e,t,n){function a(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}var i=n(7).Buffer;a.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var n=this._block,a=this._blockSize,r=e.length,o=this._len,s=0;s<r;){for(var c=o%a,l=Math.min(r-s,a-c),d=0;d<l;d++)n[c+d]=e[s+d];s+=l,(o+=l)%a==0&&this._update(n)}return this._len+=r,this},a.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var a=4294967295&n,i=(n-a)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(a,this._blockSize-4)}this._update(this._block);var r=this._hash();return e?r.toString(e):r},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=a},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(366),i=(n.n(a),{global:{init:new a.Signal,load:new a.Signal,save:new a.Signal,unload:new a.Signal},authentication:{loggedIn:new a.Signal},user:{exists:new a.Signal},userNotification:{infoNotification:new a.Signal,successNotification:new a.Signal,warningNotification:new a.Signal,dangerNotification:new a.Signal},characterManager:{changing:new a.Signal,changed:new a.Signal},events:{shortRest:new a.Signal,longRest:new a.Signal},actionsToolbar:{toggle:new a.Signal},abilityScores:{changed:new a.Signal,intelligence:{changed:new a.Signal},dexterity:{changed:new a.Signal}},armor:{changed:new a.Signal},armorClass:{changed:new a.Signal},campaign:{changed:new a.Signal},characters:{changed:new a.Signal,allRemoved:new a.Signal},chat:{message:new a.Signal,iq:new a.Signal,presence:new a.Signal,room:new a.Signal,member:{joined:new a.Signal,left:new a.Signal}},exhibit:{changed:new a.Signal,toggle:new a.Signal},feat:{changed:new a.Signal},feature:{changed:new a.Signal},health:{changed:new a.Signal,maxHitPoints:{changed:new a.Signal},tempHitPoints:{changed:new a.Signal},damage:{changed:new a.Signal}},hitDice:{changed:new a.Signal},hitDiceType:{changed:new a.Signal},item:{changed:new a.Signal},magicItem:{changed:new a.Signal},notes:{changed:new a.Signal},encounters:{changed:new a.Signal},otherStats:{changed:new a.Signal,proficiency:{changed:new a.Signal},inspiration:{changed:new a.Signal}},party:{joined:new a.Signal,left:new a.Signal,roster:{changed:new a.Signal},players:{changed:new a.Signal}},playerImage:{changed:new a.Signal},playerInfo:{changed:new a.Signal},profile:{changed:new a.Signal,level:{changed:new a.Signal},experience:{changed:new a.Signal},characterName:{changed:new a.Signal},playerName:{changed:new a.Signal},playerSummary:{changed:new a.Signal},playerType:{changed:new a.Signal},race:{changed:new a.Signal},playerClass:{changed:new a.Signal}},proficiency:{changed:new a.Signal},proficiencyBonus:{changed:new a.Signal},settings:{changed:new a.Signal},skills:{changed:new a.Signal,perception:{changed:new a.Signal}},spellSlots:{changed:new a.Signal},spellStats:{changed:new a.Signal},stats:{changed:new a.Signal,armorClassModifier:{changed:new a.Signal}},status:{changed:new a.Signal,healthiness:{changed:new a.Signal},magic:{changed:new a.Signal},tracked:{changed:new a.Signal}},trait:{changed:new a.Signal},tracked:{changed:new a.Signal},weapon:{changed:new a.Signal},treasure:{changed:new a.Signal},wizard:{completed:new a.Signal},xmpp:{initialized:new a.Signal,connected:new a.Signal,disconnected:new a.Signal,reconnected:new a.Signal,error:new a.Signal,conflict:new a.Signal,routes:{chat:new a.Signal,pcard:new a.Signal},pubsub:{created:new a.Signal,subscribed:new a.Signal,unsubscribed:new a.Signal}}})},function(e,t,n){e.exports=n.p+"0931a73274a328288f59ab7765cfdfa7.svg"},function(e,t,n){e.exports=n.p+"097734173b11e72dd42c90f0d36a9dfe.svg"},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(49),i=n(1),r=n(2),o=n(12),s=n(35),c=n.n(s),l=n(151),d={url:"wss://adventurerscodex.com:5280/websocket/",connection:{callback:null},credentialsHelper:function(){return{jid:l.a.sharedService().user().xmpp.jid+"/Adventurers Codex (Web)",password:r.a.findAll(a.a)[0].accessToken()}},fallbackAction:"log"},u=new o.a(function(e){var t=this;t.configuration=e,t.connection=null,t._isShuttingDown=!1,t._isAttemptingRetry=!1,t._connectionRetries=0,t.MAX_RETRIES=5,t.MIN_RETRY_INTERVAL=1500,t._pingHandle=null,t._conflicted=!1,t.MAX_RETRIES=3,t.PING_INTERVAL=24e4,t.init=function(){c.a.addNamespace("HTML","http://jabber.org/protocol/xhtml-im"),c.a.addNamespace("BODY","http://www.w3.org/1999/xhtml"),c.a.addNamespace("PUBSUB","http://jabber.org/protocol/pubsub"),c.a.addNamespace("JSON","urn:xmpp:json:0"),c.a.addNamespace("ACTIVE","http://jabber.org/protocol/chatstates"),c.a.addNamespace("ATOM","http://www.w3.org/2005/Atom"),c.a.addNamespace("DELAY","urn:xmpp:delay"),c.a.addNamespace("RSM","http://jabber.org/protocol/rsm"),t._initializeConnection(),i.f.characterManager.changed.addOnce(t._handleConnect)},t.deinit=function(){t._isShuttingDown=!0,t.connection.disconnect()},t._initializeConnection=function(){var e=new c.a.Connection(t.configuration.url);t.configuration.connection.callback||t._connectionHandler,t.connection=e,i.f.xmpp.initialized.dispatch()},t._shouldLog=function(){return"log"==t.configuration.fallbackAction},t._shouldThrow=function(){return"throw"==t.configuration.fallbackAction},t._handleConnect=function(){if(l.a.sharedService().user()){t._isShuttingDown=!1;var e=t.configuration.credentialsHelper(),n=t.configuration.connection.callback||t._connectionHandler;t.connection.connect(e.jid,e.password,n),t.connection.flush()}},t._connectionHandler=function(e,n){if(!t._conflicted){if(n)if(t._shouldLog())"console"in window&&console.log(n);else if(t._shouldThrow())throw n;if("conflict"==n)return t._conflicted=!0,i.f.xmpp.conflict.dispatch(),void i.f.xmpp.disconnected.dispatch();if(e===c.a.Status.CONNECTED||e===c.a.Status.ATTACHED)t._connectionRetries=0,t._shouldLog()&&"console"in window&&console.log("Connected."),t._isAttemptingRetry&&i.f.xmpp.reconnected.dispatch(),t._isAttemptingRetry=!1,t.connection.send($pres().tree()),t.connection.flush(),t._pingHandle=setInterval(t._ping,t.PING_INTERVAL),i.f.xmpp.connected.dispatch();else if(e===c.a.Status.DISCONNECTED)t._shouldLog()&&"console"in window&&console.log("Disconnected."),t._isAttemptingRetry||i.f.xmpp.disconnected.dispatch(!0),t._pingHandle&&clearInterval(t._pingHandle),t._isShuttingDown||t._isAttemptingRetry||t._attemptRetry(!0);else if(e===c.a.Status.CONNECTING)t._shouldLog()&&"console"in window&&console.log("Connecting.");else if(e===c.a.Status.AUTHFAIL)i.f.xmpp.error.dispatch(e),t._shouldLog()&&"console"in window&&console.log("Authentication failure.");else{if(t._isAttemptingRetry)return;i.f.xmpp.error.dispatch(e),t._shouldLog()&&"console"in window&&console.log("Strophe.Status: ",e)}}},t._attemptRetry=function(e){if(e||!t.connection.connected)if(t._connectionRetries>=t.MAX_RETRIES)console.log("No attempt to reconnect: max connection retries reached.");else{console.log("Attempting to reconnect. Attempt {count}..".replace("{count}",t._connectionRetries)),t._isAttemptingRetry=!0,t._connectionRetries+=1,i.f.xmpp.disconnected.dispatch(),t._initializeConnection(),t._handleConnect();var n=t._connectionRetries*t.MIN_RETRY_INTERVAL;setTimeout(t._attemptRetry,n)}else console.log("Already connected, retry not forced. Skipping...")},t._ping=function(){t.connection.send($pres().tree())}},d)},function(e,t,n){function a(e,t){for(var n=0;n<e.length;n++){var a=e[n],i=u[a.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](a.parts[r]);for(;r<a.parts.length;r++)i.parts.push(l(a.parts[r],t))}else{var o=[];for(r=0;r<a.parts.length;r++)o.push(l(a.parts[r],t));u[a.id]={id:a.id,refs:1,parts:o}}}}function i(e,t){for(var n=[],a={},i=0;i<e.length;i++){var r=e[i],o=t.base?r[0]+t.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};a[o]?a[o].parts.push(s):n.push(a[o]={id:o,parts:[s]})}return n}function r(e,t){var n=f(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=b[b.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),r(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function l(e,t){var n,a,i,l;if(t.transform&&e.css){if(!(l=t.transform(e.css)))return function(){};e.css=l}if(t.singleton){var u=m++;n=h||(h=s(t)),a=d.bind(null,n,u,!1),i=d.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),r(e,t),t}(t),a=function(e,t,n){var a=n.css,i=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||r)&&(a=v(a));i&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([a],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),a=function(e,t){var n=t.css,a=t.media;a&&e.setAttribute("media",a);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){o(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}function d(e,t,n,a){var i=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var r=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}var u={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),f=function(e){var t={};return function(e){return void 0===t[e]&&(t[e]=function(e){return document.querySelector(e)}.call(this,e)),t[e]}}(),h=null,m=0,b=[],v=n(246);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=p()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return a(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var s=n[o];(c=u[s.id]).refs--,r.push(c)}if(e){a(i(e,t),t)}for(o=0;o<r.length;o++){var c;if(0===(c=r[o]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete u[c.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";(function(t){function a(e){l.call(this,"digest"),this._hash=e,this.buffers=[]}function i(e){l.call(this,"digest"),this._hash=e}var r=n(3),o=n(70),s=n(71),c=n(77),l=n(30);r(a,l),a.prototype._update=function(e){this.buffers.push(e)},a.prototype._final=function(){var e=t.concat(this.buffers),n=this._hash(e);return this.buffers=null,n},r(i,l),i.prototype._update=function(e){this._hash.update(e)},i.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new a(o):new i("rmd160"===e||"ripemd160"===e?new s:c(e))}}).call(t,n(8).Buffer)},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(t,n(8).Buffer)},function(e,t,n){(function(t){e.exports=function(e,n){for(var a=Math.min(e.length,n.length),i=new t(a),r=0;r<a;++r)i[r]=e[r]^n[r];return i}}).call(t,n(8).Buffer)},function(e,t,n){"use strict";function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var i=n(27),r=n(21);t.BlockHash=a,a.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-n,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),r(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,a=new Array(n+this.padLength);a[0]=128;for(var i=1;i<n;i++)a[i]=0;if(e<<=3,"big"===this.endian){for(var r=8;r<this.padLength;r++)a[i++]=0;a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=e>>>24&255,a[i++]=e>>>16&255,a[i++]=e>>>8&255,a[i++]=255&e}else for(a[i++]=255&e,a[i++]=e>>>8&255,a[i++]=e>>>16&255,a[i++]=e>>>24&255,a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=0,r=8;r<this.padLength;r++)a[i++]=0;return a}},function(e,t,n){var a=t;a.bignum=n(13),a.define=n(341).define,a.base=n(48),a.constants=n(136),a.decoders=n(347),a.encoders=n(349)},function(e,t,n){var a=t;a.Reporter=n(344).Reporter,a.DecoderBuffer=n(135).DecoderBuffer,a.EncoderBuffer=n(135).EncoderBuffer,a.Node=n(345)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["accessToken","expiresIn","tokenType","scopes","startTime"]},e.accessToken=s.a.observable(),e.expiresIn=s.a.observable(),e.tokenType=s.a.observable(),e.scopes=s.a.observable(),e.startTime=s.a.observable((new Date).getTime()),e.timeTillExpires=function(){var t=e.expiresIn(),n=e.startTime();if(!n||!t)return 0;var a=t-((new Date).getTime()-n)/1e3;return a>0?a:0},e.isValid=function(){return e.timeTillExpires()>0},e.mapTokenKeys=function(t){e.accessToken(t.access_token),t.expires_in&&e.expiresIn(parseInt(t.expires_in)),e.tokenType(t.token_type),t.scope&&e.scopes(t.scope.split(" "))},e.clear=function(){var t=(new a).exportValues();s.a.mapping.fromJS(t,e.mapping,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="AuthenticationToken",r.a.addToRegistry(a)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(49),i=n(2),r=n(52),o=n.n(r),s={markdown:{},string:{},array:{},oauth:{},jid:{}};s.markdown.asPlaintext=function(e){var t=e||"";return o()(t).replace(/<(?:.|\n)*?>/gm,"")},s.string.truncateStringAtLength=function(e,t){var n=s.markdown.asPlaintext(e);return n.length>=t?n.substring(0,t)+"...":n},s.string.createDirectDropboxLink=function(e){return e?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):""},s.array.updateElement=function(e,t,n){e.forEach(function(e,a,i){e.__id===n&&e.importValues(t.exportValues())})},s.oauth.setXHRBearerHeader=function(e,t){if(!t){t=i.a.findAll(a.a)[0].accessToken()}t&&e.setRequestHeader("Authorization","Bearer "+t)},s.oauth.getJSON=function(e,t,n,a){$.ajax({url:e,type:"GET",dataType:"json",success:t,error:n,beforeSend:function(e){s.oauth.setXHRBearerHeader(e,a)}})},s.oauth.postData=function(e,t,n,a,i){$.ajax({url:e,type:"POST",data:t,dataType:"text",success:n,error:a,beforeSend:function(e){s.oauth.setXHRBearerHeader(e,i)}})},s.oauth.putData=function(e,t,n,a,i){$.ajax({url:e,type:"PUT",data:t,dataType:"text",success:n,error:a,beforeSend:function(e){s.oauth.setXHRBearerHeader(e,i)}})},s.jid.sanitize=function(e){return(e||"").replace(/[@"&'\/:<> ]/gm,"_")}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n(1),i=n(10),r=n(152),o=n(91),s=n(2),c=n(93),l=n(12),d=n(41),u=n(0),p=(n.n(u),n(22)),f=n.n(p),h=new l.a(function(e){var t=this;t.configuration=e,t.rooms={},t._handlerTokens=[],t._connectionIsSetup=!1,t._isListeningForXMPPEvents=!1,t._toJoinParty=null,t.currentPartyNode=null,t.init=function(){t._setupConnection(),a.f.xmpp.initialized.add(t._setupConnection),a.f.xmpp.connected.add(t._handleConnect),a.f.xmpp.disconnected.add(t._teardownConnection),a.f.characterManager.changing.add(t._leaveAll),a.f.party.joined.add(t._setupRooms),a.f.party.left.add(t._teardownRooms)},t.deinit=function(){t._teardownConnection(),a.f.xmpp.initialized.remove(t._setupConnection),a.f.xmpp.connected.remove(t._handleConnect),a.f.xmpp.disconnected.remove(t._teardownConnection),a.f.characterManager.changing.remove(t._leaveAll),a.f.party.joined.remove(t._setupRooms),a.f.party.left.remove(t._teardownRooms)},t.join=function(e,n,a){var i=d.a.sharedService();if(i.connection.muc.join(e,n,t._handleNewGroupMessage,null,t._handleNewRosterMessage,null,null,null),i.connection.flush(),a){var r=t._getOrCreateParty(e);return t.currentPartyNode=e,r}return t._getOrCreateRoom(e,!0)},t.leave=function(e,n,a){d.a.sharedService().connection.muc.leave(e,n,a,null),delete t.rooms[e]},t.getUniqueNodeId=function(){return a.b.adjectives[Math.floor(Math.random()*a.b.adjectives.length)]+"-"+a.b.nouns[Math.floor(Math.random()*a.b.nouns.length)]+"-"+f.a.v4().substr(0,4)},t.createRoomAndInvite=function(e,n){var a=d.a.sharedService(),i=t._getOrCreateRoom(e,!0);return t.join(i.chatId(),Strophe.getNodeFromJid(a.connection.jid)),t._inviteAll(e,n),i},t.getOccupantsInRoom=function(e){var n=t.rooms[e]||{},a=n.roster||{};return Object.keys(a).map(function(e,t,a){return n.roster[e].jid})},t.getNickForBareJidInParty=function(e){var n=(t.rooms[t.currentPartyNode]||{}).roster||{};return Object.keys(n).filter(function(t,a,i){return Strophe.getBareJidFromJid(n[t].jid)===e})[0]},t.isJidInParty=function(e){return t.getOccupantsInRoom(t.currentPartyNode).some(function(t,n,a){return t===e})},t.getAllRooms=function(){return Object.keys(t.rooms)},t._handleNewGroupMessage=function(e){try{var n=Strophe.getBareJidFromJid($(e).attr("from"));if($(e).find("subject").length>0)return!0;var i=t._getOrCreateRoom(n,!0),r=o.a.fromTree(e);r.save();var s=$(e).find("delay").length>0;a.f.chat.message.dispatch(i,r,s)}catch(e){console.log(e)}return!0},t._handleNewOneToOneMessage=function(e){return!0},t._handlePresence=function(e){try{var t=d.a.sharedService(),n=Strophe.getNodeFromJid(t.connection.jid),i=c.a.fromTree(e);i.save(),i.hasError()?a.f.party.joined.dispatch(i.fromBare(),!1):i.regardsJoiningRoom()?i.fromUsername()==n?a.f.party.joined.dispatch(i.fromBare(),!0):a.f.chat.member.joined.dispatch(i):i.regardsLeavingRoom()&&(i.fromUsername()==n&&i.regardsLeavingParty()?a.f.party.left.dispatch(i.fromBare(),!0):a.f.chat.member.left.dispatch(i))}catch(e){console.log(e)}return!0},t._handleInviteMessages=function(e){try{if(!$(e).find("invite")[0]||!t.currentPartyNode)return!0;var n=d.a.sharedService(),a=$(e).attr("from"),i=Strophe.getNodeFromJid(n.connection.jid);t.join(a,i,!1)}catch(e){console.log(e)}return!0},t._handleNewRosterMessage=function(e,n){try{t.rooms[n.name]=n,a.f.party.roster.changed.dispatch(n.name,n.nick)}catch(e){console.log(e)}return!0},t._handleConnect=function(){if(t._toJoinParty){var e=d.a.sharedService(),n=t._toJoinParty+"@chat.adventurerscodex.com",a=Strophe.getNodeFromJid(e.connection.jid);t._getOrCreateParty(n),t.join(n,a,!0)}},t._setupConnection=function(){if(!t._isListeningForXMPPEvents){var e=d.a.sharedService(),n=e.connection.addHandler(t._handleNewOneToOneMessage,null,null,"chat",null,null,{ignoreNamespaceFragment:!0}),a=e.connection.addHandler(t._handlePresence,null,"presence",null,null,null,{ignoreNamespaceFragment:!0}),i=e.connection.addHandler(t._handleInviteMessages,null,"message",null,null,null,{ignoreNamespaceFragment:!0});t._handlerTokens.push(n),t._handlerTokens.push(a),t._handlerTokens.push(i),t._isListeningForXMPPEvents=!0}},t._teardownConnection=function(){var e=d.a.sharedService();t._handlerTokens.forEach(function(t,n,a){e.connection.deleteHandler(t)}),t._isListeningForXMPPEvents=!1},t._setupRooms=function(e){t._roomsAreSetup||(d.a.sharedService(),t._rejoinRoomsForCurrentParty(),t.currentPartyNode=e,t._roomsAreSetup=!0)},t._teardownRooms=function(){t.currentPartyNode=null,t._roomsAreSetup=!1},t._getOrCreateParty=function(e){var t=a.a.activeCharacter().key(),n=s.a.findByPredicates(r.a,[new i.a("isParty",!0),new i.a("chatId",e),new i.a("characterId",t)])[0];return n||((n=new r.a).importValues({chatId:e,dateCreated:(new Date).getTime(),name:e,isGroupChat:!0,isParty:!0,partyId:null,characterId:a.a.activeCharacter().key()}),n.save()),n},t._getOrCreateRoom=function(e,n){if(t.currentPartyNode){a.a.activeCharacter().key();var o=s.a.findByPredicates(r.a,[new i.a("chatId",e),new i.c([new i.a("partyId",t.currentPartyNode),new i.a("isParty",!0)])])[0];return o||((o=new r.a).importValues({chatId:e,dateCreated:(new Date).getTime(),name:e,isGroupChat:n,isParty:!1,partyId:t.currentPartyNode,characterId:a.a.activeCharacter().key()}),o.save()),o}},t._inviteAll=function(e,t){var n=d.a.sharedService();t.forEach(function(t,a,i){n.connection.muc.invite(e,t.jid,null)}),n.connection.flush()},t._rejoinRoomsForCurrentParty=function(){var e=d.a.sharedService(),n=t.currentPartyNode,o=(a.a.activeCharacter().key(),Strophe.getNodeFromJid(e.connection.jid));s.a.findByPredicates(r.a,[new i.a("partyId",n),new i.a("isGroupChat",!0)]).forEach(function(e,n,a){t.join(e.chatId(),o)})},t._leaveAll=function(){var e=d.a.sharedService();Object.keys(t.rooms).forEach(function(n,a,i){t.leave(n,Strophe.getNodeFromJid(e.connection.jid))}),t.rooms={}}},{defaultChatOptions:{}})},function(e,t,n){(function(t){(function(){function t(e){this.tokens=[],this.tokens.links={},this.options=e||l.defaults,this.rules=d.normal,this.options.gfm&&(this.options.tables?this.rules=d.tables:this.rules=d.gfm)}function n(e,t){if(this.options=t||l.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=u.breaks:this.rules=u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function a(e){this.options=e||{}}function i(e){this.tokens=[],this.token=null,this.options=e||l.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e,t){return e=e.source,t=t||"",function n(a,i){return a?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(a,i),n):new RegExp(e,t)}}function s(){}function c(e){for(var t,n,a=1;a<arguments.length;a++){t=arguments[a];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function l(e,n,a){if(a||"function"==typeof n){a||(a=n,n=null);var o,s,d=(n=c({},l.defaults,n||{})).highlight,u=0;try{o=t.lex(e,n)}catch(e){return a(e)}s=o.length;var p=function(e){if(e)return n.highlight=d,a(e);var t;try{t=i.parse(o,n)}catch(t){e=t}return n.highlight=d,e?a(e):a(null,t)};if(!d||d.length<3)return p();if(delete n.highlight,!s)return p();for(;u<o.length;u++)!function(e){"code"!==e.type?--s||p():d(e.text,e.lang,function(t,n){return t?p(t):null==n||n===e.text?--s||p():(e.text=n,e.escaped=!0,void(--s||p()))})}(o[u])}else try{return n&&(n=c({},l.defaults,n)),i.parse(t.lex(e,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||l.defaults).silent)return"<p>An error occured:</p><pre>"+r(e.message+"",!0)+"</pre>";throw e}}var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};d.bullet=/(?:[*+-]|\d+\.)/,d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,d.item=o(d.item,"gm")(/bull/g,d.bullet)(),d.list=o(d.list)(/bull/g,d.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+d.def.source+")")(),d.blockquote=o(d.blockquote)("def",d.def)(),d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",d.html=o(d.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,d._tag)(),d.paragraph=o(d.paragraph)("hr",d.hr)("heading",d.heading)("lheading",d.lheading)("blockquote",d.blockquote)("tag","<"+d._tag)("def",d.def)(),d.normal=c({},d),d.gfm=c({},d.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),d.gfm.paragraph=o(d.paragraph)("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|")(),d.tables=c({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=d,t.lex=function(e,n){return new t(n).lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t,n){var a,i,r,o,s,c,l,u,p;for(e=e.replace(/^ +$/gm,"");e;)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e))e=e.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:r.replace(/\n+$/,"")});else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(t&&(r=this.rules.nptable.exec(e))){for(e=e.substring(r[0].length),c={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")},u=0;u<c.align.length;u++)/^ *-+: *$/.test(c.align[u])?c.align[u]="right":/^ *:-+: *$/.test(c.align[u])?c.align[u]="center":/^ *:-+ *$/.test(c.align[u])?c.align[u]="left":c.align[u]=null;for(u=0;u<c.cells.length;u++)c.cells[u]=c.cells[u].split(/ *\| */);this.tokens.push(c)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,t,!0),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),o=r[2],this.tokens.push({type:"list_start",ordered:o.length>1}),a=!1,p=(r=r[0].match(this.rules.item)).length,u=0;u<p;u++)l=(c=r[u]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(l-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&u!==p-1&&(o===(s=d.bullet.exec(r[u+1])[0])||o.length>1&&s.length>1||(e=r.slice(u+1).join("\n")+e,u=p-1)),i=a||/\n\n(?!\s*$)/.test(c),u!==p-1&&(a="\n"===c.charAt(c.length-1),i||(i=a)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(c,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]});else if(!n&&t&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),this.tokens.links[r[1].toLowerCase()]={href:r[2],title:r[3]};else if(t&&(r=this.rules.table.exec(e))){for(e=e.substring(r[0].length),c={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<c.align.length;u++)/^ *-+: *$/.test(c.align[u])?c.align[u]="right":/^ *:-+: *$/.test(c.align[u])?c.align[u]="center":/^ *:-+ *$/.test(c.align[u])?c.align[u]="left":c.align[u]=null;for(u=0;u<c.cells.length;u++)c.cells[u]=c.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(t&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=o(u.link)("inside",u._inside)("href",u._href)(),u.reflink=o(u.reflink)("inside",u._inside)(),u.normal=c({},u),u.pedantic=c({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=c({},u.normal,{escape:o(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:o(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=c({},u.gfm,{br:o(u.br)("{2,}","*")(),text:o(u.gfm.text)("{2,}","*")()}),n.rules=u,n.output=function(e,t,a){return new n(t,a).output(e)},n.prototype.output=function(e){for(var t,n,a,i,o="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),a=this.mangle("mailto:")+n):a=n=r(i[1]),o+=this.renderer.link(a,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),o+=this.options.sanitize?r(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){o+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),o+=this.renderer.codespan(r(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),o+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),o+=r(this.smartypants(i[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),a=n=r(i[1]),o+=this.renderer.link(a,null,n);return o},n.prototype.outputLink=function(e,t){var n=r(t.href),a=t.title?r(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,a,this.output(e[1])):this.renderer.image(n,a,r(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},n.prototype.mangle=function(e){for(var t,n="",a=e.length,i=0;i<a;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},a.prototype.code=function(e,t,n){if(this.options.highlight){var a=this.options.highlight(e,t);null!=a&&a!==e&&(n=!0,e=a)}return t?'<pre><code class="'+this.options.langPrefix+r(t,!0)+'">'+(n?e:r(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:r(e,!0))+"\n</code></pre>"},a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},a.prototype.html=function(e){return e},a.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},a.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},a.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},a.prototype.strong=function(e){return"<strong>"+e+"</strong>"},a.prototype.em=function(e){return"<em>"+e+"</em>"},a.prototype.codespan=function(e){return"<code>"+e+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(e){return"<del>"+e+"</del>"},a.prototype.link=function(e,t,n){if(this.options.sanitize){try{var a=decodeURIComponent(function(e){return e.replace(/&([#\w]+);/g,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===a.indexOf("javascript:"))return""}var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},a.prototype.image=function(e,t,n){var a='<img src="'+e+'" alt="'+n+'"';return t&&(a+=' title="'+t+'"'),a+=this.options.xhtml?"/>":">"},i.parse=function(e,t,n){return new i(t,n).parse(e)},i.prototype.parse=function(e){this.inline=new n(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,a,i="",r="";for(n="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",a=0;a<t.length;a++)n+=this.renderer.tablecell(this.inline.output(t[a]),{header:!1,align:this.token.align[a]});r+=this.renderer.tablerow(n)}return this.renderer.table(i,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";for(var o=this.token.ordered;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,o);case"list_item_start":for(r="";"list_item_end"!==this.next().type;)r+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(r);case"loose_item_start":for(r="";"list_item_end"!==this.next().type;)r+=this.tok();return this.renderer.listitem(r);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,l.options=l.setOptions=function(e){return c(l.defaults,e),l},l.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new a,xhtml:!1},l.Parser=i,l.parser=i.parse,l.Renderer=a,l.Lexer=t,l.lexer=t.lex,l.InlineLexer=n,l.inlineLexer=n.output,l.parse=l,e.exports=l}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(t,n(26))},function(e,t,n){"use strict";(function(t){function n(e,n,a,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var r,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,a)});case 4:return t.nextTick(function(){e.call(null,n,a,i)});default:for(r=new Array(s-1),o=0;o<r.length;)r[o++]=arguments[o];return t.nextTick(function(){e.apply(null,r)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(t,n(29))},function(e,t,n){var a=n(7).Buffer,i=n(295);e.exports=function(e,t,n,r){if(a.isBuffer(e)||(e=a.from(e,"binary")),t&&(a.isBuffer(t)||(t=a.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=n/8,s=a.alloc(o),c=a.alloc(r||0),l=a.alloc(0);o>0||r>0;){var d=new i;d.update(l),d.update(e),t&&d.update(t),l=d.digest();var u=0;if(o>0){var p=s.length-o;u=Math.min(o,l.length),l.copy(s,p,0,u),o-=u}if(u<l.length&&r>0){var f=c.length-r,h=Math.min(r,l.length-u);l.copy(c,f,u,u+h),r-=h}}return l.fill(0),{key:s,iv:c}}},function(e,t,n){function a(e){s.isBuffer(e)||(e=s.from(e));for(var t=e.length/4|0,n=new Array(t),a=0;a<t;a++)n[a]=e.readUInt32BE(4*a);return n}function i(e){for(;0<e.length;e++)e[0]=0}function r(e,t,n,a,i){for(var r,o,s,c,l=n[0],d=n[1],u=n[2],p=n[3],f=e[0]^t[0],h=e[1]^t[1],m=e[2]^t[2],b=e[3]^t[3],v=4,g=1;g<i;g++)r=l[f>>>24]^d[h>>>16&255]^u[m>>>8&255]^p[255&b]^t[v++],o=l[h>>>24]^d[m>>>16&255]^u[b>>>8&255]^p[255&f]^t[v++],s=l[m>>>24]^d[b>>>16&255]^u[f>>>8&255]^p[255&h]^t[v++],c=l[b>>>24]^d[f>>>16&255]^u[h>>>8&255]^p[255&m]^t[v++],f=r,h=o,m=s,b=c;return r=(a[f>>>24]<<24|a[h>>>16&255]<<16|a[m>>>8&255]<<8|a[255&b])^t[v++],o=(a[h>>>24]<<24|a[m>>>16&255]<<16|a[b>>>8&255]<<8|a[255&f])^t[v++],s=(a[m>>>24]<<24|a[b>>>16&255]<<16|a[f>>>8&255]<<8|a[255&h])^t[v++],c=(a[b>>>24]<<24|a[f>>>16&255]<<16|a[h>>>8&255]<<8|a[255&m])^t[v++],r>>>=0,o>>>=0,s>>>=0,c>>>=0,[r,o,s,c]}function o(e){this._key=a(e),this._reset()}var s=n(7).Buffer,c=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],a=[],i=[[],[],[],[]],r=[[],[],[],[]],o=0,s=0,c=0;c<256;++c){var l=s^s<<1^s<<2^s<<3^s<<4;l=l>>>8^255&l^99,n[o]=l,a[l]=o;var d=e[o],u=e[d],p=e[u],f=257*e[l]^16843008*l;i[0][o]=f<<24|f>>>8,i[1][o]=f<<16|f>>>16,i[2][o]=f<<8|f>>>24,i[3][o]=f,f=16843009*p^65537*u^257*d^16843008*o,r[0][l]=f<<24|f>>>8,r[1][l]=f<<16|f>>>16,r[2][l]=f<<8|f>>>24,r[3][l]=f,0===o?o=s=1:(o=d^e[e[e[p^d]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:a,SUB_MIX:i,INV_SUB_MIX:r}}();o.blockSize=16,o.keySize=32,o.prototype.blockSize=o.blockSize,o.prototype.keySize=o.keySize,o.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,a=4*(n+1),i=[],r=0;r<t;r++)i[r]=e[r];for(r=t;r<a;r++){var o=i[r-1];r%t==0?(o=o<<8|o>>>24,o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o],o^=c[r/t|0]<<24):t>6&&r%t==4&&(o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o]),i[r]=i[r-t]^o}for(var s=[],d=0;d<a;d++){var u=a-d,p=i[u-(d%4?0:4)];s[d]=d<4||u<=4?p:l.INV_SUB_MIX[0][l.SBOX[p>>>24]]^l.INV_SUB_MIX[1][l.SBOX[p>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[p>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&p]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=s},o.prototype.encryptBlockRaw=function(e){return e=a(e),r(e,this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},o.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=s.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},o.prototype.decryptBlock=function(e){var t=(e=a(e))[1];e[1]=e[3],e[3]=t;var n=r(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),i=s.allocUnsafe(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},o.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},e.exports.AES=o},function(e,t,n){"use strict";var a=t;a.base=n(321),a.short=n(322),a.mont=n(323),a.edwards=n(324)},function(e,t,n){(function(t){function a(e){var n;"object"!=typeof e||t.isBuffer(e)||(n=e.passphrase,e=e.key),"string"==typeof e&&(e=new t(e));var a,l,d=o(e,n),u=d.tag,p=d.data;switch(u){case"CERTIFICATE":l=i.certificate.decode(p,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=i.PublicKey.decode(p,"der")),a=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=i.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+u);case"ENCRYPTED PRIVATE KEY":p=function(e,n){var a=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=r[e.algorithm.decrypt.cipher.algo.join(".")],l=e.algorithm.decrypt.cipher.iv,d=e.subjectPrivateKey,u=parseInt(o.split("-")[1],10)/8,p=c.pbkdf2Sync(n,a,i,u),f=s.createDecipheriv(o,p,l),h=[];return h.push(f.update(d)),h.push(f.final()),t.concat(h)}(p=i.EncryptedPrivateKey.decode(p,"der"),n);case"PRIVATE KEY":switch(l=i.PrivateKey.decode(p,"der"),a=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:i.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=i.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+u);case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(p,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(p,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(p,"der")};case"EC PRIVATE KEY":return p=i.ECPrivateKey.decode(p,"der"),{curve:p.parameters.value,privateKey:p.privateKey};default:throw new Error("unknown key type "+u)}}var i=n(340),r=n(352),o=n(353),s=n(78),c=n(118);e.exports=a,a.signature=i.signature}).call(t,n(8).Buffer)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.characterId=s.a.observable(null),e.imageUrl=s.a.observable(),e.save=function(){e.ps.save()},e.clear=function(){e.imageUrl("")},e.importValues=function(t){e.characterId(t.characterId),e.imageUrl(t.imageUrl)},e.exportValues=function(){return{characterId:e.characterId(),imageUrl:e.imageUrl()}},e.hasData=s.a.pureComputed(function(){try{return e.imageUrl().length>10}catch(e){return!1}})}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="ImageModel",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","imageSource"]},e.characterId=s.a.observable(null),e.imageSource=s.a.observable(),e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="PlayerImage",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.GRAVATAR_BASE_URL="https://www.gravatar.com/avatar/{}?d=mm",e.characterId=s.a.observable(null),e.email=s.a.observable(""),e.gravatarUrl=function(){try{var t=l()(e.email().trim());return e.GRAVATAR_BASE_URL.replace("{}",t)}catch(e){return""}},e.clear=function(){e.email("")},e.save=function(){e.ps.save()},e.importValues=function(t){e.characterId(t.characterId),e.email(t.email)},e.exportValues=function(){return{characterId:e.characterId(),email:e.email()}}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o),c=n(367),l=n.n(c);a.__name="PlayerInfo",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","characterName","background","playerName","race","alignment","diety","typeClass","gender","age","level","exp"]},e.characterId=s.a.observable(null),e.characterName=s.a.observable(""),e.background=s.a.observable(""),e.playerName=s.a.observable(""),e.race=s.a.observable(""),e.alignment=s.a.observable(""),e.diety=s.a.observable(""),e.typeClass=s.a.observable(""),e.gender=s.a.observable(""),e.age=s.a.observable(""),e.level=s.a.observable(""),e.exp=s.a.observable(""),e.summary=s.a.pureComputed(function(){var t=!!(e.race()&&""!==e.race()&&e.typeClass()&&""!==e.typeClass()&&e.level()&&""!==e.level())&&"A level "+e.level()+" "+e.race()+" "+e.typeClass()+" by "+e.playerName();return t=t||"A unique character, handcrafted from the finest bits the internet can provide."}),e.save=function(){e.ps.save()},e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="Profile",r.a.addToRegistry(a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(38),i={mappingAlwaysIgnore:["__id"],dropboxSaveOptions:{success:function(){a.a.userNotification.successNotification.dispatch("Success! File saved to your Dropbox.","")},progress:function(e){},cancel:function(){},error:function(e){a.a.userNotification.dangerNotification.dispatch("There was an error exporting your character or campaign to Dropbox. Please try again.","")}},linkifyOptions:{format:{url:function(e){return e.length>50?e.slice(0,50)+"":e}}},srdDataRepositoryLocations:[{key:"items",url:"https://adventurerscodex.com/data/SRD/items.min.json"},{key:"spells",url:"https://adventurerscodex.com/data/SRD/spells.min.json"},{key:"armors",url:"https://adventurerscodex.com/data/SRD/armor.min.json"},{key:"weapons",url:"https://adventurerscodex.com/data/SRD/weapons.min.json"},{key:"magicItems",url:"https://adventurerscodex.com/data/SRD/magic_items.min.json"},{key:"monsters",url:"https://adventurerscodex.com/data/SRD/monsters.min.json"},{key:"proficiencies",url:"https://adventurerscodex.com/data/SRD/proficiencies.min.json"},{key:"feats",url:"https://adventurerscodex.com/data/SRD/feats.min.json"},{key:"features",url:"https://adventurerscodex.com/data/SRD/features.min.json"},{key:"traits",url:"https://adventurerscodex.com/data/SRD/traits.min.json"},{key:"nouns",url:"https://adventurerscodex.com/data/misc/fantasy_nouns.json"},{key:"adjectives",url:"https://adventurerscodex.com/data/misc/fantasy_adjectives.json"},{key:"backpacks",url:"https://adventurerscodex.com/data/SRD/backpacks.min.json"}]}},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","armorClassModifier","initiative","speed","inspiration","proficiency"]},e.characterId=s.a.observable(null),e.armorClassModifier=s.a.observable(0),e.initiative=s.a.observable(0),e.speed=s.a.observable(0),e.inspiration=s.a.observable(0),e.proficiency=s.a.observable(0),e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="OtherStats",r.a.addToRegistry(a)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(1),i=n(63),r=n(2),o=n(61),s=n(12),c=n(0),l=n.n(c),d=new s.a(function(e){var t=this;t.proficiency=l.a.observable(),t.characterId=l.a.observable(),t.init=function(){a.f.otherStats.proficiency.changed.add(t.dataHasChanged),a.f.profile.level.changed.add(t.dataHasChanged),t.characterId(a.a.activeCharacter().key()),t.dataHasChanged()},t.dataHasChanged=function(){var e=0;e+=t.proficiencyModifier(),e+=t.proficiencyBonusByLevel(),e+=1,t.proficiency(e),a.f.proficiencyBonus.changed.dispatch()},t.proficiencyModifier=function(){var e=0,n=r.a.findFirstBy(i.a,"characterId",t.characterId());return n&&(e=parseInt(n.proficiency())?parseInt(n.proficiency()):0),e},t.proficiencyBonusByLevel=function(){var e=0,n=r.a.findFirstBy(o.a,"characterId",t.characterId());return n&&(e=parseInt(n.level())?parseInt(n.level()):0),Math.ceil(e/4)}},{})},function(e,t,n){"use strict";function a(e){var t=this;t.configuration=e,t.currentPartyNode=null,t.pCards={},t.init=function(){c.f.xmpp.routes.pcard.add(t.handlePCard),c.f.chat.member.left.add(t.removePlayer),c.f.party.left.add(t.clearPCards),t._setupNotifications()},t.deinit=function(){c.f.xmpp.routes.pcard.remove(t.handlePCard),c.f.chat.member.left.remove(t.removePlayer),c.f.party.left.remove(t.clearPCards),t._teardownNotifications()},t.dataHasChanged=function(){var e=t._buildCard();t.publishCard(e)},t.publishCard=function(e){var n=d.a.sharedService(),a=s.a.sharedService(),i={id:n.connection.getUniqueId(),compressed:t.configuration.enableCompression,compression:t.configuration.enableCompression?t.configuration.compression:null};t.currentPartyNode&&a.publishItem(e.entries,i,"pcard",null,null)},t.getPCardsExceptMine=function(){return Object.keys(t.pCards).filter(function(e,t,n){return e!==d.a.sharedService().connection.jid}).map(function(e,n,a){return t.pCards[e]})},t._setupNotifications=function(){c.f.party.joined.add(t._updateCurrentNode),t.configuration.fields.forEach(function(e,n,a){e.refreshOn.add(t.dataHasChanged)})},t._teardownNotifications=function(){c.f.party.joined.remove(t._updateCurrentNode),t.configuration.fields.forEach(function(e,n,a){e.refreshOn.remove(t.dataHasChanged)})},t._buildCard=function(){var e=new u.a;return t.configuration.fields.forEach(function(t,n,a){e.set(f.a.v4(),t.name,null,t.valueAccessor())}),e},t._updateCurrentNode=function(e,n){n&&(t.currentPartyNode=e,t.dataHasChanged())},t.handlePCard=function(e){var n=r.a.sharedService();if(null!=n.currentPartyNode){var a=u.a.fromEntries(e),i=a.get("publisherJid")[0];n.isJidInParty(i)&&(t.pCards[i]=a),t._dispatchPlayerChangedNotification()}},t.removePlayer=function(e,n,a){t.pCards[a]&&delete t.pCards[a],t._dispatchPlayerChangedNotification()},t.clearPCards=function(){t.pCards={}},t._dispatchPlayerChangedNotification=function(){var e=Object.keys(t.pCards).map(function(e,n,a){return t.pCards[e]});c.f.party.players.changed.dispatch(e)}}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return v});var i=n(149),r=n(51),o=n(153),s=n(154),c=n(1),l=n(12),d=n(41),u=n(155),p=n(22),f=n.n(p),h={enableCompression:!0,compression:"lz-string",fields:i.a},m={enableCompression:!0,compression:"lz-string",fields:o.a},b=new l.a(a,h),v=new l.a(a,m)},function(e,t,n){var a,i,r;!function(o,s){"use strict";"object"==typeof e&&e.exports?e.exports=s(n(160),n(161),n(162)):(i=[n(160),n(161),n(162)],void 0===(r="function"==typeof(a=s)?a.apply(t,i):a)||(e.exports=r))}(0,function(e,t,n,a){"use strict";function i(e,t){var n=arguments.length>=1,a=arguments.length>=2;if(!(this instanceof i))return n?a?new i(e,t):new i(e):new i;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}function r(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function s(e){return"Array"===o(e)}function c(e,t){var n,a,i={};if("RegExp"===o(t))i=null;else if(s(t))for(n=0,a=t.length;n<a;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,a=e.length;n<a;n++){(i&&void 0!==i[e[n]]||!i&&t.test(e[n]))&&(e.splice(n,1),a--,n--)}return e}function l(e,t){var n,a;if(s(t)){for(n=0,a=t.length;n<a;n++)if(!l(e,t[n]))return!1;return!0}var i=o(t);for(n=0,a=e.length;n<a;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function d(e,t){if(!s(e)||!s(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,a=e.length;n<a;n++)if(e[n]!==t[n])return!1;return!0}function u(e){return e.replace(/^\/+|\/+$/g,"")}function p(e){return escape(e)}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,p).replace(/\*/g,"%2A")}function h(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function m(e,t){return function(n,a){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!a),this)}}var b=a&&a.URI;i.version="1.19.0";var v=i.prototype,g=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:i.preventInvalidHostname,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.preventInvalidHostname=!1,i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\._-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.hostProtocols=["http","https"],i.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return i.domAttributes[t]}},i.encode=f,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=f,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},i.encodeQuery=function(e,t){var n=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var y,x={encode:"encode",decode:"decode"},w=function(e,t){return function(n){try{return i[t](n+"").replace(i.characters[e][t].expression,function(n){return i.characters[e][t].map[n]})}catch(e){return n}}};for(y in x)i[y+"PathSegment"]=w("pathname",x[y]),i[y+"UrnPathSegment"]=w("urnpath",x[y]);var k=function(e,t,n){return function(a){var r;r=n?function(e){return i[t](i[n](e))}:i[t];for(var o=(a+"").split(e),s=0,c=o.length;s<c;s++)o[s]=r(o[s]);return o.join(e)}};i.decodePath=k("/","decodePathSegment"),i.decodeUrnPath=k(":","decodeUrnPathSegment"),i.recodePath=k("/","encodePathSegment","decode"),i.recodeUrnPath=k(":","encodeUrnPathSegment","decode"),i.encodeReserved=w("reserved","encode"),i.parse=function(e,t){var n;return t||(t={preventInvalidHostname:i.preventInvalidHostname}),(n=e.indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=i.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){e||(e="");var n,a,r=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===r&&(r=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,r)||null,"/"===t.port&&(t.port=null);else{var o=e.indexOf(":"),s=e.indexOf("/"),c=e.indexOf(":",o+1);-1!==c&&(-1===s||c<s)?(t.hostname=e.substring(0,r)||null,t.port=null):(a=e.substring(0,r).split(":"),t.hostname=a[0]||null,t.port=a[1]||null)}return t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),t.preventInvalidHostname&&i.ensureValidHostname(t.hostname,t.protocol),t.port&&i.ensureValidPort(t.port),e.substring(r)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var n,a=e.indexOf("/"),r=e.lastIndexOf("@",a>-1?a:e.length-1);return r>-1&&(-1===a||r<a)?(n=e.substring(0,r).split(":"),t.username=n[0]?i.decode(n[0]):null,n.shift(),t.password=n[0]?i.decode(n.join(":")):null,e=e.substring(r+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,a,r,o={},s=e.split("&"),c=s.length,l=0;l<c;l++)n=s[l].split("="),a=i.decodeQuery(n.shift(),t),r=n.length?i.decodeQuery(n.join("="),t):null,g.call(o,a)?("string"!=typeof o[a]&&null!==o[a]||(o[a]=[o[a]]),o[a].push(r)):o[a]=r;return o},i.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(i.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username)),e.password&&(t+=":"+i.encode(e.password)),t&&(t+="@"),t},i.buildQuery=function(e,t,n){var a,r,o,c,l="";for(r in e)if(g.call(e,r)&&r)if(s(e[r]))for(a={},o=0,c=e[r].length;o<c;o++)void 0!==e[r][o]&&void 0===a[e[r][o]+""]&&(l+="&"+i.buildQueryParameter(r,e[r][o],n),!0!==t&&(a[e[r][o]+""]=!0));else void 0!==e[r]&&(l+="&"+i.buildQueryParameter(r,e[r],n));return l.substring(1)},i.buildQueryParameter=function(e,t,n){return i.encodeQuery(e,n)+(null!==t?"="+i.encodeQuery(t,n):"")},i.addQuery=function(e,t,n){if("object"==typeof t)for(var a in t)g.call(t,a)&&i.addQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),s(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},i.setQuery=function(e,t,n){if("object"==typeof t)for(var a in t)g.call(t,a)&&i.setQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},i.removeQuery=function(e,t,n){var a,r,l;if(s(t))for(a=0,r=t.length;a<r;a++)e[t[a]]=void 0;else if("RegExp"===o(t))for(l in e)t.test(l)&&(e[l]=void 0);else if("object"==typeof t)for(l in t)g.call(t,l)&&i.removeQuery(e,l,t[l]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===o(n)?!s(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=c(e[t],n):e[t]!==String(n)||s(n)&&1!==n.length?s(e[t])&&(e[t]=c(e[t],n)):e[t]=void 0:e[t]=void 0}},i.hasQuery=function(e,t,n,a){switch(o(t)){case"String":break;case"RegExp":for(var r in e)if(g.call(e,r)&&t.test(r)&&(void 0===n||i.hasQuery(e,r,n)))return!0;return!1;case"Object":for(var c in t)if(g.call(t,c)&&!i.hasQuery(e,c,t[c]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(o(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(s(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":if(!s(e[t]))return!1;return(a?l:d)(e[t],n);case"RegExp":return s(e[t])?!!a&&l(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return s(e[t])?!!a&&l(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.joinPaths=function(){for(var e=[],t=[],n=0,a=0;a<arguments.length;a++){var r=new i(arguments[a]);e.push(r);for(var o=r.segment(),s=0;s<o.length;s++)"string"==typeof o[s]&&t.push(o[s]),o[s]&&n++}if(!t.length||!n)return new i("");var c=new i("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||c.path("/"+c.path()),c.normalize()},i.commonPath=function(e,t){var n,a=Math.min(e.length,t.length);for(n=0;n<a;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},i.withinString=function(e,t,n){n||(n={});var a=n.start||i.findUri.start,r=n.end||i.findUri.end,o=n.trim||i.findUri.trim,s=n.parens||i.findUri.parens,c=/[a-z0-9-]=["']?$/i;for(a.lastIndex=0;;){var l=a.exec(e);if(!l)break;var d=l.index;if(n.ignoreHtml){var u=e.slice(Math.max(d-3,0),d);if(u&&c.test(u))continue}for(var p=d+e.slice(d).search(r),f=e.slice(d,p),h=-1;;){var m=s.exec(f);if(!m)break;var b=m.index+m[0].length;h=Math.max(h,b)}if(!((f=h>-1?f.slice(0,h)+f.slice(h).replace(o,""):f.replace(o,"")).length<=l[0].length||n.ignore&&n.ignore.test(f))){var v=t(f,d,p=d+f.length,e);void 0!==v?(v=String(v),e=e.slice(0,d)+v+e.slice(p),a.lastIndex=d+v.length):a.lastIndex=p}}return a.lastIndex=0,e},i.ensureValidHostname=function(t,n){var a=!!t,r=!1;if(!!n&&(r=l(i.hostProtocols,n)),r&&!a)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},i.ensureValidPort=function(e){if(e){var t=Number(e);if(!(function(e){return/^[0-9]+$/.test(e)}(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return a.URITemplate&&"function"==typeof a.URITemplate.noConflict&&(t.URITemplate=a.URITemplate.noConflict()),a.IPv6&&"function"==typeof a.IPv6.noConflict&&(t.IPv6=a.IPv6.noConflict()),a.SecondLevelDomains&&"function"==typeof a.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=a.SecondLevelDomains.noConflict()),t}return a.URI===this&&(a.URI=b),this},v.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},v.clone=function(){return new i(this)},v.valueOf=v.toString=function(){return this.build(!1)._string},v.protocol=h("protocol"),v.username=h("username"),v.password=h("password"),v.hostname=h("hostname"),v.port=h("port"),v.query=m("query","?"),v.fragment=m("fragment","#"),v.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},v.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},v.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(n):n}return this._parts.urn?this._parts.path=e?i.recodeUrnPath(e):"":this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},v.path=v.pathname,v.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var a=e instanceof i,r="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){e=e[i.getDomAttribute(e)]||"",r=!1}if(!a&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!a&&!r)throw new TypeError("invalid input");var o=a?e._parts:e;for(n in o)g.call(this._parts,n)&&(this._parts[n]=o[n])}return this.build(!t),this},v.is=function(e){var t=!1,a=!1,r=!1,o=!1,s=!1,c=!1,l=!1,d=!this._parts.urn;switch(this._parts.hostname&&(d=!1,a=i.ip4_expression.test(this._parts.hostname),r=i.ip6_expression.test(this._parts.hostname),s=(o=!(t=a||r))&&n&&n.has(this._parts.hostname),c=o&&i.idn_expression.test(this._parts.hostname),l=o&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return d;case"absolute":return!d;case"domain":case"name":return o;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return a;case"ip6":case"ipv6":case"inet6":return r;case"idn":return c;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var S=v.protocol,C=v.port,I=v.hostname;v.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(i.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return S.call(this,e,t)},v.scheme=v.protocol,v.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),i.ensureValidPort(e))),C.call(this,e,t))},v.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==i.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&i.ensureValidHostname(e,this._parts.protocol)}return I.call(this,e,t)},v.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var a=i(e);return this.protocol(a.protocol()).authority(a.authority()).build(!t),this},v.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):"";if("/"!==i.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},v.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):"";if("/"!==i.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},v.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=i.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},v.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=i.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},v.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var a=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,a),s=new RegExp("^"+r(o));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&i.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},v.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var a=this._parts.hostname.length-this.tld(t).length-1;return a=this._parts.hostname.lastIndexOf(".",a-1)+1,this._parts.hostname.substring(a)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(i.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(r(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},v.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var a=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(a+1);return!0!==t&&n&&n.list[i.toLowerCase()]?n.get(this._parts.hostname)||i:i}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},v.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,a=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?i.decodePath(a):a}var o=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,o),c=new RegExp("^"+r(s));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(c,e),this.build(!t),this},v.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),a=this._parts.path.substring(n+1);return e?i.decodePathSegment(a):a}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var s=new RegExp(r(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e),o?this.normalizePath(t):this.build(!t),this},v.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,a,o=this.filename(),s=o.lastIndexOf(".");return-1===s?"":(n=o.substring(s+1),a=/^[a-z0-9%]+$/i.test(n)?n:"",e?i.decodePathSegment(a):a)}"."===e.charAt(0)&&(e=e.substring(1));var c,l=this.suffix();if(l)c=e?new RegExp(r(l)+"$"):new RegExp(r("."+l)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return c&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(c,e)),this.build(!t),this},v.segment=function(e,t,n){var a=this._parts.urn?":":"/",i=this.path(),r="/"===i.substring(0,1),o=i.split(a);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(r&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(s(t)){o=[];for(var c=0,l=t.length;c<l;c++)(t[c].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(u(t[c])))}else(t||"string"==typeof t)&&(t=u(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=u(t):o.splice(e,1);return r&&o.unshift(""),this.path(o.join(a),n)},v.segmentCoded=function(e,t,n){var a,r,o;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(a=this.segment(e,t,n),s(a))for(r=0,o=a.length;r<o;r++)a[r]=i.decode(a[r]);else a=void 0!==a?i.decode(a):void 0;return a}if(s(t))for(r=0,o=t.length;r<o;r++)t[r]=i.encode(t[r]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,n)};var _=v.query;return v.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),a=e.call(this,n);return this._parts.query=i.buildQuery(a||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):_.call(this,e,t)},v.setQuery=function(e,t,n){var a=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)a[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var r in e)g.call(e,r)&&(a[r]=e[r])}return this._parts.query=i.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.addQuery=function(e,t,n){var a=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(a,e,void 0===t?null:t),this._parts.query=i.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.removeQuery=function(e,t,n){var a=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(a,e,t),this._parts.query=i.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.hasQuery=function(e,t,n){var a=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(a,e,t,n)},v.setSearch=v.setQuery,v.addSearch=v.addQuery,v.removeSearch=v.removeQuery,v.hasSearch=v.hasQuery,v.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},v.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},v.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},v.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},v.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var n,a,r,o="";for("/"!==(t=i.recodePath(t)).charAt(0)&&(n=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),n&&(o=t.substring(1).match(/^(\.\.\/)+/)||"")&&(o=o[0]);-1!==(a=t.search(/\/\.\.(\/|$)/));)0!==a?(-1===(r=t.substring(0,a).lastIndexOf("/"))&&(r=a),t=t.substring(0,r)+t.substring(a+3)):t=t.substring(3);return n&&this.is("relative")&&(t=o+t.substring(1)),this._parts.path=t,this.build(!e),this},v.normalizePathname=v.normalizePath,v.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},v.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},v.normalizeSearch=v.normalizeQuery,v.normalizeHash=v.normalizeFragment,v.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},v.unicode=function(){var e=i.encode,t=i.decode;i.encode=f,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},v.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var a="",r=0,o=t._parts.query.split("&"),s=o.length;r<s;r++){var c=(o[r]||"").split("=");a+="&"+i.decodeQuery(c[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==c[1]&&(a+="="+i.decodeQuery(c[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+a.substring(1)}return n+=i.decodeQuery(t.hash(),!0)},v.absoluteTo=function(e){var t,n,a,r=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),r._parts.protocol)return r;if(r._parts.protocol=e._parts.protocol,this._parts.hostname)return r;for(n=0;a=o[n];n++)r._parts[a]=e._parts[a];return r._parts.path?(".."===r._parts.path.substring(-2)&&(r._parts.path+="/"),"/"!==r.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),r._parts.path=(t?t+"/":"")+r._parts.path,r.normalizePath())):(r._parts.path=e._parts.path,r._parts.query||(r._parts.query=e._parts.query)),r.build(),r},v.relativeTo=function(e){var t,n,a,r,o,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=s._parts,n=e._parts,r=s.path(),o=e.path(),"/"!==r.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,r===o)return t.path="",s.build();if(!(a=i.commonPath(r,o)))return s.build();var c=n.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=c+t.path.substring(a.length)||"./",s.build()},v.equals=function(e){var t,n,a,r=this.clone(),o=new i(e),c={},l={},u={};if(r.normalize(),o.normalize(),r.toString()===o.toString())return!0;if(t=r.query(),n=o.query(),r.query(""),o.query(""),r.toString()!==o.toString())return!1;if(t.length!==n.length)return!1;c=i.parseQuery(t,this._parts.escapeQuerySpace),l=i.parseQuery(n,this._parts.escapeQuerySpace);for(a in c)if(g.call(c,a)){if(s(c[a])){if(!d(c[a],l[a]))return!1}else if(c[a]!==l[a])return!1;u[a]=!0}for(a in l)if(g.call(l,a)&&!u[a])return!1;return!0},v.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},v.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},v.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i})},function(e,t,n){e.exports=n.p+"4fdbefeb35395260fa2e2eef420e5d26.png"},function(e,t,n){"use strict";t.__esModule=!0,t.inherits=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object.create(e.prototype);for(var i in n)a[i]=n[i];return a.constructor=t,t.prototype=a,t}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={defaultProfilePictures:[{name:"",image:"/images/sample-headshots/elf-head.png"},{name:"",image:"/images/sample-headshots/elf-head-2.png"},{name:"",image:"/images/sample-headshots/emo-head.png"},{name:"",image:"/images/sample-headshots/sorceress-head.png"},{name:"",image:"/images/sample-headshots/warrior-head.png"},{name:"",image:"/images/sample-headshots/warlock-head.png"},{name:"",image:"/images/sample-headshots/orc-head.png"},{name:"",image:"/images/sample-headshots/druid-head.png"},{name:"",image:"/images/sample-headshots/druid-head-2.png"},{name:"",image:"/images/sample-headshots/dude-head.png"},{name:"",image:"/images/sample-headshots/dwarf-head.png"},{name:"",image:"/images/sample-headshots/knight-head.png"},{name:"",image:"/images/sample-headshots/mechanic-head.png"},{name:"",image:"/images/sample-headshots/merchant-head.png"},{name:"",image:"/images/sample-headshots/ranger-head.png"},{name:"",image:"/images/sample-headshots/troll-head.png"}],general:{currencyDenominationList:["PP","GP","SP","EP","CP"],colorList:["progress-bar-forest","progress-bar-sky","progress-bar-orange","progress-bar-red","progress-bar-purple","progress-bar-teal","progress-bar-indigo","progress-bar-brown","progress-bar-yellow","progress-bar-magenta","progress-bar-green","progress-bar-blue","progress-bar-red","progress-bar-purple","progress-bar-teal","progress-bar-blue","progress-bar-indigo"]},armor:{armorTypeOptions:["Light","Medium","Heavy","Shield"],armorStealthOptions:["Advantage","Normal","Disadvantage"]},hitDiceType:{hitDiceOptions:["D4","D6","D8","D10","D12","D20"]},magicItem:{magicItemTypeOptions:["Armor","Armor (chain shirt)","Armor (light or medium or heavy)","Armor (medium or heavy but not hide)","Armor (plate)","Armor (scale mail)","Armor (shield)","Armor (studded leather)","Potion","Ring","Rod","Scroll","Staff","Sword","Wand","Weapon (any axe or sword)","Weapon (any axe)","Weapon (any sword that deals slashing damage)","Weapon (any sword)","Weapon (any)","Weapon (arrow)","Weapon (dagger)","Weapon (javelin)","Weapon (longbow)","Weapon (longsword)","Weapon (mace)","Weapon (maul)","Weapon (scimitar)","Weapon (trident)","Weapon (warhammer)","Wondrous item"],magicItemRarityOptions:["Common","Legendary","Rare","Rarity By Figurine","Rarity Varies","Uncommon","Varies","Very Rare","Very Rare Or Legendary"]},spell:{spellTypeOptions:["Ability Check","Attack Roll","Automatic","Contest","Melee Spell Attack","Ranged Spell Attack","Savings Throw"],spellSaveAttrOptions:["Str","Dex","Con","Int","Wis","Cha"],spellSchoolOptions:["Abjuration","Conjuration","Divination","Enchantment","Evocation","Illusion","Necromancy","Transmutation"],spellCastingTimeOptions:["1 action","1 action or 8 hours","1 bonus action","1 hour","1 minute","1 reaction","10 minutes","12 hours","24 hours","8 hours"],spellDurationOptions:["1 day","1 hour","1 minute","1 round","10 days","10 minutes","24 hours","30 days","7 days","8 hours","Concentration, up to 1 day","Concentration, up to 1 hour","Concentration, up to 1 minute","Concentration, up to 1 round","Concentration, up to 10 minutes","Concentration, up to 2 hours","Concentration, up to 24 hours","Concentration, up to 8 hours","Concentration, up to one minute","Instantaneous","Special","Until dispelled","Until dispelled or triggered","Up to 1 hour","Up to 1 minute","Up to 8 hours"],spellComponentsOptions:["S","S, M","V","V, M","V, S","V, S, M"],spellRangeOptions:["1 mile","10 feet","100 feet","120 feet","150 feet","30 feet","300 feet","5 feet","500 feet","500 miles","60 feet","90 feet","Self","Self (10-foot radius)","Self (10-foot-radius hemisphere)","Self (10-foot-radius sphere)","Self (100-foot line)","Self (15-foot cone)","Self (15-foot cube)","Self (15-foot radius)","Self (30-foot cone)","Self (30-foot radius)","Self (5-mile radius)","Self (60-foot cone)","Self (60-foot line)","Sight","Special","Touch","Unlimited"]},spellStats:{spellcastingAbilityOptions:["INT","WIS","CHA"]},proficiency:{proficiencyTypes:["Armor","Languages","Tools","Weapon"]},profile:{alignmentOptions:["Lawful good","Neutral good","Chaotic good","Lawful neutral","Neutral","Chaotic neutral","Lawful evil","Neutral evil","Chaotic evil"],backgroundOptions:["Acolyte","Charlatan","Criminal","Entertainer","Folk Hero","Guild Artisan","Hermit","Noble","Outlander","Sage","Sailor","Soldier","Urchin"],classOptions:["Barbarian","Bard","Cleric","Druid","Fighter","Monk","Paladin","Ranger","Rogue","Sorcerer","Warlock","Wizard"],raceOptions:["Dwarf","Hill Dwarf","High Elf","Elf","Lightfoot Halfling","Halfling","Human","Dragonborn","Rock Gnome","Gnome","Half-Elf","Half-Orc","Tiefling"]},weapon:{weaponDamageTypeOptions:["","Acid","Bludgeoning","Cold","Fire","Force","Lightning","Necrotic","Piercing","Poison","Psychic","Radiant","Slashing","Thunder"],weaponHandednessOptions:["One or Two Handed","One-Handed","Two-Handed"],weaponProficiencyOptions:["Martial","Simple"],weaponPropertyOptions:["","Ammunition","Ammunition and Heavy","Ammunition and Loading","Ammunition, Loading and Heavy","Finesse","Finesse and Reach","Finesse and Thrown","Finesse, Light and Thrown","Heavy","Heavy and Reach","Light","Light and Finesse","Light and Thrown","Light, Ammunition, and Loading","Ranged, Ammunition, and Loading","Reach and Special","Special and Thrown","Thrown","Thrown and Versatile","Versatile"],weaponTypeOptions:["Melee","Ranged"]},resting:{shortRestMessage:"Your relevant Spell Slots, Tracked Features, Feats, and Traits have been restored.",longRestMessage:"Your Hit Dice, Spell Slots, Hit Points, Tracked Features, Feats, and Traits have been restored.",shortRestEnum:"short",longRestEnum:"long"},wizardProfile:{classes:["Barbarian","Bard","Cleric","Druid","Fighter","Monk","Paladin","Ranger","Rogue","Sorcerer","Warlock","Wizard"],races:["Dwarf","Hill Dwarf","High Elf","Elf","Lightfoot Halfling","Halfling","Human","Dragonborn","Rock Gnome","Gnome","Half-Elf","Half-Orc","Tiefling"],backpackOptions:["----","Burglar's Pack","Diplomat's Pack","Dungeoneer's Pack","Entertainer's Pack","Explorer's Pack","Priest's Pack","Scholar's  Pack"]},statusPhraseWordMap:{health:[{value:1,status:"healthy",color:"success"},{value:.85,status:"mostly healthy",color:"success"},{value:.6,status:"injured",color:"warning"},{value:.3,status:"gravely injured",color:"warning"},{value:.15,status:"critically injured",color:"warning"},{value:.05,status:"about to die",color:"danger"},{value:0,status:"unconcious",color:"danger"}],magic:[{value:1,status:"magically prepared",color:"success"},{value:.6,status:"magically strained",color:"warning"},{value:.25,status:"magically exhausted",color:"warning"},{value:0,status:"magically depleted",color:"danger"}],tracked:[{value:1,status:"bursting with abilities",color:"success"},{value:.75,status:"good on abilities",color:"success"},{value:.5,status:"low on abilities",color:"warning"},{value:.25,status:"about to run out of abilities",color:"warning"},{value:0,status:"out of abilities",color:"danger"}]}}},function(e,t,n){"use strict";function a(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,a=-271733879,i=-1732584194,d=271733878,u=0;u<e.length;u+=16){var p=n,f=a,h=i,m=d;a=c(a=c(a=c(a=c(a=s(a=s(a=s(a=s(a=o(a=o(a=o(a=o(a=r(a=r(a=r(a=r(a,i=r(i,d=r(d,n=r(n,a,i,d,e[u+0],7,-680876936),a,i,e[u+1],12,-389564586),n,a,e[u+2],17,606105819),d,n,e[u+3],22,-1044525330),i=r(i,d=r(d,n=r(n,a,i,d,e[u+4],7,-176418897),a,i,e[u+5],12,1200080426),n,a,e[u+6],17,-1473231341),d,n,e[u+7],22,-45705983),i=r(i,d=r(d,n=r(n,a,i,d,e[u+8],7,1770035416),a,i,e[u+9],12,-1958414417),n,a,e[u+10],17,-42063),d,n,e[u+11],22,-1990404162),i=r(i,d=r(d,n=r(n,a,i,d,e[u+12],7,1804603682),a,i,e[u+13],12,-40341101),n,a,e[u+14],17,-1502002290),d,n,e[u+15],22,1236535329),i=o(i,d=o(d,n=o(n,a,i,d,e[u+1],5,-165796510),a,i,e[u+6],9,-1069501632),n,a,e[u+11],14,643717713),d,n,e[u+0],20,-373897302),i=o(i,d=o(d,n=o(n,a,i,d,e[u+5],5,-701558691),a,i,e[u+10],9,38016083),n,a,e[u+15],14,-660478335),d,n,e[u+4],20,-405537848),i=o(i,d=o(d,n=o(n,a,i,d,e[u+9],5,568446438),a,i,e[u+14],9,-1019803690),n,a,e[u+3],14,-187363961),d,n,e[u+8],20,1163531501),i=o(i,d=o(d,n=o(n,a,i,d,e[u+13],5,-1444681467),a,i,e[u+2],9,-51403784),n,a,e[u+7],14,1735328473),d,n,e[u+12],20,-1926607734),i=s(i,d=s(d,n=s(n,a,i,d,e[u+5],4,-378558),a,i,e[u+8],11,-2022574463),n,a,e[u+11],16,1839030562),d,n,e[u+14],23,-35309556),i=s(i,d=s(d,n=s(n,a,i,d,e[u+1],4,-1530992060),a,i,e[u+4],11,1272893353),n,a,e[u+7],16,-155497632),d,n,e[u+10],23,-1094730640),i=s(i,d=s(d,n=s(n,a,i,d,e[u+13],4,681279174),a,i,e[u+0],11,-358537222),n,a,e[u+3],16,-722521979),d,n,e[u+6],23,76029189),i=s(i,d=s(d,n=s(n,a,i,d,e[u+9],4,-640364487),a,i,e[u+12],11,-421815835),n,a,e[u+15],16,530742520),d,n,e[u+2],23,-995338651),i=c(i,d=c(d,n=c(n,a,i,d,e[u+0],6,-198630844),a,i,e[u+7],10,1126891415),n,a,e[u+14],15,-1416354905),d,n,e[u+5],21,-57434055),i=c(i,d=c(d,n=c(n,a,i,d,e[u+12],6,1700485571),a,i,e[u+3],10,-1894986606),n,a,e[u+10],15,-1051523),d,n,e[u+1],21,-2054922799),i=c(i,d=c(d,n=c(n,a,i,d,e[u+8],6,1873313359),a,i,e[u+15],10,-30611744),n,a,e[u+6],15,-1560198380),d,n,e[u+13],21,1309151649),i=c(i,d=c(d,n=c(n,a,i,d,e[u+4],6,-145523070),a,i,e[u+11],10,-1120210379),n,a,e[u+2],15,718787259),d,n,e[u+9],21,-343485551),n=l(n,p),a=l(a,f),i=l(i,h),d=l(d,m)}return[n,a,i,d]}function i(e,t,n,a,i,r){return l(function(e,t){return e<<t|e>>>32-t}(l(l(t,e),l(a,r)),i),n)}function r(e,t,n,a,r,o,s){return i(t&n|~t&a,e,t,r,o,s)}function o(e,t,n,a,r,o,s){return i(t&a|n&~a,e,t,r,o,s)}function s(e,t,n,a,r,o,s){return i(t^n^a,e,t,r,o,s)}function c(e,t,n,a,r,o,s){return i(n^(t|~a),e,t,r,o,s)}function l(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}var d=n(276);e.exports=function(e){return d(e,a)}},function(e,t,n){"use strict";(function(t){function a(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function i(e,t){return e<<t|e>>>32-t}function r(e,t,n,a,r,o,s,c){return i(e+(t^n^a)+o+s|0,c)+r|0}function o(e,t,n,a,r,o,s,c){return i(e+(t&n|~t&a)+o+s|0,c)+r|0}function s(e,t,n,a,r,o,s,c){return i(e+((t|~n)^a)+o+s|0,c)+r|0}function c(e,t,n,a,r,o,s,c){return i(e+(t&a|n&~a)+o+s|0,c)+r|0}function l(e,t,n,a,r,o,s,c){return i(e+(t^(n|~a))+o+s|0,c)+r|0}var d=n(3),u=n(109);d(a,u),a.prototype._update=function(){for(var e=new Array(16),t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,a=this._b,d=this._c,u=this._d,p=this._e;p=r(p,n=r(n,a,d,u,p,e[0],0,11),a,d=i(d,10),u,e[1],0,14),a=r(a=i(a,10),d=r(d,u=r(u,p,n,a,d,e[2],0,15),p,n=i(n,10),a,e[3],0,12),u,p=i(p,10),n,e[4],0,5),u=r(u=i(u,10),p=r(p,n=r(n,a,d,u,p,e[5],0,8),a,d=i(d,10),u,e[6],0,7),n,a=i(a,10),d,e[7],0,9),n=r(n=i(n,10),a=r(a,d=r(d,u,p,n,a,e[8],0,11),u,p=i(p,10),n,e[9],0,13),d,u=i(u,10),p,e[10],0,14),d=r(d=i(d,10),u=r(u,p=r(p,n,a,d,u,e[11],0,15),n,a=i(a,10),d,e[12],0,6),p,n=i(n,10),a,e[13],0,7),p=o(p=i(p,10),n=r(n,a=r(a,d,u,p,n,e[14],0,9),d,u=i(u,10),p,e[15],0,8),a,d=i(d,10),u,e[7],1518500249,7),a=o(a=i(a,10),d=o(d,u=o(u,p,n,a,d,e[4],1518500249,6),p,n=i(n,10),a,e[13],1518500249,8),u,p=i(p,10),n,e[1],1518500249,13),u=o(u=i(u,10),p=o(p,n=o(n,a,d,u,p,e[10],1518500249,11),a,d=i(d,10),u,e[6],1518500249,9),n,a=i(a,10),d,e[15],1518500249,7),n=o(n=i(n,10),a=o(a,d=o(d,u,p,n,a,e[3],1518500249,15),u,p=i(p,10),n,e[12],1518500249,7),d,u=i(u,10),p,e[0],1518500249,12),d=o(d=i(d,10),u=o(u,p=o(p,n,a,d,u,e[9],1518500249,15),n,a=i(a,10),d,e[5],1518500249,9),p,n=i(n,10),a,e[2],1518500249,11),p=o(p=i(p,10),n=o(n,a=o(a,d,u,p,n,e[14],1518500249,7),d,u=i(u,10),p,e[11],1518500249,13),a,d=i(d,10),u,e[8],1518500249,12),a=s(a=i(a,10),d=s(d,u=s(u,p,n,a,d,e[3],1859775393,11),p,n=i(n,10),a,e[10],1859775393,13),u,p=i(p,10),n,e[14],1859775393,6),u=s(u=i(u,10),p=s(p,n=s(n,a,d,u,p,e[4],1859775393,7),a,d=i(d,10),u,e[9],1859775393,14),n,a=i(a,10),d,e[15],1859775393,9),n=s(n=i(n,10),a=s(a,d=s(d,u,p,n,a,e[8],1859775393,13),u,p=i(p,10),n,e[1],1859775393,15),d,u=i(u,10),p,e[2],1859775393,14),d=s(d=i(d,10),u=s(u,p=s(p,n,a,d,u,e[7],1859775393,8),n,a=i(a,10),d,e[0],1859775393,13),p,n=i(n,10),a,e[6],1859775393,6),p=s(p=i(p,10),n=s(n,a=s(a,d,u,p,n,e[13],1859775393,5),d,u=i(u,10),p,e[11],1859775393,12),a,d=i(d,10),u,e[5],1859775393,7),a=c(a=i(a,10),d=c(d,u=s(u,p,n,a,d,e[12],1859775393,5),p,n=i(n,10),a,e[1],2400959708,11),u,p=i(p,10),n,e[9],2400959708,12),u=c(u=i(u,10),p=c(p,n=c(n,a,d,u,p,e[11],2400959708,14),a,d=i(d,10),u,e[10],2400959708,15),n,a=i(a,10),d,e[0],2400959708,14),n=c(n=i(n,10),a=c(a,d=c(d,u,p,n,a,e[8],2400959708,15),u,p=i(p,10),n,e[12],2400959708,9),d,u=i(u,10),p,e[4],2400959708,8),d=c(d=i(d,10),u=c(u,p=c(p,n,a,d,u,e[13],2400959708,9),n,a=i(a,10),d,e[3],2400959708,14),p,n=i(n,10),a,e[7],2400959708,5),p=c(p=i(p,10),n=c(n,a=c(a,d,u,p,n,e[15],2400959708,6),d,u=i(u,10),p,e[14],2400959708,8),a,d=i(d,10),u,e[5],2400959708,6),a=l(a=i(a,10),d=c(d,u=c(u,p,n,a,d,e[6],2400959708,5),p,n=i(n,10),a,e[2],2400959708,12),u,p=i(p,10),n,e[4],2840853838,9),u=l(u=i(u,10),p=l(p,n=l(n,a,d,u,p,e[0],2840853838,15),a,d=i(d,10),u,e[5],2840853838,5),n,a=i(a,10),d,e[9],2840853838,11),n=l(n=i(n,10),a=l(a,d=l(d,u,p,n,a,e[7],2840853838,6),u,p=i(p,10),n,e[12],2840853838,8),d,u=i(u,10),p,e[2],2840853838,13),d=l(d=i(d,10),u=l(u,p=l(p,n,a,d,u,e[10],2840853838,12),n,a=i(a,10),d,e[14],2840853838,5),p,n=i(n,10),a,e[1],2840853838,12),p=l(p=i(p,10),n=l(n,a=l(a,d,u,p,n,e[3],2840853838,13),d,u=i(u,10),p,e[8],2840853838,14),a,d=i(d,10),u,e[11],2840853838,11),a=l(a=i(a,10),d=l(d,u=l(u,p,n,a,d,e[6],2840853838,8),p,n=i(n,10),a,e[15],2840853838,5),u,p=i(p,10),n,e[13],2840853838,6),u=i(u,10);var f=this._a,h=this._b,m=this._c,b=this._d,v=this._e;v=l(v,f=l(f,h,m,b,v,e[5],1352829926,8),h,m=i(m,10),b,e[14],1352829926,9),h=l(h=i(h,10),m=l(m,b=l(b,v,f,h,m,e[7],1352829926,9),v,f=i(f,10),h,e[0],1352829926,11),b,v=i(v,10),f,e[9],1352829926,13),b=l(b=i(b,10),v=l(v,f=l(f,h,m,b,v,e[2],1352829926,15),h,m=i(m,10),b,e[11],1352829926,15),f,h=i(h,10),m,e[4],1352829926,5),f=l(f=i(f,10),h=l(h,m=l(m,b,v,f,h,e[13],1352829926,7),b,v=i(v,10),f,e[6],1352829926,7),m,b=i(b,10),v,e[15],1352829926,8),m=l(m=i(m,10),b=l(b,v=l(v,f,h,m,b,e[8],1352829926,11),f,h=i(h,10),m,e[1],1352829926,14),v,f=i(f,10),h,e[10],1352829926,14),v=c(v=i(v,10),f=l(f,h=l(h,m,b,v,f,e[3],1352829926,12),m,b=i(b,10),v,e[12],1352829926,6),h,m=i(m,10),b,e[6],1548603684,9),h=c(h=i(h,10),m=c(m,b=c(b,v,f,h,m,e[11],1548603684,13),v,f=i(f,10),h,e[3],1548603684,15),b,v=i(v,10),f,e[7],1548603684,7),b=c(b=i(b,10),v=c(v,f=c(f,h,m,b,v,e[0],1548603684,12),h,m=i(m,10),b,e[13],1548603684,8),f,h=i(h,10),m,e[5],1548603684,9),f=c(f=i(f,10),h=c(h,m=c(m,b,v,f,h,e[10],1548603684,11),b,v=i(v,10),f,e[14],1548603684,7),m,b=i(b,10),v,e[15],1548603684,7),m=c(m=i(m,10),b=c(b,v=c(v,f,h,m,b,e[8],1548603684,12),f,h=i(h,10),m,e[12],1548603684,7),v,f=i(f,10),h,e[4],1548603684,6),v=c(v=i(v,10),f=c(f,h=c(h,m,b,v,f,e[9],1548603684,15),m,b=i(b,10),v,e[1],1548603684,13),h,m=i(m,10),b,e[2],1548603684,11),h=s(h=i(h,10),m=s(m,b=s(b,v,f,h,m,e[15],1836072691,9),v,f=i(f,10),h,e[5],1836072691,7),b,v=i(v,10),f,e[1],1836072691,15),b=s(b=i(b,10),v=s(v,f=s(f,h,m,b,v,e[3],1836072691,11),h,m=i(m,10),b,e[7],1836072691,8),f,h=i(h,10),m,e[14],1836072691,6),f=s(f=i(f,10),h=s(h,m=s(m,b,v,f,h,e[6],1836072691,6),b,v=i(v,10),f,e[9],1836072691,14),m,b=i(b,10),v,e[11],1836072691,12),m=s(m=i(m,10),b=s(b,v=s(v,f,h,m,b,e[8],1836072691,13),f,h=i(h,10),m,e[12],1836072691,5),v,f=i(f,10),h,e[2],1836072691,14),v=s(v=i(v,10),f=s(f,h=s(h,m,b,v,f,e[10],1836072691,13),m,b=i(b,10),v,e[0],1836072691,13),h,m=i(m,10),b,e[4],1836072691,7),h=o(h=i(h,10),m=o(m,b=s(b,v,f,h,m,e[13],1836072691,5),v,f=i(f,10),h,e[8],2053994217,15),b,v=i(v,10),f,e[6],2053994217,5),b=o(b=i(b,10),v=o(v,f=o(f,h,m,b,v,e[4],2053994217,8),h,m=i(m,10),b,e[1],2053994217,11),f,h=i(h,10),m,e[3],2053994217,14),f=o(f=i(f,10),h=o(h,m=o(m,b,v,f,h,e[11],2053994217,14),b,v=i(v,10),f,e[15],2053994217,6),m,b=i(b,10),v,e[0],2053994217,14),m=o(m=i(m,10),b=o(b,v=o(v,f,h,m,b,e[5],2053994217,6),f,h=i(h,10),m,e[12],2053994217,9),v,f=i(f,10),h,e[2],2053994217,12),v=o(v=i(v,10),f=o(f,h=o(h,m,b,v,f,e[13],2053994217,9),m,b=i(b,10),v,e[9],2053994217,12),h,m=i(m,10),b,e[7],2053994217,5),h=r(h=i(h,10),m=o(m,b=o(b,v,f,h,m,e[10],2053994217,15),v,f=i(f,10),h,e[14],2053994217,8),b,v=i(v,10),f,e[12],0,8),b=r(b=i(b,10),v=r(v,f=r(f,h,m,b,v,e[15],0,5),h,m=i(m,10),b,e[10],0,12),f,h=i(h,10),m,e[4],0,9),f=r(f=i(f,10),h=r(h,m=r(m,b,v,f,h,e[1],0,12),b,v=i(v,10),f,e[5],0,5),m,b=i(b,10),v,e[8],0,14),m=r(m=i(m,10),b=r(b,v=r(v,f,h,m,b,e[7],0,6),f,h=i(h,10),m,e[6],0,8),v,f=i(f,10),h,e[2],0,13),v=r(v=i(v,10),f=r(f,h=r(h,m,b,v,f,e[13],0,6),m,b=i(b,10),v,e[14],0,5),h,m=i(m,10),b,e[0],0,15),h=r(h=i(h,10),m=r(m,b=r(b,v,f,h,m,e[3],0,13),v,f=i(f,10),h,e[9],0,11),b,v=i(v,10),f,e[11],0,11),b=i(b,10);var g=this._b+d+b|0;this._b=this._c+u+v|0,this._c=this._d+p+f|0,this._d=this._e+n+h|0,this._e=this._a+a+m|0,this._a=g},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=a}).call(t,n(8).Buffer)},function(e,t,n){function a(){i.call(this)}e.exports=a;var i=n(73).EventEmitter;n(3)(a,i),a.Readable=n(74),a.Writable=n(283),a.Duplex=n(284),a.Transform=n(285),a.PassThrough=n(286),a.Stream=a,a.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function a(){l.readable&&l.resume&&l.resume()}function r(){d||(d=!0,e.end())}function o(){d||(d=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(c(),0===i.listenerCount(this,"error"))throw e}function c(){l.removeListener("data",n),e.removeListener("drain",a),l.removeListener("end",r),l.removeListener("close",o),l.removeListener("error",s),e.removeListener("error",s),l.removeListener("end",c),l.removeListener("close",c),e.removeListener("close",c)}var l=this;l.on("data",n),e.on("drain",a),e._isStdio||t&&!1===t.end||(l.on("end",r),l.on("close",o));var d=!1;return l.on("error",s),e.on("error",s),l.on("end",c),l.on("close",c),e.on("close",c),e.emit("pipe",l),e}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function r(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(n=this._events[e],r(n))return!1;if(a(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),o=(l=n.slice()).length,c=0;c<o;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=r(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!a(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,o,s;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||a(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],a(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(t=e.exports=n(110)).Stream=t,t.Readable=t,t.Writable=n(75),t.Duplex=n(34),t.Transform=n(113),t.PassThrough=n(282)},function(e,t,n){"use strict";(function(t,a,i){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var a=e.entry;e.entry=null;for(;a;){var i=a.callback;t.pendingcb--,i(n),a=a.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}function o(){}function s(e,t){v=v||n(34),e=e||{},this.objectMode=!!e.objectMode,t instanceof v&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var a=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,a=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,a,i){--t.pendingcb,n?(b(i,a),b(m,e,t),e._writableState.errorEmitted=!0,e.emit("error",a)):(i(a),e._writableState.errorEmitted=!0,e.emit("error",a),m(e,t))}(e,n,a,t,i);else{var r=f(n);r||n.corked||n.bufferProcessing||!n.bufferedRequest||p(e,n),a?g(u,e,n,r,i):u(e,n,r,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function c(e){if(v=v||n(34),!(I.call(c,this)||this instanceof v))return new c(e);this._writableState=new s(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),w.call(this)}function l(e,t,n,a,i,r){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=k.from(t,n)),t}(t,a,i);a!==o&&(n=!0,i="buffer",a=o)}var s=t.objectMode?1:a.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:a,encoding:i,isBuf:n,callback:r,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else d(e,t,!1,s,a,i,r);return c}function d(e,t,n,a,i,r,o){t.writelen=a,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,r,t.onwrite),t.sync=!1}function u(e,t,n,a){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,a(),m(e,t)}function p(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var a=t.bufferedRequestCount,i=new Array(a),o=t.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,d(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t)}else{for(;n;){var l=n.chunk,u=n.encoding,p=n.callback;if(d(e,t,!1,t.objectMode?1:l.length,l,u,p),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function f(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function h(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),m(e,t)})}function m(e,t){var n=f(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,b(h,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}var b=n(53);e.exports=c;var v,g=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?a:b;c.WritableState=s;var y=n(44);y.inherits=n(3);var x={deprecate:n(281)},w=n(111),k=n(7).Buffer,S=i.Uint8Array||function(){},C=n(112);y.inherits(c,w),s.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(s.prototype,"buffer",{get:x.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var I;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!I.call(this,e)||e&&e._writableState instanceof s}})):I=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,n){var a=this._writableState,i=!1,r=function(e){return k.isBuffer(e)||e instanceof S}(e)&&!a.objectMode;return r&&!k.isBuffer(e)&&(e=function(e){return k.from(e)}(e)),"function"==typeof t&&(n=t,t=null),r?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof n&&(n=o),a.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),b(t,n)}(this,n):(r||function(e,t,n,a){var i=!0,r=!1;return null===n?r=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r&&(e.emit("error",r),b(a,r),i=!1),i}(this,a,e,n))&&(a.pendingcb++,i=l(this,a,r,e,t,n)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||p(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},c.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,n){var a=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||a.finished||function(e,t,n){t.ending=!0,m(e,t),n&&(t.finished?b(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,a,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=C.destroy,c.prototype._undestroy=C.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(29),n(279).setImmediate,n(26))},function(e,t,n){"use strict";function a(e){this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(p.isEncoding===f||!f(e)))throw new Error("Unknown encoding: "+e);return t||e}(e);var t;switch(this.encoding){case"utf16le":this.text=o,this.end=s,t=4;break;case"utf8":this.fillLast=r,t=4;break;case"base64":this.text=c,this.end=l,t=3;break;default:return this.write=d,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(t)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function r(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function o(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var a=n.charCodeAt(n.length-1);if(a>=55296&&a<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function s(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function u(e){return e&&e.length?this.write(e):""}var p=n(7).Buffer,f=p.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t},a.prototype.text=function(e,t){var n=function(e,t,n){var a=t.length-1;if(a<n)return 0;var r=i(t[a]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--a<n?0:(r=i(t[a]))>=0?(r>0&&(e.lastNeed=r-2),r):--a<n?0:(r=i(t[a]))>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var a=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,a),e.toString("utf8",t,a)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(287),t.sha1=n(288),t.sha224=n(289),t.sha256=n(114),t.sha384=n(290),t.sha512=n(115)},function(e,t,n){var a=n(296),i=n(304),r=n(124);t.createCipher=t.Cipher=a.createCipher,t.createCipheriv=t.Cipheriv=a.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(r)}},function(e,t,n){var a={ECB:n(297),CBC:n(298),CFB:n(299),CFB8:n(300),CFB1:n(301),OFB:n(302),CTR:n(122),GCM:n(122)},i=n(124);for(var r in i)i[r].module=a[i[r].mode];e.exports=i},function(e,t,n){"use strict";t.utils=n(306),t.Cipher=n(307),t.DES=n(308),t.CBC=n(309),t.EDE=n(310)},function(e,t,n){(function(t){function a(e,n){var a=function(e){var t=i(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),o=n.modulus.byteLength(),s=(r.mont(n.modulus),new r(e).mul(a.blinder).umod(n.modulus)),c=s.toRed(r.mont(n.prime1)),l=s.toRed(r.mont(n.prime2)),d=n.coefficient,u=n.prime1,p=n.prime2,f=c.redPow(n.exponent1),h=l.redPow(n.exponent2);f=f.fromRed(),h=h.fromRed();var m=f.isub(h).imul(d).umod(u);return m.imul(p),h.iadd(m),new t(h.imul(a.unblinder).umod(n.modulus).toArray(!1,o))}function i(e){for(var t=e.modulus.byteLength(),n=new r(o(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new r(o(t));return n}var r=n(13),o=n(36);e.exports=a,a.getr=i}).call(t,n(8).Buffer)},function(e,t,n){var a=t;a.utils=n(27),a.common=n(46),a.sha=n(326),a.ripemd=n(330),a.hmac=n(331),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(84),i=n(38),r=n(2),o={__activeCharacter__:null};o.changeCharacter=function(e){var t=r.a.findFirstBy(a.a,"key",e);try{i.a.characterManager.changing.dispatch(o.activeCharacter(),t),o.__activeCharacter__=t,i.a.characterManager.changed.dispatch(o.activeCharacter())}catch(e){console.log(e)}},o.activeCharacter=function(){return o.__activeCharacter__?o.__activeCharacter__:null}},function(e,t,n){"use strict";function a(){var e=this;e.ps=p.a.register(a,e),e.key=x.a.observable(null),e.playerType=x.a.observable(m.a.characterPlayerType),e.isDefault=x.a.observable(!1),e.saveApi="/api/storage/upload/",e.importValues=function(t){e.key(t.key),e.isDefault(t.isDefault);for(var n=Object.keys(m.a),a=0;a<n.length;a++)m.a[n[a]].key===t.playerType.key&&e.playerType(m.a[n[a]])},e.exportValues=function(){return{key:e.key(),isDefault:e.isDefault(),playerType:e.playerType()}},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.playerSummary=x.a.pureComputed(function(){var t="character"==e.playerType().key?b.a:o.a,n=p.a.findFirstBy(t,"characterId",e.key());return n?n.summary():""}),e.playerAuthor=x.a.pureComputed(function(){var t="character"==e.playerType().key?b.a:o.a,n=p.a.findFirstBy(t,"characterId",e.key());return n?n.playerName():""}),e.playerTitle=x.a.pureComputed(function(){var t="character"==e.playerType().key?b.a:o.a,n="character"==e.playerType().key?"characterName":"name",a=p.a.findFirstBy(t,"characterId",e.key());return a?a[n]():""}),e.playerImage=x.a.pureComputed(function(){var t="https://www.gravatar.com/avatar/{}?d=mm",n=p.a.findFirstBy(f.a,"characterId",e.key());if(!n)return t;if("link"===n.imageSource()){var a=p.a.findFirstBy(l.a,"characterId",e.key());return a&&a.imageUrl()?g.a.string.createDirectDropboxLink(a.imageUrl()):t}if("email"===n.imageSource()){var i=p.a.findFirstBy(h.a,"characterId",e.key());return i&&i.gravatarUrl()?i.gravatarUrl():t}return t}),e.exportCharacter=function(){return u.a.global.save.dispatch(),encodeURIComponent(JSON.stringify(a.exportCharacter(e.key())))},e.saveToFile=function(){var t=e.playerTitle(),n=new Blob([e.exportCharacter()],{type:"application/json"});k()(n,t)},e.saveToDropbox=function(){var t=p.a.findAll(r.a)[0],n={data:e.exportCharacter()};g.a.oauth.postData(e.saveApi,n,function(t){c.a.save(JSON.parse(t).url,e.playerTitle()+".json",v.a.dropboxSaveOptions)},null,t.accessToken())}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(49)),o=n(85),s=n(365),c=n.n(s),l=n(58),d=n(144),u=n(38),p=n(2),f=n(59),h=n(60),m=n(145),b=n(61),v=n(62),g=n(50),y=n(0),x=n.n(y),w=n(368),k=n.n(w),S=n(22),C=n.n(S);a.exportCharacter=function(e){var t={};return p.a.listAll().forEach(function(n,a,i){if(void 0!==p.a.registry[n]){var r=p.a.findAllByName(n).filter(function(t,n,a){var i=!1;try{i=t.characterId()===e}catch(n){try{i=t.key()===e}catch(e){}}return i});t[n]=r.map(function(e,t,n){return e.exportValues()})}}),t.__version__="1.5.2",t},a.importCharacter=function(e){var t=null,n=e.__version__?e.__version__.substr(0):void 0;if(delete e.__version__,p.a.withTemporaryDataStore({},function(){p.a._setVersion(n);var i=a._injectCharacter(e);p.a.migrate(d.a.scripts,"1.5.2"),t=a.exportCharacter(i.key)}),!t)throw"Migration of imported character failed.";return delete t.__version__,a._importCharacter(t)},a._importCharacter=function(e){var t=null,n=Object.keys(e),i=C.a.v4();return n.forEach(function(n,r,o){var s=p.a.registry[n];e[n].forEach(function(e,r,o){var c=new s;e=a._changeIdForData(i,e),c.importValues(e),p.a.save(s,c),"character"===n.toLowerCase()&&(t=c)})}),t},a._injectCharacter=function(e){var t=null,n=Object.keys(e);C.a.v4();return n.forEach(function(n,a,i){e[n].forEach(function(e,a,i){p.a.saveObj(n,a,e),"character"===n.toLowerCase()&&(t=e)})}),t},a._changeIdForData=function(e,t){return Object.keys(t).indexOf("characterId")>-1?t.characterId=e:Object.keys(t).indexOf("key")>-1&&(t.key=e),t},a.__name="Character",p.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","playerName","name","createdDate","setting"]},e.characterId=o.a.observable(),e.playerName=o.a.observable(),e.setting=o.a.observable(),e.name=o.a.observable(),e.createdDate=o.a.observable(),e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.clear=function(){var t=(new a).exportValues();o.a.mapping.fromJS(t,e.mapping,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)},e.summary=function(){return e.name()&&e.playerName()?e.name()+": A story by "+e.playerName():"A long long time ago..."}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="Campaign",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","maxHitpoints","tempHitpoints","damage"]},e.DANGER_THRESHOLD=.3,e.WARNING_THRESHOLD=.5,e.characterId=s.a.observable(null),e.maxHitpoints=s.a.observable(10),e.tempHitpoints=s.a.observable(0),e.damage=s.a.observable(0),e.hitpoints=s.a.pureComputed(function(){var t=e.damage()?parseInt(e.damage()):0;return e.totalHitpoints()-t},e),e.totalHitpoints=s.a.pureComputed(function(){return(e.maxHitpoints()?parseInt(e.maxHitpoints()):0)+(e.tempHitpoints()?parseInt(e.tempHitpoints()):0)},e),e.tempHitpointsRemaining=s.a.pureComputed(function(){var t=e.damage()?parseInt(e.damage()):0;return(e.tempHitpoints()?parseInt(e.tempHitpoints()):0)-t},e),e.regularHitpointsRemaining=s.a.pureComputed(function(){if(e.tempHitpointsRemaining()>0)return parseInt(e.maxHitpoints());var t=e.damage()?parseInt(e.damage()):0,n=e.tempHitpoints()?parseInt(e.tempHitpoints()):0;return(e.maxHitpoints()?parseInt(e.maxHitpoints()):0)-(t-n)},e),e.hitpointsText=s.a.pureComputed(function(){return"HP: "+e.hitpoints().toString()}),e.isKnockedOut=s.a.pureComputed(function(){return parseInt(e.hitpoints())/parseInt(e.totalHitpoints())<=0},e),e.isDangerous=s.a.pureComputed(function(){return parseInt(e.hitpoints())/parseInt(e.totalHitpoints())<e.DANGER_THRESHOLD},e),e.isWarning=s.a.pureComputed(function(){return parseInt(e.hitpoints())/parseInt(e.totalHitpoints())<e.WARNING_THRESHOLD},e),e.progressType=s.a.pureComputed(function(){var t="progress-bar-success";return e.isWarning()&&(t="progress-bar-warning"),e.isDangerous()&&(t="progress-bar-danger"),t},e),e.regularProgressWidth=s.a.pureComputed(function(){return e.isKnockedOut()?"100%":parseInt(e.regularHitpointsRemaining())/parseInt(e.totalHitpoints())*100+"%"},e),e.tempProgressWidth=s.a.pureComputed(function(){return e.tempHitpointsRemaining()<0?"0%":parseInt(e.tempHitpointsRemaining())/parseInt(e.totalHitpoints())*100+"%"},e),e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="Health",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.characterId=s.a.observable(null),e.hitDiceUsed=s.a.observable(!1),e.clear=function(){e.hitDiceUsed(!1)},e.importValues=function(t){e.characterId(t.characterId),e.hitDiceUsed(t.hitDiceUsed)},e.exportValues=function(){return{characterId:e.characterId(),hitDiceUsed:e.hitDiceUsed()}},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.toggleHitDice=function(){e.hitDiceUsed(!e.hitDiceUsed()),e.save()},e.hitDiceIcon=s.a.pureComputed(function(){var t="dice-full";return e.hitDiceUsed()&&(t="dice-empty"),t})}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="HitDice",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=o.a.register(a,e),e.mapping={include:["characterId","spellcastingAbility","spellSaveDc","spellAttackBonus","spellsKnown","spellsCantripsKnown","spellsInvocationsKnown","spellsMaxPrepared"]},e.characterId=c.a.observable(null),e.spellcastingAbility=c.a.observable(""),e.spellSaveDc=c.a.observable(0),e.spellAttackBonus=c.a.observable(0),e.spellsKnown=c.a.observable(0),e.spellsCantripsKnown=c.a.observable(0),e.spellsInvocationsKnown=c.a.observable(0),e.spellsMaxPrepared=c.a.observable(0),e.spellcastingAbilityOptions=c.a.observableArray(r.c.spellStats.spellcastingAbilityOptions),e.clear=function(){var t=(new a).exportValues(),n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=c.a.mapping.autoignore(e,e.mapping);return c.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(1)),o=n(2),s=n(0),c=n.n(s);a.__name="SpellStats",o.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=o.a.register(a,e),e.mapping={include:["characterId","armorName","armorType","armorPrice","armorMagicalModifier","armorCurrencyDenomination","armorWeight","armorClass","armorStealth","armorDescription","armorEquipped"]},e._dummy=c.a.observable(null),e.characterId=c.a.observable(null),e.armorName=c.a.observable(""),e.armorType=c.a.observable(""),e.armorPrice=c.a.observable(""),e.armorMagicalModifier=c.a.observable(0),e.armorCurrencyDenomination=c.a.observable(""),e.armorWeight=c.a.observable(""),e.armorClass=c.a.observable(""),e.armorStealth=c.a.observable(""),e.armorDescription=c.a.observable(""),e.armorEquipped=c.a.observable(""),e.armorTypeOptions=c.a.observableArray(i.c.armor.armorTypeOptions),e.armorStealthOptions=c.a.observableArray(i.c.armor.armorStealthOptions),e.acLabel=c.a.pureComputed(function(){return e.armorClass()?"AC "+e.armorClass():""}),e.armorDescriptionHTML=c.a.pureComputed(function(){return e.armorDescription()?e.armorDescription().replace(/\n/g,"<br />"):'<div class="h3"><small>Add a description via the edit tab.</small></div>'}),e.magicalModifierLabel=c.a.pureComputed(function(){e._dummy();var t=e.armorMagicalModifier();return 0!=t?t>=0?"+ "+t:"- "+Math.abs(t):""}),e.armorSummaryLabel=c.a.pureComputed(function(){return 0!=e.armorMagicalModifier()?e.acLabel()?e.magicalModifierLabel()+", "+e.acLabel():e.magicalModifierLabel():e.acLabel()}),e.applyMagicalModifierLabel=c.a.pureComputed(function(){return""!==e.magicalModifierLabel()}),e.armorWeightLabel=c.a.pureComputed(function(){return""!==e.armorWeight()&&e.armorWeight()>=0?e.armorWeight()+" lbs.":"0 lbs."}),e.clear=function(){var t=(new a).exportValues(),n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=c.a.mapping.autoignore(e,e.mapping);return c.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.updateValues=function(){e._dummy.notifySubscribers()},e.dexAbilityScoreModifier=function(){e._dummy();var t=null;try{t=o.a.findBy(r.a,"characterId",i.a.activeCharacter().key())[0].modifierFor("Dex")}catch(e){}return null===t?null:parseInt(t)},e.abilityScoreBonus=c.a.pureComputed(function(){e._dummy();var t=e.dexAbilityScoreModifier();return t?"Light"===e.armorType()?t:"Medium"===e.armorType()?t>=2?2:t:void 0:0}),e.armorClassLabel=c.a.pureComputed(function(){e._dummy();var t=0,n=e.abilityScoreBonus(),a=parseInt(e.armorClass());return n&&(t+=n),a&&(t+=a),t})}t.a=a;var i=n(1),r=n(28),o=(n(10),n(2)),s=(n(12),n(0)),c=n.n(s);a.__name="Armor",o.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","platinum","gold","electrum","silver","copper"]},e.characterId=s.a.observable(null),e.platinum=s.a.observable(0),e.gold=s.a.observable(0),e.electrum=s.a.observable(0),e.silver=s.a.observable(0),e.copper=s.a.observable(0),e.worthInGold=s.a.computed(function(){var t=10*(parseInt(e.platinum())||0)+(parseInt(e.gold())||0)+(parseInt(e.electrum())||0)/2+(parseInt(e.silver())||0)/10+(parseInt(e.copper())||0)/100;return Math.round(t)}),e.totalWeight=s.a.pureComputed(function(){var t=0;return t+=e.platinum()?parseInt(e.platinum()):0,t+=e.gold()?parseInt(e.gold()):0,t+=e.electrum()?parseInt(e.electrum()):0,t+=e.silver()?parseInt(e.silver()):0,t+=e.copper()?parseInt(e.copper()):0,t=Math.floor(t/50)}),e.totalWeightLabel=s.a.pureComputed(function(){return e.totalWeight()+" (lbs)"}),e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="Treasure",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=o.a.register(a,e),e.mapping={include:["characterId","to","from","type","id","body","html","invite","item","subject","dateReceived","read"]},e.characterId=d.a.observable(),e.type=d.a.observable(),e.to=d.a.observable(),e.from=d.a.observable(),e.id=d.a.observable(),e.dateReceived=d.a.observable(),e.read=d.a.observable(!1),e.item=d.a.observable(),e.html=d.a.observable(),e.body=d.a.observable(),e.subject=d.a.observable(),e.invite=d.a.observable(),e.messageType=function(){return e.subject()||e.invite()?r.a.META:e.item()||!e.html()&&!e.body()?e.route()==r.a.READ_ALOUD?r.a.READ_ALOUD:e.route()==r.a.IMAGE?r.a.IMAGE:e.route()==r.a.FORM?r.a.FORM:null:r.a.CHAT},e.shortHtml=d.a.pureComputed(function(){return i.g.string.truncateStringAtLength(e.html(),100)}),e.route=d.a.pureComputed(function(){return e.item()?e.item().xmlns.split("#")[1]:null}),e.fromUsername=d.a.pureComputed(function(){return c.a.getResourceFromJid(e.from())}),e.fromBare=d.a.pureComputed(function(){return c.a.getBareJidFromJid(e.from())}),e.clear=function(){var t=(new a).exportValues(),n=d.a.mapping.autoignore(e,e.mapping);d.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=d.a.mapping.autoignore(e,e.mapping);d.a.mapping.fromJS(t,n,e),e.item(t.item)},e.exportValues=function(){var t=d.a.mapping.autoignore(e,e.mapping);return d.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.toText=function(){var t="";return e.dateReceived()&&(t=new Date(e.dateReceived()).toDateString()),"**{date}**\n\n{text}".replace("{date}",t).replace("{text}",e.html())},e.tree=function(){var t=$msg({to:e.to(),from:e.from(),id:e.id(),type:e.type()}).c("body").up().c("html",{xmlns:c.a.NS.HTML}).c("body",{},e.html()).up();return e.item()&&t.c("item",{xmlns:e.item().xmlns}).cnode(i.d.getElement(e.item().json,{compressed:!0,compression:"lz-string"}).node),t.tree()}}t.a=a;var i=n(1),r=n(92),o=n(2),s=n(35),c=n.n(s),l=n(0),d=n.n(l);a.fromTree=function(e){var t=null;$(e).find("item").length>0&&(t={xmlns:$(e).find("item").attr("xmlns"),json:i.d.getContents($(e).find("item json"))});var n=new a;return n.importValues({characterId:i.a.activeCharacter().key(),to:$(e).attr("to"),from:$(e).attr("from"),id:$(e).attr("id"),type:$(e).attr("type"),body:$(e).find("body").text(),html:$(e).find("html body").text(),subject:$(e).find("subject").text(),invite:$(e).find("invite").length>0,dateReceived:(new Date).getTime()}),n.item(t),n},a.__name="Message",o.a.addToRegistry(a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={META:"meta",CHAT:"chat",SYSTEM:"system",READ_ALOUD:"read-aloud",IMAGE:"image",FORM:"form"}},function(e,t,n){"use strict";function a(){var e=this;e.ps=s.a.register(a,e),e.mapping={include:["hasParticipantRole","hasModeratorRole","hasNoneRole","from","hasError","dateReceived"]},e.messageType=u.a.observable(r.a.SYSTEM),e.clear=function(){var t=(new a).exportValues(),n=u.a.mapping.autoignore(e,e.mapping);u.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=u.a.mapping.autoignore(e,e.mapping);u.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=u.a.mapping.autoignore(e,e.mapping);return u.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.fromUsername=function(){return l.a.getResourceFromJid(e.from())},e.fromBare=function(){return l.a.getBareJidFromJid(e.from())},e.regardsCurrentParty=function(){var t=o.a.sharedService();return e.fromBare()===l.a.getBareJidFromJid(t.currentPartyNode)},e.regardsActiveRoom=function(){var t=o.a.sharedService();return 0==t.getAllRooms().length||t.getAllRooms().some(function(t,n,a){return e.fromBare()===l.a.getBareJidFromJid(t)})},e.regardsJoiningRoom=function(){return e.regardsActiveRoom()&&(e.hasParticipantRole()||e.hasModeratorRole())},e.regardsLeavingRoom=function(){return e.hasNoneRole()},e.regardsLeavingParty=function(){return e.hasNoneRole()&&e.regardsCurrentParty()},e.html=u.a.pureComputed(function(){return e.regardsJoiningRoom()?e.fromUsername()+" has joined the room.":e.regardsLeavingRoom()?e.fromUsername()+" has left the room.":"something else has happened."}),e.shortHtml=e.html}t.a=a;n(5);var i=n(4),r=(n.n(i),n(92)),o=n(51),s=n(2),c=(n(12),n(35)),l=n.n(c),d=n(0),u=n.n(d);a.fromTree=function(e){var t=new a;return t.importValues({hasParticipantRole:$(e).find('item[role="participant"]').length>0,hasModeratorRole:$(e).find('item[role="moderator"]').length>0,hasNoneRole:$(e).find('item[role="none"]').length>0,from:$(e).attr("from"),hasError:$(e).find("error").length>0,dateReceived:(new Date).getTime()}),t},a.__name="Presence",s.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","name","url"]},e.characterId=o.a.observable(),e.name=o.a.observable(),e.url=o.a.observable(),e.toJSON=function(){return{name:e.name(),url:e.url()}},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.clear=function(){var t=(new a).exportValues();o.a.mapping.fromJS(t,e.mapping,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="Exhibit",i.a.addToRegistry(a)},function(e,t,n){"use strict";var a=n(92);n.d(t,"a",function(){return a.a});var i=n(51);n.d(t,"b",function(){return i.a});var r=n(154);n.d(t,"c",function(){return r.a})},function(e,t,n){"use strict";function a(){var e=this;e.DESCRIPTION_MAX_LENGTH=145,e.ps=o.a.register(a,e),e.mapping={include:["characterId","magicItemName","magicItemType","magicItemRarity","magicItemRequiresAttunement","magicItemAttuned","magicItemMaxCharges","magicItemCharges","magicItemWeight","magicItemDescription"]},e.characterId=c.a.observable(null),e.magicItemName=c.a.observable(""),e.magicItemType=c.a.observable(""),e.magicItemRarity=c.a.observable(""),e.magicItemRequiresAttunement=c.a.observable(!1),e.magicItemAttuned=c.a.observable(!1),e.magicItemMaxCharges=c.a.observable(0),e.magicItemCharges=c.a.observable(0),e.magicItemWeight=c.a.observable(0),e.magicItemDescription=c.a.observable(""),e.magicItemTypeOptions=c.a.observableArray(r.c.magicItem.magicItemTypeOptions),e.magicItemRarityOptions=c.a.observableArray(r.c.magicItem.magicItemRarityOptions),e.chargesDisplay=c.a.pureComputed(function(){return 0==e.magicItemMaxCharges()?"N/A":e.magicItemCharges()}),e.magicItemDescriptionHTML=c.a.pureComputed(function(){return e.magicItemDescription()?e.magicItemDescription().replace(/\n/g,"<br />"):'<div class="h3"><small>Add a description via the edit tab.</small></div>'}),e.shortDescription=c.a.pureComputed(function(){return r.g.string.truncateStringAtLength(e.magicItemDescription(),e.DESCRIPTION_MAX_LENGTH)}),e.magicItemNameLabel=c.a.pureComputed(function(){return!0===e.magicItemAttuned()?e.magicItemName()+" (Attuned)":e.magicItemName()}),e.magicItemWeightLabel=c.a.pureComputed(function(){return""!==e.magicItemWeight()&&e.magicItemWeight()>=0?e.magicItemWeight()+" lbs.":"0 lbs."}),e.clear=function(){var t=(new a).exportValues(),n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=c.a.mapping.autoignore(e,e.mapping);return c.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(1)),o=n(2),s=n(0),c=n.n(s);a.__name="MagicItem",o.a.addToRegistry(a)},function(e,t,n){"use strict";function a(e){var t=e?{v:e}:{};return(0,r.inherits)(o,(0,i.createTokenClass)(),t)}t.__esModule=!0,t.AMPERSAND=t.CLOSEPAREN=t.CLOSEANGLEBRACKET=t.CLOSEBRACKET=t.CLOSEBRACE=t.OPENPAREN=t.OPENANGLEBRACKET=t.OPENBRACKET=t.OPENBRACE=t.WS=t.TLD=t.SYM=t.UNDERSCORE=t.SLASH=t.MAILTO=t.PROTOCOL=t.QUERY=t.POUND=t.PLUS=t.NUM=t.NL=t.LOCALHOST=t.PUNCTUATION=t.DOT=t.COLON=t.AT=t.DOMAIN=t.Base=void 0;var i=n(182),r=n(68),o=(0,i.createTokenClass)();o.prototype={toString:function(){return this.v+""}};var s=a(),c=a("@"),l=a(":"),d=a("."),u=a(),p=a(),f=a("\n"),h=a(),m=a("+"),b=a("#"),v=a(),g=a("mailto:"),y=a("?"),x=a("/"),w=a("_"),k=a(),S=a(),C=a(),I=a("{"),_=a("["),T=a("<"),E=a("("),A=a("}"),M=a("]"),F=a(">"),O=a(")"),P=a("&");t.Base=o,t.DOMAIN=s,t.AT=c,t.COLON=l,t.DOT=d,t.PUNCTUATION=u,t.LOCALHOST=p,t.NL=f,t.NUM=h,t.PLUS=m,t.POUND=b,t.QUERY=y,t.PROTOCOL=v,t.MAILTO=g,t.SLASH=x,t.UNDERSCORE=w,t.SYM=k,t.TLD=S,t.WS=C,t.OPENBRACE=I,t.OPENBRACKET=_,t.OPENANGLEBRACKET=T,t.OPENPAREN=E,t.CLOSEBRACE=A,t.CLOSEBRACKET=M,t.CLOSEANGLEBRACKET=F,t.CLOSEPAREN=O,t.AMPERSAND=P},function(e,t,n){var a,i,r;!function(o){i=[n(18),n(32)],void 0===(r="function"==typeof(a=o)?a.apply(t,i):a)||(e.exports=r)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})},function(e,t,n){var a,i,r;!function(o){i=[n(18),n(32)],void 0===(r="function"==typeof(a=o)?a.apply(t,i):a)||(e.exports=r)}(function(e){return function(){function t(e,t,n){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}var a,i=Math.max,r=Math.abs,o=/left|center|right/,s=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,d=/%$/,u=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==a)return a;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=i.children()[0];return e("body").append(i),t=r.offsetWidth,i.css("overflow","scroll"),n=r.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),a=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),a=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===a||"auto"===a&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),a=e.isWindow(n[0]),i=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:a,isDocument:i,offset:!a&&!i?e(t).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(a){if(!a||!a.of)return u.apply(this,arguments);a=e.extend({},a);var d,p,f,h,m,b,v=e(a.of),g=e.position.getWithinInfo(a.within),y=e.position.getScrollInfo(g),x=(a.collision||"flip").split(" "),w={};return b=function(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(v),v[0].preventDefault&&(a.at="left top"),p=b.width,f=b.height,h=b.offset,m=e.extend({},h),e.each(["my","at"],function(){var e,t,n=(a[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",e=c.exec(n[0]),t=c.exec(n[1]),w[this]=[e?e[0]:0,t?t[0]:0],a[this]=[l.exec(n[0])[0],l.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===a.at[0]?m.left+=p:"center"===a.at[0]&&(m.left+=p/2),"bottom"===a.at[1]?m.top+=f:"center"===a.at[1]&&(m.top+=f/2),d=t(w.at,p,f),m.left+=d[0],m.top+=d[1],this.each(function(){var o,s,c=e(this),l=c.outerWidth(),u=c.outerHeight(),b=n(this,"marginLeft"),k=n(this,"marginTop"),S=l+b+n(this,"marginRight")+y.width,C=u+k+n(this,"marginBottom")+y.height,I=e.extend({},m),_=t(w.my,c.outerWidth(),c.outerHeight());"right"===a.my[0]?I.left-=l:"center"===a.my[0]&&(I.left-=l/2),"bottom"===a.my[1]?I.top-=u:"center"===a.my[1]&&(I.top-=u/2),I.left+=_[0],I.top+=_[1],o={marginLeft:b,marginTop:k},e.each(["left","top"],function(t,n){e.ui.position[x[t]]&&e.ui.position[x[t]][n](I,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:u,collisionPosition:o,collisionWidth:S,collisionHeight:C,offset:[d[0]+_[0],d[1]+_[1]],my:a.my,at:a.at,within:g,elem:c})}),a.using&&(s=function(e){var t=h.left-I.left,n=t+p-l,o=h.top-I.top,s=o+f-u,d={target:{element:v,left:h.left,top:h.top,width:p,height:f},element:{element:c,left:I.left,top:I.top,width:l,height:u},horizontal:n<0?"left":t>0?"right":"center",vertical:s<0?"top":o>0?"bottom":"middle"};p<l&&r(t+n)<p&&(d.horizontal="center"),f<u&&r(o+s)<f&&(d.vertical="middle"),i(r(t),r(n))>i(r(o),r(s))?d.important="horizontal":d.important="vertical",a.using.call(this,e,d)}),c.offset(e.extend(I,{using:s}))})},e.ui.position={fit:{left:function(e,t){var n,a=t.within,r=a.isWindow?a.scrollLeft:a.offset.left,o=a.width,s=e.left-t.collisionPosition.marginLeft,c=r-s,l=s+t.collisionWidth-o-r;t.collisionWidth>o?c>0&&l<=0?(n=e.left+c+t.collisionWidth-o-r,e.left+=c-n):e.left=l>0&&c<=0?r:c>l?r+o-t.collisionWidth:r:c>0?e.left+=c:l>0?e.left-=l:e.left=i(e.left-s,e.left)},top:function(e,t){var n,a=t.within,r=a.isWindow?a.scrollTop:a.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,c=r-s,l=s+t.collisionHeight-o-r;t.collisionHeight>o?c>0&&l<=0?(n=e.top+c+t.collisionHeight-o-r,e.top+=c-n):e.top=l>0&&c<=0?r:c>l?r+o-t.collisionHeight:r:c>0?e.top+=c:l>0?e.top-=l:e.top=i(e.top-s,e.top)}},flip:{left:function(e,t){var n,a,i=t.within,o=i.offset.left+i.scrollLeft,s=i.width,c=i.isWindow?i.scrollLeft:i.offset.left,l=e.left-t.collisionPosition.marginLeft,d=l-c,u=l+t.collisionWidth-s-c,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];d<0?((n=e.left+p+f+h+t.collisionWidth-s-o)<0||n<r(d))&&(e.left+=p+f+h):u>0&&((a=e.left-t.collisionPosition.marginLeft+p+f+h-c)>0||r(a)<u)&&(e.left+=p+f+h)},top:function(e,t){var n,a,i=t.within,o=i.offset.top+i.scrollTop,s=i.height,c=i.isWindow?i.scrollTop:i.offset.top,l=e.top-t.collisionPosition.marginTop,d=l-c,u=l+t.collisionHeight-s-c,p="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,h=-2*t.offset[1];d<0?((a=e.top+p+f+h+t.collisionHeight-s-o)<0||a<r(d))&&(e.top+=p+f+h):u>0&&((n=e.top-t.collisionPosition.marginTop+p+f+h-c)>0||r(n)<u)&&(e.top+=p+f+h)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position})},function(e,t,n){var a,i,r;!function(o){i=[n(18),n(32)],void 0===(r="function"==typeof(a=o)?a.apply(t,i):a)||(e.exports=r)}(function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}})},function(e,t,n){var a,i,r;!function(o){i=[n(18),n(32)],void 0===(r="function"==typeof(a=o)?a.apply(t,i):a)||(e.exports=r)}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var a,i,r;for(r=0;null!=(i=n[r]);r++)try{(a=e._data(i,"events"))&&a.remove&&e(i).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,a){var i,r,o,s={},c=t.split(".")[0],l=c+"-"+(t=t.split(".")[1]);return a||(a=n,n=e.Widget),e.isArray(a)&&(a=e.extend.apply(null,[{}].concat(a))),e.expr[":"][l.toLowerCase()]=function(t){return!!e.data(t,l)},e[c]=e[c]||{},i=e[c][t],r=e[c][t]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},e.extend(r,i,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(a,function(t,a){e.isFunction(a)?s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function i(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,r=this._superApply;return this._super=e,this._superApply=i,t=a.apply(this,arguments),this._super=n,this._superApply=r,t}}():s[t]=a}),r.prototype=e.widget.extend(o,{widgetEventPrefix:i?o.widgetEventPrefix||t:t},s,{constructor:r,namespace:c,widgetName:t,widgetFullName:l}),i?(e.each(i._childConstructors,function(t,n){var a=n.prototype;e.widget(a.namespace+"."+a.widgetName,r,n._proto)}),delete i._childConstructors):n._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var a,i,r=n.call(arguments,1),o=0,s=r.length;o<s;o++)for(a in r[o])i=r[o][a],r[o].hasOwnProperty(a)&&void 0!==i&&(e.isPlainObject(i)?t[a]=e.isPlainObject(t[a])?e.widget.extend({},t[a],i):e.widget.extend({},i):t[a]=i);return t},e.widget.bridge=function(t,a){var i=a.prototype.widgetFullName||t;e.fn[t]=function(r){var o="string"==typeof r,s=n.call(arguments,1),c=this;return o?this.length||"instance"!==r?this.each(function(){var n,a=e.data(this,i);return"instance"===r?(c=a,!1):a?e.isFunction(a[r])&&"_"!==r.charAt(0)?(n=a[r].apply(a,s))!==a&&void 0!==n?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):c=void 0:(s.length&&(r=e.widget.extend.apply(null,[r].concat(s))),this.each(function(){var t=e.data(this,i);t?(t.option(r||{}),t._init&&t._init()):e.data(this,i,new a(r,this))})),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,a){a=e(a||this.defaultElement||this)[0],this.element=e(a),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},a!==this&&(e.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===a&&this.destroy()}}),this.document=e(a.style?a.ownerDocument:a.document||a),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var a,i,r,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},a=t.split("."),t=a.shift(),a.length){for(i=o[t]=e.widget.extend({},this.options[t]),r=0;r<a.length-1;r++)i[a[r]]=i[a[r]]||{},i=i[a[r]];if(t=a.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,a,i;for(n in t)i=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&i&&i.length&&(a=e(i.get()),this._removeClass(i,n),a.addClass(this._classes({element:a,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function n(n,r){var o,s;for(s=0;s<n.length;s++)o=i.classesElementLookup[n[s]]||e(),o=e(t.add?e.unique(o.get().concat(t.element.get())):o.not(t.element).get()),i.classesElementLookup[n[s]]=o,a.push(n[s]),r&&t.classes[n[s]]&&a.push(t.classes[n[s]])}var a=[],i=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),a.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(a,i){-1!==e.inArray(t.target,i)&&(n.classesElementLookup[a]=e(i.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,a){a="boolean"==typeof a?a:n;var i="string"==typeof e||null===e,r={extra:i?t:n,keys:i?e:t,element:i?this.element:e,add:a};return r.element.toggleClass(this._classes(r),a),this},_on:function(t,n,a){var i,r=this;"boolean"!=typeof t&&(a=n,n=t,t=!1),a?(n=i=e(n),this.bindings=this.bindings.add(n)):(a=n,n=this.element,i=this.widget()),e.each(a,function(a,o){function s(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?r[o]:o).apply(r,arguments)}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var c=a.match(/^([\w:-]*)\s*(.*)$/),l=c[1]+r.eventNamespace,d=c[2];d?i.on(l,d,s):n.on(l,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,a){var i,r,o=this.options[t];if(a=a||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(i in r)i in n||(n[i]=r[i]);return this.element.trigger(n,a),!(e.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(a))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(a,i,r){"string"==typeof i&&(i={effect:i});var o,s=i?!0===i||"number"==typeof i?n:i.effect||n:t;"number"==typeof(i=i||{})&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=r,i.delay&&a.delay(i.delay),o&&e.effects&&e.effects.effect[s]?a[t](i):s!==t&&a[s]?a[s](i.duration,i.easing,r):a.queue(function(n){e(this)[t](),r&&r.call(a[0]),n()})}}),e.widget})},function(e,t,n){e.exports=n.p+"a4c733ec4baef9ad3896d4e34a8a5448.png"},function(e,t,n){"use strict";var a=n(267);n.d(t,"a",function(){return a.a});var i=n(268);n.d(t,"b",function(){return i.a});var r=n(269);n.d(t,"c",function(){return r.a});var o=n(270);n.d(t,"d",function(){return o.a});var s=n(271);n.d(t,"e",function(){return s.a});var c=n(272);n.d(t,"f",function(){return c.a});var l=n(360);n.d(t,"g",function(){return l.a});var d=n(361);n.d(t,"h",function(){return d.a})},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","name","description","trackedId","isTracked","tracked"]},e.characterId=s.a.observable(null),e.name=s.a.observable(""),e.description=s.a.observable(""),e.trackedId=s.a.observable(null),e.isTracked=s.a.observable(!1),e.tracked=s.a.observable(null),e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="Feat",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","name","description","trackedId","isTracked","level","characterClass","tracked"]},e.characterId=s.a.observable(null),e.name=s.a.observable(""),e.level=s.a.observable(""),e.characterClass=s.a.observable(""),e.description=s.a.observable(""),e.trackedId=s.a.observable(null),e.isTracked=s.a.observable(!1),e.tracked=s.a.observable(null),e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="Feature",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=o.a.register(a,e),e.mapping={include:["characterId","name","type","description"]},e.characterId=c.a.observable(null),e.name=c.a.observable(""),e.type=c.a.observable(""),e.description=c.a.observable(""),e.proficiencyType=r.a.proficiency.proficiencyTypes,e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.clear=function(){var t=(new a).exportValues(),n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=c.a.mapping.autoignore(e,e.mapping);return c.a.mapping.toJS(e,t)}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(69)),o=n(2),s=n(0),c=n.n(s);a.__name="Proficiency",o.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","trackedId","maxUses","used","resetsOn","color","type"]},e.characterId=s.a.observable(null),e.trackedId=s.a.observable(null),e.maxUses=s.a.observable(0),e.used=s.a.observable(0),e.resetsOn=s.a.observable("long"),e.color=s.a.observable(""),e.type=s.a.observable(null),e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="Tracked",r.a.addToRegistry(a)},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";(function(t){function a(e){i.call(this),this._block=new t(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var i=n(72).Transform;n(3)(a,i),a.prototype._transform=function(e,n,a){var i=null;try{"buffer"!==n&&(e=new t(e,n)),this.update(e)}catch(e){i=e}a(i)},a.prototype._flush=function(e){var t=null;try{this.push(this._digest())}catch(e){t=e}e(t)},a.prototype.update=function(e,n){if(!t.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");t.isBuffer(e)||(e=new t(e,n||"binary"));for(var a=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var r=this._blockOffset;r<this._blockSize;)a[r++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)a[this._blockOffset++]=e[i++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},a.prototype._update=function(e){throw new Error("_update is not implemented")},a.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();return void 0!==e&&(t=t.toString(e)),t},a.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=a}).call(t,n(8).Buffer)},function(e,t,n){"use strict";(function(t,a){function i(e,t){w=w||n(34),e=e||{},this.objectMode=!!e.objectMode,t instanceof w&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new F,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(M||(M=n(76).StringDecoder),this.decoder=new M(e.encoding),this.encoding=e.encoding)}function r(e){if(w=w||n(34),!(this instanceof r))return new r(e);this._readableState=new i(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),C.call(this)}function o(e,t,n,a,i){var r=e._readableState;if(null===t)r.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,l(e)}(e,r);else{var o;i||(o=function(e,t){var n;(function(e){return I.isBuffer(e)||e instanceof _})(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(r,t)),o?e.emit("error",o):r.objectMode||t&&t.length>0?("string"==typeof t||r.objectMode||Object.getPrototypeOf(t)===I.prototype||(t=function(e){return I.from(e)}(t)),a?r.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):s(e,r,t,!0):r.ended?e.emit("error",new Error("stream.push() after EOF")):(r.reading=!1,r.decoder&&!n?(t=r.decoder.write(t),r.objectMode||0!==t.length?s(e,r,t,!1):u(e,r)):s(e,r,t,!1))):a||(r.reading=!1)}return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(r)}function s(e,t,n,a){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,a?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&l(e)),u(e,t)}function c(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=D?e=D:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function l(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(A("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?x(d,e):d(e))}function d(e){A("emit readable"),e.emit("readable"),m(e)}function u(e,t){t.readingMore||(t.readingMore=!0,x(p,e,t))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(A("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function f(e){A("readable nexttick read 0"),e.read(0)}function h(e,t){t.reading||(A("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),m(e),t.flowing&&!t.reading&&e.read(0)}function m(e){var t=e._readableState;for(A("flow",t.flowing);t.flowing&&null!==e.read(););}function b(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var a;e<t.head.data.length?(a=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):a=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,a=1,i=n.data;e-=i.length;for(;n=n.next;){var r=n.data,o=e>r.length?r.length:e;if(o===r.length?i+=r:i+=r.slice(0,e),0===(e-=o)){o===r.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=r.slice(o));break}++a}return t.length-=a,i}(e,t):function(e,t){var n=I.allocUnsafe(e),a=t.head,i=1;a.data.copy(n),e-=a.data.length;for(;a=a.next;){var r=a.data,o=e>r.length?r.length:e;if(r.copy(n,n.length-e,0,o),0===(e-=o)){o===r.length?(++i,a.next?t.head=a.next:t.head=t.tail=null):(t.head=a,a.data=r.slice(o));break}++i}return t.length-=i,n}(e,t);return a}(e,t.buffer,t.decoder),n}function v(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,x(g,t,e))}function g(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function y(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1}var x=n(53);e.exports=r;var w,k=n(108);r.ReadableState=i;n(73).EventEmitter;var S=function(e,t){return e.listeners(t).length},C=n(111),I=n(7).Buffer,_=t.Uint8Array||function(){},T=n(44);T.inherits=n(3);var E=n(277),A=void 0;A=E&&E.debuglog?E.debuglog("stream"):function(){};var M,F=n(278),O=n(112);T.inherits(r,C);var P=["error","close","destroy","pause","resume"];Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),r.prototype.destroy=O.destroy,r.prototype._undestroy=O.undestroy,r.prototype._destroy=function(e,t){this.push(null),t(e)},r.prototype.push=function(e,t){var n,a=this._readableState;return a.objectMode?n=!0:"string"==typeof e&&((t=t||a.defaultEncoding)!==a.encoding&&(e=I.from(e,t),t=""),n=!0),o(this,e,t,!1,n)},r.prototype.unshift=function(e){return o(this,e,null,!0,!1)},r.prototype.isPaused=function(){return!1===this._readableState.flowing},r.prototype.setEncoding=function(e){return M||(M=n(76).StringDecoder),this._readableState.decoder=new M(e),this._readableState.encoding=e,this};var D=8388608;r.prototype.read=function(e){A("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return A("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?v(this):l(this),null;if(0===(e=c(e,t))&&t.ended)return 0===t.length&&v(this),null;var a=t.needReadable;A("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&A("length less than watermark",a=!0),t.ended||t.reading?A("reading or ended",a=!1):a&&(A("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=c(n,t)));var i;return null===(i=e>0?b(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&v(this)),null!==i&&this.emit("data",i),i},r.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},r.prototype.pipe=function(e,t){function n(t,a){A("onunpipe"),t===d&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,A("cleanup"),e.removeListener("close",s),e.removeListener("finish",c),e.removeListener("drain",f),e.removeListener("error",o),e.removeListener("unpipe",n),d.removeListener("end",i),d.removeListener("end",l),d.removeListener("data",r),h=!0,!u.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function i(){A("onend"),e.end()}function r(t){A("ondata"),b=!1;!1!==e.write(t)||b||((1===u.pipesCount&&u.pipes===e||u.pipesCount>1&&-1!==y(u.pipes,e))&&!h&&(A("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,b=!0),d.pause())}function o(t){A("onerror",t),l(),e.removeListener("error",o),0===S(e,"error")&&e.emit("error",t)}function s(){e.removeListener("finish",c),l()}function c(){A("onfinish"),e.removeListener("close",s),l()}function l(){A("unpipe"),d.unpipe(e)}var d=this,u=this._readableState;switch(u.pipesCount){case 0:u.pipes=e;break;case 1:u.pipes=[u.pipes,e];break;default:u.pipes.push(e)}u.pipesCount+=1,A("pipe count=%d opts=%j",u.pipesCount,t);var p=(!t||!1!==t.end)&&e!==a.stdout&&e!==a.stderr?i:l;u.endEmitted?x(p):d.once("end",p),e.on("unpipe",n);var f=function(e){return function(){var t=e._readableState;A("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&S(e,"data")&&(t.flowing=!0,m(e))}}(d);e.on("drain",f);var h=!1,b=!1;return d.on("data",r),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?k(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",o),e.once("close",s),e.once("finish",c),e.emit("pipe",d),u.flowing||(A("pipe resume"),d.resume()),e},r.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var a=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;r<i;r++)a[r].emit("unpipe",this,n);return this}var o=y(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},r.prototype.on=function(e,t){var n=C.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var a=this._readableState;a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.emittedReadable=!1,a.reading?a.length&&l(this):x(f,this))}return n},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){var e=this._readableState;return e.flowing||(A("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,x(h,e,t))}(this,e)),this},r.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(e){var t=this._readableState,n=!1,a=this;e.on("end",function(){if(A("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&a.push(e)}a.push(null)}),e.on("data",function(i){if(A("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){a.push(i)||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var r=0;r<P.length;r++)e.on(P[r],a.emit.bind(a,P[r]));return a._read=function(t){A("wrapped _read",t),n&&(n=!1,e.resume())},a},r._fromList=b}).call(t,n(26),n(29))},function(e,t,n){e.exports=n(73).EventEmitter},function(e,t,n){"use strict";function a(e,t){e.emit("error",t)}var i=n(53);e.exports={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;r||o?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i(a,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";function a(e){this.afterTransform=function(t,n){return function(e,t,n){var a=e._transformState;a.transforming=!1;var i=a.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));a.writechunk=null,a.writecb=null,null!==n&&void 0!==n&&e.push(n);i(t);var r=e._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&e._read(r.highWaterMark)}(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e){if(!(this instanceof i))return new i(e);o.call(this,e),this._transformState=new a(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){r(t,e,n)}):r(t)})}function r(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var a=e._writableState,i=e._transformState;if(a.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var o=n(34),s=n(44);s.inherits=n(3),s.inherits(i,o),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,o.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var a=this._transformState;if(a.writecb=n,a.writechunk=e,a.writeencoding=t,!a.transforming){var i=this._readableState;(a.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;o.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){function a(){this.init(),this._w=h,u.call(this,64,56)}function i(e,t,n){return n^e&(t^n)}function r(e,t,n){return e&t|n&(e|t)}function o(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function s(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function c(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function l(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}var d=n(3),u=n(37),p=n(7).Buffer,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=new Array(64);d(a,u),a.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},a.prototype._update=function(e){for(var t=this._w,n=0|this._a,a=0|this._b,d=0|this._c,u=0|this._d,p=0|this._e,h=0|this._f,m=0|this._g,b=0|this._h,v=0;v<16;++v)t[v]=e.readInt32BE(4*v);for(;v<64;++v)t[v]=l(t[v-2])+t[v-7]+c(t[v-15])+t[v-16]|0;for(var g=0;g<64;++g){var y=b+s(p)+i(p,h,m)+f[g]+t[g]|0,x=o(n)+r(n,a,d)|0;b=m,m=h,h=p,p=u+y|0,u=d,d=a,a=n,n=y+x|0}this._a=n+this._a|0,this._b=a+this._b|0,this._c=d+this._c|0,this._d=u+this._d|0,this._e=p+this._e|0,this._f=h+this._f|0,this._g=m+this._g|0,this._h=b+this._h|0},a.prototype._hash=function(){var e=p.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=a},function(e,t,n){function a(){this.init(),this._w=v,h.call(this,128,112)}function i(e,t,n){return n^e&(t^n)}function r(e,t,n){return e&t|n&(e|t)}function o(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function s(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function c(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function d(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function u(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function p(e,t){return e>>>0<t>>>0?1:0}var f=n(3),h=n(37),m=n(7).Buffer,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],v=new Array(160);f(a,h),a.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},a.prototype._update=function(e){for(var t=this._w,n=0|this._ah,a=0|this._bh,f=0|this._ch,h=0|this._dh,m=0|this._eh,v=0|this._fh,g=0|this._gh,y=0|this._hh,x=0|this._al,w=0|this._bl,k=0|this._cl,S=0|this._dl,C=0|this._el,I=0|this._fl,_=0|this._gl,T=0|this._hl,E=0;E<32;E+=2)t[E]=e.readInt32BE(4*E),t[E+1]=e.readInt32BE(4*E+4);for(;E<160;E+=2){var A=t[E-30],M=t[E-30+1],F=c(A,M),O=l(M,A),P=d(A=t[E-4],M=t[E-4+1]),D=u(M,A),N=t[E-14],R=t[E-14+1],B=t[E-32],L=t[E-32+1],H=O+R|0,j=F+N+p(H,O)|0;j=(j=j+P+p(H=H+D|0,D)|0)+B+p(H=H+L|0,L)|0,t[E]=j,t[E+1]=H}for(var U=0;U<160;U+=2){j=t[U],H=t[U+1];var z=r(n,a,f),W=r(x,w,k),q=o(n,x),V=o(x,n),$=s(m,C),J=s(C,m),G=b[U],Q=b[U+1],K=i(m,v,g),Y=i(C,I,_),X=T+J|0,Z=y+$+p(X,T)|0;Z=(Z=(Z=Z+K+p(X=X+Y|0,Y)|0)+G+p(X=X+Q|0,Q)|0)+j+p(X=X+H|0,H)|0;var ee=V+W|0,te=q+z+p(ee,V)|0;y=g,T=_,g=v,_=I,v=m,I=C,m=h+Z+p(C=S+X|0,S)|0,h=f,S=k,f=a,k=w,a=n,w=x,n=Z+te+p(x=X+ee|0,X)|0}this._al=this._al+x|0,this._bl=this._bl+w|0,this._cl=this._cl+k|0,this._dl=this._dl+S|0,this._el=this._el+C|0,this._fl=this._fl+I|0,this._gl=this._gl+_|0,this._hl=this._hl+T|0,this._ah=this._ah+n+p(this._al,x)|0,this._bh=this._bh+a+p(this._bl,w)|0,this._ch=this._ch+f+p(this._cl,k)|0,this._dh=this._dh+h+p(this._dl,S)|0,this._eh=this._eh+m+p(this._el,C)|0,this._fh=this._fh+v+p(this._fl,I)|0,this._gh=this._gh+g+p(this._gl,_)|0,this._hh=this._hh+y+p(this._hl,T)|0},a.prototype._hash=function(){function e(e,n,a){t.writeInt32BE(e,a),t.writeInt32BE(n,a+4)}var t=m.allocUnsafe(64);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},e.exports=a},function(e,t,n){"use strict";function a(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var n="sha512"===e||"sha384"===e?128:64;if(this._alg=e,this._key=t,t.length>n){t=("rmd160"===e?new l:d(e)).update(t).digest()}else t.length<n&&(t=s.concat([t,u],n));for(var a=this._ipad=s.allocUnsafe(n),i=this._opad=s.allocUnsafe(n),r=0;r<n;r++)a[r]=54^t[r],i[r]=92^t[r];this._hash="rmd160"===e?new l:d(e),this._hash.update(a)}var i=n(3),r=n(291),o=n(30),s=n(7).Buffer,c=n(70),l=n(71),d=n(77),u=s.alloc(128);i(a,o),a.prototype._update=function(e){this._hash.update(e)},a.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new l:d(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new a("rmd160",t):"md5"===e?new r(c,t):new a(e,t)}},function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(e,t,n){t.pbkdf2=n(293),t.pbkdf2Sync=n(121)},function(e,t){var n=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>n||t!=t)throw new TypeError("Bad key length")}},function(e,t,n){(function(t){var n;if(t.browser)n="utf-8";else{n=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}e.exports=n}).call(t,n(29))},function(e,t,n){function a(e,t,n){var a=function(e){return"rmd160"===e||"ripemd160"===e?r:"md5"===e?i:function(t){return o(e).update(t).digest()}}(e),s="sha512"===e||"sha384"===e?128:64;t.length>s?t=a(t):t.length<s&&(t=l.concat([t,d],s));for(var c=l.allocUnsafe(s+u[e]),p=l.allocUnsafe(s+u[e]),f=0;f<s;f++)c[f]=54^t[f],p[f]=92^t[f];var h=l.allocUnsafe(s+n+4);c.copy(h,0,0,s),this.ipad1=h,this.ipad2=c,this.opad=p,this.alg=e,this.blocksize=s,this.hash=a,this.size=u[e]}var i=n(70),r=n(71),o=n(77),s=n(119),c=n(120),l=n(7).Buffer,d=l.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};a.prototype.run=function(e,t){e.copy(t,this.blocksize);return this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,i,r){l.isBuffer(e)||(e=l.from(e,c)),l.isBuffer(t)||(t=l.from(t,c)),s(n,i);var o=new a(r=r||"sha1",e,t.length),d=l.allocUnsafe(i),p=l.allocUnsafe(t.length+4);t.copy(p,0,0,t.length);for(var f=0,h=u[r],m=Math.ceil(i/h),b=1;b<=m;b++){p.writeUInt32BE(b,t.length);for(var v=o.run(p,o.ipad1),g=v,y=1;y<n;y++){g=o.run(g,o.ipad2);for(var x=0;x<h;x++)v[x]^=g[x]}v.copy(d,f),f+=h}return d}},function(e,t,n){function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}var i=n(45),r=n(7).Buffer,o=n(123);t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=r.concat([e._cache,r.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var c=a(e),l=o+16*s;e._cache.writeUInt32BE(c[0],l+0),e._cache.writeUInt32BE(c[1],l+4),e._cache.writeUInt32BE(c[2],l+8),e._cache.writeUInt32BE(c[3],l+12)}var d=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,d)}},function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(e,t,n){function a(e,t,n,a){o.call(this);var s=r.alloc(4,0);this._cipher=new i.AES(t);var l=this._cipher.encryptBlock(s);this._ghash=new c(l),n=function(e,t,n){if(12===t.length)return e._finID=r.concat([t,r.from([0,0,0,1])]),r.concat([t,r.from([0,0,0,2])]);var a=new c(n),i=t.length,o=i%16;a.update(t),o&&(o=16-o,a.update(r.alloc(o,0))),a.update(r.alloc(8,0));var s=8*i,l=r.alloc(8);l.writeUIntBE(s,0,8),a.update(l),e._finID=a.state;var u=r.from(e._finID);return d(u),u}(this,n,l),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}var i=n(55),r=n(7).Buffer,o=n(30),s=n(3),c=n(303),l=n(45),d=n(123);s(a,o),a.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=r.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},a.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var a=Math.min(e.length,t.length),i=0;i<a;++i)n+=e[i]^t[i];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},a.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},a.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},a.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=a},function(e,t,n){function a(e,t,n,a){o.call(this),this._cipher=new i.AES(t),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=a,this._mode=e}var i=n(55),r=n(7).Buffer,o=n(30);n(3)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},function(e,t,n){function a(e){for(var t=function(){if(null!==v)return v;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var a=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=a&&n%e[i]!=0;i++);t!==i&&e[i]<=a||(e[t++]=n)}return v=e,e}(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function i(e){var t=s.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function r(e,t){if(e<16)return new s(2===t||5===t?[140,123]:[140,39]);t=new s(t);for(var n,r;;){for(n=new s(o(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(d),n.testn(1)||n.iadd(u),t.cmp(u)){if(!t.cmp(p))for(;n.mod(f).cmp(h);)n.iadd(b)}else for(;n.mod(c).cmp(m);)n.iadd(b);if(r=n.shrn(1),a(r)&&a(n)&&i(r)&&i(n)&&l.test(r)&&l.test(n))return n}}var o=n(36);e.exports=r,r.simpleSieve=a,r.fermatTest=i;var s=n(13),c=new s(24),l=new(n(129)),d=new s(1),u=new s(2),p=new s(5),f=(new s(16),new s(8),new s(10)),h=new s(3),m=(new s(7),new s(11)),b=new s(4),v=(new s(12),null)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){function a(e){this.rand=e||new r.Rand}var i=n(13),r=n(130);e.exports=a,a.create=function(e){return new a(e)},a.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var a=new i(this.rand.generate(n))}while(a.cmp(e)>=0);return a},a.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},a.prototype.test=function(e,t,n){var a=e.bitLength(),r=i.mont(e),o=new i(1).toRed(r);t||(t=Math.max(1,a/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var l=e.shrn(c),d=s.toRed(r);t>0;t--){var u=this._randrange(new i(2),s);n&&n(u);var p=u.toRed(r).redPow(l);if(0!==p.cmp(o)&&0!==p.cmp(d)){for(var f=1;f<c;f++){if(0===(p=p.redSqr()).cmp(o))return!1;if(0===p.cmp(d))break}if(f===c)return!1}}return!0},a.prototype.getDivisor=function(e,t){var n=e.bitLength(),a=i.mont(e),r=new i(1).toRed(a);t||(t=Math.max(1,n/48|0));for(var o=e.subn(1),s=0;!o.testn(s);s++);for(var c=e.shrn(s),l=o.toRed(a);t>0;t--){var d=this._randrange(new i(2),o),u=e.gcd(d);if(0!==u.cmpn(1))return u;var p=d.toRed(a).redPow(c);if(0!==p.cmp(r)&&0!==p.cmp(l)){for(var f=1;f<s;f++){if(0===(p=p.redSqr()).cmp(r))return p.fromRed().subn(1).gcd(e);if(0===p.cmp(l))break}if(f===s)return(p=p.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){function a(e){this.rand=e}var i;if(e.exports=function(e){return i||(i=new a(null)),i.generate(e)},e.exports.Rand=a,a.prototype.generate=function(e){return this._rand(e)},a.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=n(314);if("function"!=typeof r.randomBytes)throw new Error("Not supported");a.prototype._rand=function(e){return r.randomBytes(e)}}catch(e){}},function(e,t,n){"use strict";function a(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=a(e[n].toString(16));return t}var r=t;r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var a=0;a<e.length;a++)n[a]=0|e[a];return n}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),a=0;a<e.length;a+=2)n.push(parseInt(e[a]+e[a+1],16));else for(a=0;a<e.length;a++){var i=e.charCodeAt(a),r=i>>8,o=255&i;r?n.push(r,o):n.push(o)}return n},r.zero2=a,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},function(e,t,n){"use strict";function a(e,t,n){return e&t^~e&n}function i(e,t,n){return e&t^e&n^t&n}function r(e,t,n){return e^t^n}var o=n(27).rotr32;t.ft_1=function(e,t,n,o){return 0===e?a(t,n,o):1===e||3===e?r(t,n,o):2===e?i(t,n,o):void 0},t.ch32=a,t.maj32=i,t.p32=r,t.s0_256=function(e){return o(e,2)^o(e,13)^o(e,22)},t.s1_256=function(e){return o(e,6)^o(e,11)^o(e,25)},t.g0_256=function(e){return o(e,7)^o(e,18)^e>>>3},t.g1_256=function(e){return o(e,17)^o(e,19)^e>>>10}},function(e,t,n){"use strict";function a(){if(!(this instanceof a))return new a;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}var i=n(27),r=n(46),o=n(132),s=n(21),c=i.sum32,l=i.sum32_4,d=i.sum32_5,u=o.ch32,p=o.maj32,f=o.s0_256,h=o.s1_256,m=o.g0_256,b=o.g1_256,v=r.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];i.inherits(a,v),e.exports=a,a.blockSize=512,a.outSize=256,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(e,t){for(var n=this.W,a=0;a<16;a++)n[a]=e[t+a];for(;a<n.length;a++)n[a]=l(b(n[a-2]),n[a-7],m(n[a-15]),n[a-16]);var i=this.h[0],r=this.h[1],o=this.h[2],v=this.h[3],g=this.h[4],y=this.h[5],x=this.h[6],w=this.h[7];for(s(this.k.length===n.length),a=0;a<n.length;a++){var k=d(w,h(g),u(g,y,x),this.k[a],n[a]),S=c(f(i),p(i,r,o));w=x,x=y,y=g,g=c(v,k),v=o,o=r,r=i,i=c(k,S)}this.h[0]=c(this.h[0],i),this.h[1]=c(this.h[1],r),this.h[2]=c(this.h[2],o),this.h[3]=c(this.h[3],v),this.h[4]=c(this.h[4],g),this.h[5]=c(this.h[5],y),this.h[6]=c(this.h[6],x),this.h[7]=c(this.h[7],w)},a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){"use strict";function a(){if(!(this instanceof a))return new a;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}var i=n(27),r=n(46),o=n(21),s=i.rotr64_hi,c=i.rotr64_lo,l=i.shr64_hi,d=i.shr64_lo,u=i.sum64,p=i.sum64_hi,f=i.sum64_lo,h=i.sum64_4_hi,m=i.sum64_4_lo,b=i.sum64_5_hi,v=i.sum64_5_lo,g=r.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];i.inherits(a,g),e.exports=a,a.blockSize=1024,a.outSize=512,a.hmacStrength=192,a.padLength=128,a.prototype._prepareBlock=function(e,t){for(var n=this.W,a=0;a<32;a++)n[a]=e[t+a];for(;a<n.length;a+=2){var i=function(e,t){var n=s(e,t,19)^s(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}(n[a-4],n[a-3]),r=function(e,t){var n=c(e,t,19)^c(t,e,29)^d(e,t,6);return n<0&&(n+=4294967296),n}(n[a-4],n[a-3]),o=n[a-14],u=n[a-13],p=function(e,t){var n=s(e,t,1)^s(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}(n[a-30],n[a-29]),f=function(e,t){var n=c(e,t,1)^c(e,t,8)^d(e,t,7);return n<0&&(n+=4294967296),n}(n[a-30],n[a-29]),b=n[a-32],v=n[a-31];n[a]=h(i,r,o,u,p,f,b,v),n[a+1]=m(i,r,o,u,p,f,b,v)}},a.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,a=this.h[0],i=this.h[1],r=this.h[2],l=this.h[3],d=this.h[4],h=this.h[5],m=this.h[6],g=this.h[7],y=this.h[8],x=this.h[9],w=this.h[10],k=this.h[11],S=this.h[12],C=this.h[13],I=this.h[14],_=this.h[15];o(this.k.length===n.length);for(var T=0;T<n.length;T+=2){var E=I,A=_,M=function(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}(y,x),F=function(e,t){var n=c(e,t,14)^c(e,t,18)^c(t,e,9);return n<0&&(n+=4294967296),n}(y,x),O=function(e,t,n,a,i){var r=e&n^~e&i;return r<0&&(r+=4294967296),r}(y,0,w,0,S),P=function(e,t,n,a,i,r){var o=t&a^~t&r;return o<0&&(o+=4294967296),o}(0,x,0,k,0,C),D=this.k[T],N=this.k[T+1],R=n[T],B=n[T+1],L=b(E,A,M,F,O,P,D,N,R,B),H=v(E,A,M,F,O,P,D,N,R,B);E=function(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}(a,i),A=function(e,t){var n=c(e,t,28)^c(t,e,2)^c(t,e,7);return n<0&&(n+=4294967296),n}(a,i),M=function(e,t,n,a,i){var r=e&n^e&i^n&i;return r<0&&(r+=4294967296),r}(a,0,r,0,d),F=function(e,t,n,a,i,r){var o=t&a^t&r^a&r;return o<0&&(o+=4294967296),o}(0,i,0,l,0,h);var j=p(E,A,M,F),U=f(E,A,M,F);I=S,_=C,S=w,C=k,w=y,k=x,y=p(m,g,L,H),x=f(g,g,L,H),m=d,g=h,d=r,h=l,r=a,l=i,a=p(L,H,j,U),i=f(L,H,j,U)}u(this.h,0,a,i),u(this.h,2,r,l),u(this.h,4,d,h),u(this.h,6,m,g),u(this.h,8,y,x),u(this.h,10,w,k),u(this.h,12,S,C),u(this.h,14,I,_)},a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){function a(e,t){o.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function i(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof i||(e=new i(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var r=n(3),o=n(48).Reporter,s=n(8).Buffer;r(a,o),t.DecoderBuffer=a,a.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,o.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=i,i.prototype.join=function(e,t){return e||(e=new s(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,t),t+=n.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,n){var a=t;a._reverse=function(e){var t={};return Object.keys(e).forEach(function(n){(0|n)==n&&(n|=0);var a=e[n];t[a]=n}),t},a.der=n(346)},function(e,t,n){function a(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new i,this.tree._init(e.body)}function i(e){l.Node.call(this,"der",e)}function r(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var a=u.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){var r=n;for(n=0;128==(128&r);){if(r=e.readUInt8(t),e.isError(r))return r;n<<=7,n|=127&r}}else n&=31;return{cls:a,primitive:i,tag:n,tagStr:u.tag[n]}}function o(e,t,n){var a=e.readUInt8(n);if(e.isError(a))return a;if(!t&&128===a)return null;if(0==(128&a))return a;var i=127&a;if(i>4)return e.error("length octect is too long");a=0;for(var r=0;r<i;r++){a<<=8;var o=e.readUInt8(n);if(e.isError(o))return o;a|=o}return a}var s=n(3),c=n(47),l=c.base,d=c.bignum,u=c.constants.der;e.exports=a,a.prototype.decode=function(e,t){return e instanceof l.DecoderBuffer||(e=new l.DecoderBuffer(e,t)),this.tree._decode(e,t)},s(i,l.Node),i.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var a=e.save(),i=r(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(a),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},i.prototype._decodeTag=function(e,t,n){var a=r(e,'Failed to decode tag of "'+t+'"');if(e.isError(a))return a;var i=o(e,a.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&a.tag!==t&&a.tagStr!==t&&a.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(a.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var s=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},i.prototype._skipUntilEnd=function(e,t){for(;;){var n=r(e,t);if(e.isError(n))return n;var a=o(e,n.primitive,t);if(e.isError(a))return a;var i;if(i=n.primitive||null!==a?e.skip(a):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===n.tagStr)break}},i.prototype._decodeList=function(e,t,n,a){for(var i=[];!e.isEmpty();){var r=this._peekTag(e,"end");if(e.isError(r))return r;var o=n.decode(e,"der",a);if(e.isError(o)&&r)break;i.push(o)}return i},i.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var a=e.raw();if(a.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",r=0;r<a.length/2;r++)i+=String.fromCharCode(a.readUInt16BE(2*r));return i}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},i.prototype._decodeObjid=function(e,t,n){for(var a,i=[],r=0;!e.isEmpty();){var o=e.readUInt8();r<<=7,r|=127&o,0==(128&o)&&(i.push(r),r=0)}128&o&&i.push(r);var s=i[0]/40|0,c=i[0]%40;if(a=n?i:[s,c].concat(i.slice(1)),t){var l=t[a.join(" ")];void 0===l&&(l=t[a.join(".")]),void 0!==l&&(a=l)}return a},i.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var a=0|n.slice(0,4),i=0|n.slice(4,6),r=0|n.slice(6,8),o=0|n.slice(8,10),s=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");a=0|n.slice(0,2),i=0|n.slice(2,4),r=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),c=0|n.slice(10,12);a=a<70?2e3+a:1900+a}return Date.UTC(a,i-1,r,o,s,c,0)},i.prototype._decodeNull=function(e){return null},i.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},i.prototype._decodeInt=function(e,t){var n=e.raw(),a=new d(n);return t&&(a=t[a.toString(10)]||a),a},i.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,n){function a(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new i,this.tree._init(e.body)}function i(e){l.Node.call(this,"der",e)}function r(e){return e<10?"0"+e:e}var o=n(3),s=n(8).Buffer,c=n(47),l=c.base,d=c.constants.der;e.exports=a,a.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},o(i,l.Node),i.prototype._encodeComposite=function(e,t,n,a){var i=function(e,t,n,a){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),d.tagByName.hasOwnProperty(e))i=d.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return a.error("Unknown tag: "+e);i=e}return i>=31?a.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=d.tagClassByName[n||"universal"]<<6)}(e,t,n,this.reporter);if(a.length<128){return(c=new s(2))[0]=i,c[1]=a.length,this._createEncoderBuffer([c,a])}for(var r=1,o=a.length;o>=256;o>>=8)r++;var c;(c=new s(2+r))[0]=i,c[1]=128|r;o=1+r;for(var l=a.length;l>0;o--,l>>=8)c[o]=255&l;return this._createEncoderBuffer([c,a])},i.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new s(2*e.length),a=0;a<e.length;a++)n.writeUInt16BE(e.charCodeAt(a),2*a);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},i.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var a=0;a<e.length;a++)e[a]|=0}else if(Array.isArray(e)){e=e.slice();for(a=0;a<e.length;a++)e[a]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var i=0;for(a=0;a<e.length;a++){var r=e[a];for(i++;r>=128;r>>=7)i++}var o=new s(i),c=o.length-1;for(a=e.length-1;a>=0;a--){r=e[a];for(o[c--]=127&r;(r>>=7)>0;)o[c--]=128|127&r}return this._createEncoderBuffer(o)},i.prototype._encodeTime=function(e,t){var n,a=new Date(e);return"gentime"===t?n=[r(a.getFullYear()),r(a.getUTCMonth()+1),r(a.getUTCDate()),r(a.getUTCHours()),r(a.getUTCMinutes()),r(a.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[r(a.getFullYear()%100),r(a.getUTCMonth()+1),r(a.getUTCDate()),r(a.getUTCHours()),r(a.getUTCMinutes()),r(a.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!s.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new s(n)}if(s.isBuffer(e)){var a=e.length;0===e.length&&a++;var i=new s(a);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);a=1;for(var r=e;r>=256;r>>=8)a++;for(r=(i=new Array(a)).length-1;r>=0;r--)i[r]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new s(i))},i.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},i.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},i.prototype._skipDefault=function(e,t,n){var a,i=this._baseState;if(null===i.default)return!1;var r=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),r.length!==i.defaultBuffer.length)return!1;for(a=0;a<r.length;a++)if(r[a]!==i.defaultBuffer[a])return!1;return!0}},function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(e,t,n){(function(t){var a=n(43);e.exports=function(e,n){for(var i,r=new t(""),o=0;r.length<n;)i=function(e){var n=new t(4);return n.writeUInt32BE(e,0),n}(o++),r=t.concat([r,a("sha1").update(e).update(i).digest()]);return r.slice(0,n)}}).call(t,n(8).Buffer)},function(e,t){e.exports=function(e,t){for(var n=e.length,a=-1;++a<n;)e[a]^=t[a];return e}},function(e,t,n){(function(t){var a=n(13);e.exports=function(e,n){return new t(e.toRed(a.mont(n.modulus)).redPow(new a(n.publicExponent)).fromRed().toArray())}}).call(t,n(8).Buffer)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","text","isSavedChatNotes"]},e.characterId=s.a.observable(null),e.text=s.a.observable(""),e.isSavedChatNotes=s.a.observable(!1),e.headline=s.a.pureComputed(function(){var t=(e.text()||"").split("\n")[0];return t.length>35&&(t=e._getFirstWords(t.substr(0,35))+"..."),t?e._getPlaintext(t):"Empty Note"}),e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e._getPlaintext=function(e){return l()(e).replace(/<(?:.|\n)*?>/gm,"")},e._getFirstWords=function(e,t){var n=e.split(/\s+/);return n.slice(0,n.length-2).join(" ")}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o),c=n(52),l=n.n(c);a.__name="Note",r.a.addToRegistry(a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(103),i={scripts:[a.a,a.b,a.c,a.d,a.e,a.f,a.g,a.h]}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={characterPlayerType:{key:"character",visibleTabs:["profile","stats","skills","spells","equipment","inventory","notes","settings","party","chat","exhibit"],defaultTab:"stats"},dmPlayerType:{key:"dm",visibleTabs:["encounter","overview","dmscreen","party","chat","notes"],tabViewModels:[],defaultTab:"overview"}}},function(e,t,n){"use strict";function a(){var e=this;e.ps=o.a.register(a,e),e.mapping={include:["characterId","hitDiceType"]},e.characterId=c.a.observable(null),e.hitDiceType=c.a.observable(""),e.hitDiceOptions=c.a.observableArray(r.c.hitDiceType.hitDiceOptions),e.clear=function(){var t=(new a).exportValues(),n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=c.a.mapping.autoignore(e,e.mapping);return c.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(1)),o=n(2),s=n(0),c=n.n(s);a.__name="HitDiceType",o.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=s.a.register(a,e),e.mapping={include:["characterId","name","modifier","abilityScore","proficiency"]},e._dummy=d.a.observable(null),e.characterId=d.a.observable(null),e.name=d.a.observable(""),e.modifier=d.a.observable(null),e.abilityScore=d.a.observable(""),e.proficiency=d.a.observable(""),e.updateValues=function(){e._dummy.notifySubscribers()},e.proficiencyScore=function(){e._dummy();o.a.activeCharacter().key();var t=c.a.sharedService().proficiency();return"half"===e.proficiency()?Math.floor(t/2):"expertise"===e.proficiency()?2*t:"proficient"===e.proficiency()?t:0},e.abilityScoreModifier=function(){e._dummy();var t=null;try{t=s.a.findBy(r.a,"characterId",o.a.activeCharacter().key())[0].modifierFor(e.abilityScore())}catch(e){}return t?parseInt(t):0},e.bonus=d.a.pureComputed(function(){e._dummy();var t=e.modifier()?parseInt(e.modifier()):0;return e.proficiency()?t+=e.proficiencyScore()+e.abilityScoreModifier():e.abilityScoreModifier()&&(t+=e.abilityScoreModifier()),t}),e.bonusLabel=d.a.pureComputed(function(){e._dummy();var t="+ 0";return e.bonus()&&(t=e.bonus()>=0?"+ "+e.bonus():"- "+Math.abs(e.bonus())),t+=" <i><small>("+e.abilityScore()+")</small></i>"}),e.nameLabel=d.a.pureComputed(function(){e._dummy();var t=e.name();return t+=' <i><small class="skills-ability-type">('+e.abilityScore()+")</small></i>"}),e.passiveBonus=d.a.pureComputed(function(){e._dummy();return 10+e.bonus()}),e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.clear=function(){var t=(new a).exportValues(),n=d.a.mapping.autoignore(e,e.mapping);d.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=d.a.mapping.autoignore(e,e.mapping);d.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=d.a.mapping.autoignore(e,e.mapping);return d.a.mapping.toJS(e,t)}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(28)),o=n(1),s=n(2),c=n(64),l=n(0),d=n.n(l);a.__name="Skill",s.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=o.a.register(a,e),e.mapping={include:["characterId","level","maxSpellSlots","usedSpellSlots","resetsOn"]},e.slotColors=r.c.general.colorList,e.characterId=c.a.observable(null),e.level=c.a.observable(1),e.maxSpellSlots=c.a.observable(),e.usedSpellSlots=c.a.observable(0),e.resetsOn=c.a.observable("long"),e.color=c.a.pureComputed(function(){return e.slotColors[e.level()-1]}),e.spellSlots=c.a.pureComputed(function(){return e.getMaxSpellSlots()-e.getUsedSpellSlots()}),e.progressWidth=c.a.pureComputed(function(){return(e.getMaxSpellSlots()-e.getUsedSpellSlots())/e.getMaxSpellSlots()}),e.getMaxSpellSlots=function(){return e.maxSpellSlots()?parseInt(e.maxSpellSlots()):0},e.getUsedSpellSlots=function(){return e.usedSpellSlots()?parseInt(e.usedSpellSlots()):0},e.clear=function(){var t=(new a).exportValues(),n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=c.a.mapping.autoignore(e,e.mapping);return c.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(1)),o=n(2),s=n(0),c=n.n(s);a.REST_TYPE={SHORT_REST:"short",LONG_REST:"long"},a.__name="Slot",o.a.addToRegistry(a)},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var a=n(28),i=n(150),r=n(1),o=n(86),s=n(87),c=n(146),l=n(58),d=n(10),u=n(38),p=n(2),f=n(59),h=n(60),m=n(61),b=(n(12),n(147)),v=n(88),g=n(31),y=(n(24),n(90)),x=n(41),w=[{name:"publisherJid",refreshOn:u.a.item.changed,valueAccessor:function(){return x.a.sharedService().connection.jid}},{name:"name",refreshOn:u.a.profile.characterName.changed,valueAccessor:function(){var e=p.a.findFirstBy(m.a,"characterId",r.a.activeCharacter().key());return e?e.characterName():""}},{name:"playerName",refreshOn:u.a.profile.playerName.changed,valueAccessor:function(){var e=p.a.findFirstBy(m.a,"characterId",r.a.activeCharacter().key());return e?e.playerName():""}},{name:"playerSummary",refreshOn:u.a.profile.characterName.changed,valueAccessor:function(){var e=p.a.findFirstBy(m.a,"characterId",r.a.activeCharacter().key());return e?e.summary():""}},{name:"playerType",refreshOn:u.a.characters.changed,valueAccessor:function(){var e=r.a.activeCharacter();return e?e.playerType().key:"character"}},{name:"imageUrl",refreshOn:u.a.playerImage.changed,valueAccessor:function(){var e="https://www.gravatar.com/avatar/{}?d=mm",t=p.a.findFirstBy(f.a,"characterId",r.a.activeCharacter().key());if(!t)return e;if("link"===t.imageSource()){var n=p.a.findFirstBy(l.a,"characterId",r.a.activeCharacter().key());return n&&""!==n.imageUrl()?n.imageUrl():e}if("email"===t.imageSource()){var a=p.a.findFirstBy(h.a,"characterId",r.a.activeCharacter().key());return a?a.gravatarUrl():e}return e}},{name:"race",refreshOn:u.a.profile.race.changed,valueAccessor:function(){var e=p.a.findFirstBy(m.a,"characterId",r.a.activeCharacter().key());return e?e.race():""}},{name:"playerClass",refreshOn:u.a.profile.playerClass.changed,valueAccessor:function(){var e=p.a.findFirstBy(m.a,"characterId",r.a.activeCharacter().key());return e?e.typeClass():""}},{name:"level",refreshOn:u.a.profile.level.changed,valueAccessor:function(){var e=p.a.findFirstBy(m.a,"characterId",r.a.activeCharacter().key());return e?e.level():""}},{name:"experience",refreshOn:u.a.profile.experience.changed,valueAccessor:function(){var e=p.a.findFirstBy(m.a,"characterId",r.a.activeCharacter().key());return e?e.exp():""}},{name:"armorClass",refreshOn:u.a.armorClass.changed,valueAccessor:function(){var e=i.a.sharedService();return e.armorClass()?e.armorClass():0}},{name:"gold",refreshOn:u.a.treasure.changed,valueAccessor:function(){var e=p.a.findFirstBy(y.a,"characterId",r.a.activeCharacter().key());return e?e.worthInGold():0}},{name:"maxHitPoints",refreshOn:u.a.health.maxHitPoints.changed,valueAccessor:function(){var e=p.a.findFirstBy(o.a,"characterId",r.a.activeCharacter().key());return e?e.maxHitpoints():0}},{name:"damage",refreshOn:u.a.health.damage.changed,valueAccessor:function(){var e=p.a.findFirstBy(o.a,"characterId",r.a.activeCharacter().key());return e?e.damage():0}},{name:"tempHitPoints",refreshOn:u.a.health.tempHitPoints.changed,valueAccessor:function(){var e=p.a.findFirstBy(o.a,"characterId",r.a.activeCharacter().key());return e?e.tempHitpoints():0}},{name:"hitDiceType",refreshOn:u.a.hitDiceType.changed,valueAccessor:function(){var e=p.a.findFirstBy(c.a,"characterId",r.a.activeCharacter().key());return e?e.hitDiceType():""}},{name:"hitDice",refreshOn:u.a.hitDice.changed,valueAccessor:function(){var e=p.a.findBy(s.a,"characterId",r.a.activeCharacter().key());if(e){var t=0;return e.forEach(function(e,n,a){e.hitDiceUsed()||t++}),t+"/"+e.length}}},{name:"passivePerception",refreshOn:u.a.skills.perception.changed,valueAccessor:function(){var e=[new d.a("characterId",r.a.activeCharacter().key()),new d.a("name","Perception")],t=p.a.findByPredicates(b.a,e)[0];return t?t.passiveBonus():0}},{name:"passiveIntelligence",refreshOn:u.a.abilityScores.intelligence.changed,valueAccessor:function(){var e=p.a.findFirstBy(a.a,"characterId",r.a.activeCharacter().key()),t=e.modifierFor("int");return t=t||0,e?10+t:0}},{name:"spellSaveDC",refreshOn:u.a.spellStats.changed,valueAccessor:function(){var e=p.a.findFirstBy(v.a,"characterId",r.a.activeCharacter().key());return e?e.spellSaveDc():0}},{name:"healthinessStatus",refreshOn:u.a.status.healthiness.changed,valueAccessor:function(){var e=[new d.a("characterId",r.a.activeCharacter().key()),new d.a("identifier","Status.Healthiness")],t=p.a.findByPredicates(g.a,e)[0];return t?t.exportValues():null}},{name:"magicStatus",refreshOn:u.a.status.magic.changed,valueAccessor:function(){var e=[new d.a("characterId",r.a.activeCharacter().key()),new d.a("identifier","Status.Magical")],t=p.a.findByPredicates(g.a,e)[0];return t?t.exportValues():null}},{name:"trackedStatus",refreshOn:u.a.status.tracked.changed,valueAccessor:function(){var e=[new d.a("characterId",r.a.activeCharacter().key()),new d.a("identifier","Status.Tracked")],t=p.a.findByPredicates(g.a,e)[0];return t?t.exportValues():null}}]},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(1),i=n(10),r=n(28),o=n(89),s=n(63),c=n(2),l=n(12),d=n(0),u=n.n(d),p=new l.a(function(e){var t=this;t.armorClass=u.a.observable(),t.init=function(){a.f.armor.changed.add(t.dataHasChanged),a.f.abilityScores.dexterity.changed.add(t.dataHasChanged),a.f.stats.armorClassModifier.changed.add(t.dataHasChanged),t.dataHasChanged()},t.dataHasChanged=function(){var e=t.baseArmorClass(),n=t.dexBonus(),i=t.equippedArmorMagicalModifier(),r=t.equippedShieldMagicalModifier(),o=t.getEquippedShieldBonus();e+=t.armorClassModifier(),e+=n,t.hasShield()&&(e+=r+o),t.hasArmor()&&(e+=i),t.armorClass(e),a.f.armorClass.changed.dispatch()},t.baseArmorClass=function(){var e=t._getEquippedArmors();if(e.length>0){var n=e[0].armorClass();return parseInt(n)?parseInt(n):0}return 10},t.equippedArmorMagicalModifier=function(){var e=t._getEquippedArmors(),n=0;if(e.length>0){var a=e[0].armorMagicalModifier();n=parseInt(a)?parseInt(a):0}return n},t.equippedShieldMagicalModifier=function(){var e=t._getEquippedShields(),n=0;if(e.length>0){var a=e[0].armorMagicalModifier();n=parseInt(a)?parseInt(a):0}return n},t.atLeastOneArmorEquipped=function(){return t._getEquippedArmors().length+t._getEquippedShields().length>0},t.dexBonus=function(){var e=0,n=0,i=a.a.activeCharacter().key();try{var o=c.a.findFirstBy(r.a,"characterId",i);n=parseInt(o.modifierFor("Dex"))?parseInt(o.modifierFor("Dex")):0}catch(e){}var s=t._getEquippedArmors()[0];return s&&"equipped"===s.armorEquipped()?"Medium"===s.armorType()?e+=n>=2?2:n:"Heavy"===s.armorType()||(e+=n):e+=n,e},t.armorClassModifier=function(){var e=a.a.activeCharacter().key(),t=c.a.findFirstBy(s.a,"characterId",e),n=0;return t&&(n=t.armorClassModifier()?parseInt(t.armorClassModifier()):0),n},t.getEquippedShieldBonus=function(){if(t.hasShield()){var e=t._getEquippedShields()[0].armorClass();return parseInt(e)?parseInt(e):0}return 0},t.hasArmor=function(){return t._getEquippedArmors().length>0},t.hasShield=function(){return t._getEquippedShields().length>0},t._getEquippedArmors=function(){var e=a.a.activeCharacter().key(),t=[new i.a("characterId",e),new i.a("armorEquipped","equipped"),new i.b(new i.a("armorType","Shield"))];return c.a.findByPredicates(o.a,t)},t._getEquippedShields=function(){var e=a.a.activeCharacter().key(),t=[new i.a("characterId",e),new i.a("armorEquipped","equipped"),new i.a("armorType","Shield")];return c.a.findByPredicates(o.a,t)}},{})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(1),i=n(12),r=n(0),o=n.n(r),s=new i.a(function(e){var t=this;t.url="/api/users.json",t.user=o.a.observable(null),t.config=e,t.init=function(){a.f.authentication.loggedIn.add(t.getAccount)},t.getAccount=function(){a.g.oauth.getJSON(t.url,t._handleResponse)},t._handleResponse=function(e,n){if("success"===n){var i=e.results[0];i&&(t.user(i),a.f.user.exists.dispatch())}}},null)},function(e,t,n){"use strict";function a(){var e=this;e.ps=l.a.register(a,e),e.mapping={include:["characterId","chatId","dateCreated","name","isGroupChat","isParty","partyId"]},e.characterId=h.a.observable(),e.chatId=h.a.observable(),e.dateCreated=h.a.observable(),e.name=h.a.observable(),e.isGroupChat=h.a.observable(!1),e.isParty=h.a.observable(!1),e.partyId=h.a.observable(),e.chatName=h.a.pureComputed(function(){return p.a.getNodeFromJid(e.chatId())}),e.clear=function(){var t=(new a).exportValues(),n=h.a.mapping.autoignore(e,e.mapping);h.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=h.a.mapping.autoignore(e,e.mapping);h.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=h.a.mapping.autoignore(e,e.mapping);return h.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.purge=function(){e.getAllMessages().forEach(function(e,t,n){e.delete()})},e.getUnreadMessages=function(){return l.a.findFiltered(c.a,function(t,n){return p.a.getBareJidFromJid(t.from)==e.chatId()&&!t.read})},e.getAllMessages=function(){return l.a.findFiltered(c.a,function(t,n){return p.a.getBareJidFromJid(t.from)==e.chatId()}).concat(l.a.findFiltered(d.a,function(t,n){return p.a.getBareJidFromJid(t.from)==e.chatId()}))},e.getRoomMembers=function(){var t=e.chatId(),n=r.a.activeCharacter(),a=s.a.sharedService().getOccupantsInRoom(t),i=null;i="character"==n.playerType().key?o.a.sharedService():o.b.sharedService();return a.map(function(e,t,n){return i.pCards[e]?i.pCards[e]:e})}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(1)),o=n(65),s=n(51),c=(n(10),n(91)),l=n(2),d=n(93),u=(n(12),n(35)),p=n.n(u),f=n(0),h=n.n(f);a.__name="ChatRoom",l.a.addToRegistry(a)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(85),i=n(1),r=n(94),o=n(58),s=(n(10),n(38)),c=n(2),l=n(59),d=n(60),u=(n(12),n(31),n(24),n(41)),p=[{name:"publisherJid",refreshOn:s.a.item.changed,valueAccessor:function(){return u.a.sharedService().connection.jid}},{name:"name",refreshOn:s.a.campaign.changed,valueAccessor:function(){var e=c.a.findFirstBy(a.a,"characterId",i.a.activeCharacter().key());return e?e.name():""}},{name:"playerName",refreshOn:s.a.campaign.changed,valueAccessor:function(){var e=c.a.findFirstBy(a.a,"characterId",i.a.activeCharacter().key());return e?e.playerName():""}},{name:"playerType",refreshOn:s.a.characters.changed,valueAccessor:function(){var e=i.a.activeCharacter();return e?e.playerType().key:"character"}},{name:"imageUrl",refreshOn:s.a.playerImage.changed,valueAccessor:function(){var e="https://www.gravatar.com/avatar/{}?d=mm",t=c.a.findFirstBy(l.a,"characterId",i.a.activeCharacter().key());if(!t)return e;if("link"===t.imageSource()){var n=c.a.findFirstBy(o.a,"characterId",i.a.activeCharacter().key());return n&&""!==n.imageUrl()?n.imageUrl():e}if("email"===t.imageSource()){var a=c.a.findFirstBy(d.a,"characterId",i.a.activeCharacter().key());return a?a.gravatarUrl():e}return e}},{name:"exhibitImage",refreshOn:s.a.exhibit.changed,valueAccessor:function(){var e=c.a.findFirstBy(r.a,"characterId",i.a.activeCharacter().key());return e?e.toJSON():null}}]},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(1),i=n(51),r=n(12),o=n(35),s=n.n(o),c=n(41),l=new r.a(function(e){var t=this;t.config=e,t._isListeningForXMPPEvents=!1,t.init=function(){t._addXMPPHandlers(),a.f.party.roster.changed.add(t._getCards),a.f.xmpp.initialized.add(t._addXMPPHandlers),a.f.xmpp.disconnected.add(t._handleXMPPDisconnect)},t.getDefaultNodeOptions=function(){return t.config.defaultNodeOptions},t.publishItem=function(e,t,n,i,r){var o=c.a.sharedService();if(o.connection.connected){var l=$iq({from:s.a.getBareJidFromJid(o.connection.jid),type:"set",id:o.connection.getUniqueId()}).c("pubsub",{xmlns:s.a.NS.PUBSUB}).c("publish",{node:s.a.NS.JSON+"#"+n}).c("item").cnode(a.d.getElement(e,t).node);o.connection.sendIQ(l.tree(),i,r)}},t._addXMPPHandlers=function(){if(!t._isListeningForXMPPEvents){var e=c.a.sharedService();e.connection.addHandler(t._handleEvent,null,"message",null,null,null),e.connection.addHandler(t._handlePresenceRequest,null,"presence","subscribe"),e.connection.addHandler(t._handlePresence,null,"presence"),e.connection.addHandler(t._handleSuccessfulPresenceSubscription,null,"presence","subscribed")}t._isListeningForXMPPEvents=!0},t._handleXMPPDisconnect=function(){t._isListeningForXMPPEvents=!1},t._handleEvent=function(e){try{var t=$(e).find("items").children().toArray(),n=$(e).find("items").attr("node");if(!n)return!0;if(!(n=n.split("#")[1]))return!0;t.forEach(function(e,t,i){var r=$(e).find("json"),o=a.f.xmpp.routes[n]||!1;if(n&&o){var s=a.d.getContents(r);a.f.xmpp.routes[n].dispatch(s)}})}catch(e){console.log(e)}return!0},t._handlePresenceRequest=function(e){try{var t=c.a.sharedService();if($(e).attr("from")==s.a.getBareJidFromJid(t.connection.jid))return!0;var n=$pres({to:s.a.getBareJidFromJid($(e).attr("from")),type:"subscribed"});t.connection.send(n.tree())}catch(e){console.log(e)}return!0},t._handlePresence=function(e){try{var t=$(e).find("x item").attr("jid");if(!t)return!0;var n=c.a.sharedService(),a=$pres({to:s.a.getBareJidFromJid(t),from:n.connection.jid,type:"subscribe"});n.connection.send(a.tree())}catch(e){console.log(e)}return!0},t._handleSuccessfulPresenceSubscription=function(e){try{var n=$(e).attr("from");t._subscribeToNode(s.a.getBareJidFromJid(n),s.a.NS.JSON+"#pcard",t._getCards,null)}catch(e){console.log(e)}return!0},t._getCards=function(){var e=i.a.sharedService(),n=e.currentPartyNode;if(null!=n&&e.rooms[n]){var a=Object.keys(e.rooms[n].roster);a.length<1||a.forEach(function(e,n,a){t._getItemsFromNode(e+"@adventurerscodex.com","pcard",t._handleEvent,null)})}},t._subscribeToNode=function(e,t,n,a){var i=c.a.sharedService(),r=$iq({from:i.connection.jid,to:e,id:i.connection.getUniqueId(),type:"set"}).c("pubsub",{xmlns:s.a.NS.PUBSUB}).c("subscribe",{node:t,jid:s.a.getBareJidFromJid(i.connection.jid)});i.connection.sendIQ(r.tree(),n,a)},t._getItemsFromNode=function(e,t,n,a){var i=c.a.sharedService(),r=$iq({from:i.connection.jid,to:e,id:i.connection.getUniqueId(),type:"get"}).c("pubsub",{xmlns:s.a.NS.PUBSUB}).c("items",{node:s.a.NS.JSON+"#"+t});i.connection.sendIQ(r.tree(),n,a)}},{defaultNodeOptions:{}})},function(e,t,n){"use strict";function a(){var e=this;e.entries=[],e.get=function(t){for(var n=[],a=0;a<e.entries.length;a++)if(e.entries[a].name===t&&null!=e.entries[a].value&&void 0!=e.entries[a].value)n.push(e.entries[a].value);else if(e.entries[a].id&&e.entries[a].id===t)return e.entries[a].value;return n},e.getAttributes=function(t){for(var n=[],a=0;a<e.entries.length;a++)if(e.entries[a].name===t)n.push(e.entries[a].attr);else if(e.entries[a].id&&e.entries[a].id===t)return[e.entries[a].attr];return n},e.set=function(t,n,a,i){for(var r=0;r<e.entries.length;r++)if(e.entries[r].id===t)return void(e.entries[r]={id:t,name:n,attr:a,value:i});e.entries.push({id:t,name:n,attr:a,value:i})},e.remove=function(t){for(var n=0;n<e.entries.length;n++)if(e.entries[n].id===t)return void delete e.entries[n]},e.removeAllNamed=function(t){for(var n=0;n<e.entries.length;n++)e.entries[n].name===t&&delete e.entries[n]},e.toJSON=function(){return JSON.stringify(e.entries)}}t.a=a;var i=n(4),r=(n.n(i),n(5),n(2),n(0));n.n(r);a.fromJSON=function(e){var t=new a;return t.entries=JSON.parse(e),t},a.fromEntries=function(e){var t=new a;return t.entries=e,t}},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","name","imageUrl","description","isExhibited"]},e.characterId=c.a.observable(),e.encounterId=c.a.observable(),e.name=c.a.observable(),e.description=c.a.observable(),e.imageUrl=c.a.observable(),e.isExhibited=c.a.observable(),e.DESCRIPTION_MAX_LENGTH=100,e.clear=function(){var t=(new a).exportValues(),n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=c.a.mapping.autoignore(e,e.mapping);return c.a.mapping.toJS(e,t)},e.shortDescription=c.a.pureComputed(function(){return o.g.string.truncateStringAtLength(e.description(),e.DESCRIPTION_MAX_LENGTH)}),e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.toJSON=function(){return{url:e.imageUrl(),name:e.name()}},e.toHTML=function(){return"New image in chat"}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(1),s=n(0),c=n.n(s);a.__name="CampaignMapOrImage",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","imageUrl","weather","terrain","description","isExhibited"]},e.characterId=o.a.observable(),e.encounterId=o.a.observable(),e.imageUrl=o.a.observable(),e.weather=o.a.observable(),e.terrain=o.a.observable(),e.description=o.a.observable(),e.isExhibited=o.a.observable(!1),e.toJSON=function(){return{name:"Environment",url:e.imageUrl()}},e.clear=function(){var t=(new a).exportValues(),n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.name=o.a.pureComputed(function(){return"Weather: {weather}, Terrain: {terrain}".replace("{weather}",e.weather()?e.weather():"Unknown").replace("{terrain}",e.terrain()?e.terrain():"Unknown")}),e.toHTML=function(){return"New environment"}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="Environment",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","encounterId","name","imageUrl","description","isExhibited"]},e.characterId=c.a.observable(),e.encounterId=c.a.observable(),e.name=c.a.observable(),e.description=c.a.observable(),e.imageUrl=c.a.observable(),e.isExhibited=c.a.observable(!1),e.DESCRIPTION_MAX_LENGTH=100,e.toJSON=function(){return{name:e.name()?e.name():"Untitled",url:e.imageUrl()}},e.clear=function(){var t=(new a).exportValues(),n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=c.a.mapping.autoignore(e,e.mapping);return c.a.mapping.toJS(e,t)},e.shortDescription=c.a.pureComputed(function(){return o.g.string.truncateStringAtLength(e.description(),e.DESCRIPTION_MAX_LENGTH)}),e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.toHTML=function(){return"New image in chat"}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(1),s=n(0),c=n.n(s);a.__name="MapOrImage",r.a.addToRegistry(a)},function(e,t,n){"use strict";var a=n(95);n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return a.b}),n.d(t,"d",function(){return a.c});var i=n(388);n.d(t,"a",function(){return i.a});var r=n(390);n.d(t,"e",function(){return r.a});var o=n(151);n.d(t,"f",function(){return o.a});var s=n(41);n.d(t,"g",function(){return s.a})},function(e,t,n){(function(e,a){var i;!function(r){function o(e){throw new RangeError(M[e])}function s(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function c(e,t){var n=e.split("@"),a="";n.length>1&&(a=n[0]+"@",e=n[1]);return a+s((e=e.replace(A,".")).split("."),t).join(".")}function l(e){for(var t,n,a=[],i=0,r=e.length;i<r;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function d(e){return s(e,function(e){var t="";return e>65535&&(t+=P((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=P(e)}).join("")}function u(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:y}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,n){var a=0;for(e=n?O(e/S):e>>1,e+=O(e/t);e>F*w>>1;a+=y)e=O(e/F);return O(a+(F+1)*e/(e+k))}function h(e){var t,n,a,i,r,s,c,l,p,h,m=[],b=e.length,v=0,k=I,S=C;for((n=e.lastIndexOf(_))<0&&(n=0),a=0;a<n;++a)e.charCodeAt(a)>=128&&o("not-basic"),m.push(e.charCodeAt(a));for(i=n>0?n+1:0;i<b;){for(r=v,s=1,c=y;i>=b&&o("invalid-input"),((l=u(e.charCodeAt(i++)))>=y||l>O((g-v)/s))&&o("overflow"),v+=l*s,p=c<=S?x:c>=S+w?w:c-S,!(l<p);c+=y)s>O(g/(h=y-p))&&o("overflow"),s*=h;S=f(v-r,t=m.length+1,0==r),O(v/t)>g-k&&o("overflow"),k+=O(v/t),v%=t,m.splice(v++,0,k)}return d(m)}function m(e){var t,n,a,i,r,s,c,d,u,h,m,b,v,k,S,T=[];for(b=(e=l(e)).length,t=I,n=0,r=C,s=0;s<b;++s)(m=e[s])<128&&T.push(P(m));for(a=i=T.length,i&&T.push(_);a<b;){for(c=g,s=0;s<b;++s)(m=e[s])>=t&&m<c&&(c=m);for(c-t>O((g-n)/(v=a+1))&&o("overflow"),n+=(c-t)*v,t=c,s=0;s<b;++s)if((m=e[s])<t&&++n>g&&o("overflow"),m==t){for(d=n,u=y;h=u<=r?x:u>=r+w?w:u-r,!(d<h);u+=y)S=d-h,k=y-h,T.push(P(p(h+S%k,0))),d=O(S/k);T.push(P(p(d,0))),r=f(n,v,a==i),n=0,++a}++n,++t}return T.join("")}"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var b="object"==typeof a&&a;var v,g=2147483647,y=36,x=1,w=26,k=38,S=700,C=72,I=128,_="-",T=/^xn--/,E=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=y-x,O=Math.floor,P=String.fromCharCode;v={version:"1.3.2",ucs2:{decode:l,encode:d},decode:h,encode:m,toASCII:function(e){return c(e,function(e){return E.test(e)?"xn--"+m(e):e})},toUnicode:function(e){return c(e,function(e){return T.test(e)?h(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return v}.call(t,n,t,e))||(e.exports=i)}()}).call(t,n(128)(e),n(26))},function(e,t,n){var a,i;!function(r,o){"use strict";"object"==typeof e&&e.exports?e.exports=o():void 0===(i="function"==typeof(a=o)?a.call(t,n,t,e):a)||(e.exports=i)}(0,function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t=e.toLowerCase().split(":"),n=t.length,a=8;""===t[0]&&""===t[1]&&""===t[2]?(t.shift(),t.shift()):""===t[0]&&""===t[1]?t.shift():""===t[n-1]&&""===t[n-2]&&t.pop(),-1!==t[(n=t.length)-1].indexOf(".")&&(a=7);var i;for(i=0;i<n&&""!==t[i];i++);if(i<a)for(t.splice(i,1,"0000");t.length<a;)t.splice(i,0,"0000");for(var r,o=0;o<a;o++){r=t[o].split("");for(var s=0;s<3&&"0"===r[0]&&r.length>1;s++)r.splice(0,1);t[o]=r.join("")}var c=-1,l=0,d=0,u=-1,p=!1;for(o=0;o<a;o++)p?"0"===t[o]?d+=1:(p=!1,d>l&&(c=u,l=d)):"0"===t[o]&&(p=!0,u=o,d=1);d>l&&(c=u,l=d),l>1&&t.splice(c,l,""),n=t.length;var f="";for(""===t[0]&&(f=":"),o=0;o<n&&(f+=t[o],o!==n-1);o++)f+=":";return""===t[n-1]&&(f+=":"),f},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}})},function(e,t,n){var a,i;!function(r,o){"use strict";"object"==typeof e&&e.exports?e.exports=o():void 0===(i="function"==typeof(a=o)?a.call(t,n,t,e):a)||(e.exports=i)}(0,function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var a=e.lastIndexOf(".",t-1);if(a<=0||a>=t-1)return!1;var i=n.list[e.slice(t+1)];return!!i&&i.indexOf(" "+e.slice(a+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var a=n.list[e.slice(t+1)];return!!a&&a.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var a=e.lastIndexOf(".",t-1);if(a<=0||a>=t-1)return null;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(a+1,t)+" ")<0?null:e.slice(a+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n})},function(e,t,n){"use strict";function a(){var e=this;e.DESCRIPTION_MAX_LENGTH=200,e.ps=r.a.register(a,e),e.mapping={include:["characterId","itemName","itemDesc","itemQty","itemWeight","itemCost","itemCurrencyDenomination"]},e.characterId=c.a.observable(null),e.itemName=c.a.observable(""),e.itemDesc=c.a.observable(""),e.itemQty=c.a.observable(1),e.itemWeight=c.a.observable(0),e.itemCost=c.a.observable(0),e.itemCurrencyDenomination=c.a.observable(""),e.totalWeight=c.a.pureComputed(function(){return e.itemQty()&&e.itemWeight()?parseInt(e.itemQty())*parseFloat(e.itemWeight()):0}),e.shortDescription=c.a.pureComputed(function(){return o.g.string.truncateStringAtLength(e.itemDesc(),e.DESCRIPTION_MAX_LENGTH)}),e.itemDescriptionHTML=c.a.pureComputed(function(){return e.itemDesc()?e.itemDesc().replace(/\n/g,"<br />"):'<div class="h3"><small>Add a description via the edit tab.</small></div>'}),e.itemWeightLabel=c.a.pureComputed(function(){return""!==e.itemWeight()&&e.itemWeight()>=0?e.itemWeight()+" lbs.":"0 lbs."}),e.costLabel=c.a.pureComputed(function(){return e.itemCost()?e.itemCost()+" "+e.itemCurrencyDenomination():""}),e.clear=function(){var t=(new a).exportValues(),n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=c.a.mapping.autoignore(e,e.mapping);return c.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(1),s=n(0),c=n.n(s);a.__name="Item",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.FINESSE="finesse",e.RANGED="ranged",e.ps=s.a.register(a,e),e.mapping={include:["weaponHit","characterId","weaponName","weaponType","weaponDmg","weaponHandedness","weaponProficiency","weaponPrice","weaponCurrencyDenomination","weaponToHitModifier","weaponWeight","weaponRange","weaponDamageType","weaponProperty","weaponDescription","weaponQuantity"]},e._dummy=d.a.observable(null),e.characterId=d.a.observable(null),e.weaponName=d.a.observable(""),e.weaponType=d.a.observable(""),e.weaponDmg=d.a.observable(""),e.weaponHandedness=d.a.observable(""),e.weaponProficiency=d.a.observable(""),e.weaponPrice=d.a.observable(0),e.weaponCurrencyDenomination=d.a.observable(""),e.weaponHit=d.a.observable(0),e.weaponToHitModifier=d.a.observable(0),e.weaponWeight=d.a.observable(1),e.weaponRange=d.a.observable(""),e.weaponDamageType=d.a.observable(""),e.weaponProperty=d.a.observable(""),e.weaponDescription=d.a.observable(""),e.weaponQuantity=d.a.observable(1),e.weaponProficiencyOptions=d.a.observableArray(r.c.weapon.weaponProficiencyOptions),e.weaponHandednessOptions=d.a.observableArray(r.c.weapon.weaponHandednessOptions),e.weaponTypeOptions=d.a.observableArray(r.c.weapon.weaponTypeOptions),e.weaponPropertyOptions=d.a.observableArray(r.c.weapon.weaponPropertyOptions),e.weaponDamageTypeOptions=d.a.observableArray(r.c.weapon.weaponDamageTypeOptions),e.updateValues=function(){e._dummy.notifySubscribers()},e.totalWeight=d.a.computed(function(){return(parseInt(e.weaponQuantity())||1)*(parseInt(e.weaponWeight())||0)}),e.proficiencyScore=function(){return c.a.sharedService().proficiency()},e.strAbilityScoreModifier=function(){var e=null;try{e=s.a.findBy(o.a,"characterId",r.a.activeCharacter().key())[0].modifierFor("Str")}catch(e){}return null===e?null:parseInt(e)},e.dexAbilityScoreModifier=function(){var e=null;try{e=s.a.findBy(o.a,"characterId",r.a.activeCharacter().key())[0].modifierFor("Dex")}catch(e){}return null===e?null:parseInt(e)},e.abilityScoreBonus=d.a.pureComputed(function(){if(e._dummy(),e.weaponType().toLowerCase()===e.RANGED)return e.dexAbilityScoreModifier();if(e.weaponProperty().toLowerCase().indexOf(e.FINESSE)>=0){var t=e.dexAbilityScoreModifier(),n=e.strAbilityScoreModifier();return t?t>n?t:n:n||0}return e.strAbilityScoreModifier()}),e.totalBonus=d.a.pureComputed(function(){e._dummy();var t=0,n=e.abilityScoreBonus(),a=e.proficiencyScore(),i=parseInt(e.weaponHit()),r=parseInt(e.weaponToHitModifier());return n&&(t+=n),a&&(t+=a),i&&(t+=i),r&&(t+=r),t}),e.hitBonusLabel=d.a.pureComputed(function(){e._dummy();var t=e.totalBonus();return t?t>=0?"+ "+t:"- "+Math.abs(t):"+ 0"}),e.weaponRangeLabel=d.a.pureComputed(function(){if("ranged"===e.weaponType().toLowerCase())return e.weaponRange()?e.weaponRange()+" ft.":"";if("melee"===e.weaponType().toLowerCase()){var t=parseInt(e.weaponRange());return t||(t=5),e.weaponProperty()&&-1!==e.weaponProperty().toLowerCase().indexOf("reach")&&(t+=5),t+" ft."}}),e.magicalModifierLabel=d.a.pureComputed(function(){e._dummy();var t=e.weaponHit();return t?t>=0?"+ "+t:"- "+Math.abs(t):""}),e.toHitModifierLabel=d.a.pureComputed(function(){e._dummy();var t=e.weaponToHitModifier();return t?t>=0?"+ "+t:"- "+Math.abs(t):0}),e.applyMagicalModifierLabel=d.a.pureComputed(function(){return""!==e.magicalModifierLabel()}),e.weaponDescriptionHTML=d.a.pureComputed(function(){return e.weaponDescription()?e.weaponDescription().replace(/\n/g,"<br />"):'<div class="h3"><small>Add a description via the edit tab.</small></div>'}),e.weaponWeightLabel=d.a.pureComputed(function(){return""!==e.weaponWeight()&&e.weaponWeight()>=0?e.weaponWeight()+" lbs.":"0 lbs."}),e.clear=function(){var t=(new a).exportValues();d.a.mapping.fromJS(t,e.mapping,e)},e.importValues=function(t){var n=d.a.mapping.autoignore(e,e.mapping);d.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=d.a.mapping.autoignore(e,e.mapping);return d.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(1)),o=n(28),s=n(2),c=n(64),l=(n(12),n(0)),d=n.n(l);a.__name="Weapon",s.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","monsterId","name","value"]},e.characterId=o.a.observable(null),e.encounterId=o.a.observable(null),e.monsterId=o.a.observable(null),e.name=o.a.observable(),e.value=o.a.observable(),e.modifier=o.a.pureComputed(function(){return e.isNumeric(e.value())?Math.floor((e.value()-10)/2):null}),e.modifierLabel=o.a.pureComputed(function(){if(null!==e.modifier())return e.modifier()>=0?"+ "+e.modifier():"- "+Math.abs(e.modifier())}),e.clear=function(){var t=(new a).exportValues(),n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="MonsterAbilityScore",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","visible","name"]},e.characterId=o.a.observable(),e.encounterId=o.a.observable(),e.name=o.a.observable("Read-Aloud Text"),e.visible=o.a.observable(!0),e.tagline=o.a.observable("For all the things you need to say to players: wall carvings, secret messages, or worldly descriptions."),e.clear=function(){var t=(new a).exportValues(),n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="PlayerTextSection",i.a.addToRegistry(a)},function(e,t,n){"use strict";var a=n(150);n.d(t,"a",function(){return a.a});var i=n(64);n.d(t,"e",function(){return i.a});var r=n(430);n.d(t,"b",function(){return r.a}),n.d(t,"c",function(){return r.b}),n.d(t,"d",function(){return r.c}),n.d(t,"f",function(){return r.d}),n.d(t,"g",function(){return r.e});n(149)},function(e,t,n){e.exports=n.p+"4affc19dee9cc6715d7859ff832a1627.svg"},function(e,t,n){e.exports=n.p+"43ac34f8d45511aed3c85bbfb5b069ce.svg"},function(e,t,n){e.exports=n.p+"baaba033f925610b8452e966ed6f66bb.svg"},function(e,t,n){e.exports=n.p+"52d3aad3745baac804d5784520b9c8fa.svg"},function(e,t,n){e.exports=n.p+"84abfccf5506dca16b0342340c8246db.svg"},function(e,t,n){e.exports=n.p+"6f4f1d981a708194fe66b8395c9569f8.svg"},function(e,t,n){e.exports=n.p+"09fdaf565eeea27f1cbf0cdeb4cd3aa4.svg"},function(e,t,n){e.exports=n.p+"f4defddb2876f6323abe1b19e437fab2.svg"},function(e,t,n){e.exports=n.p+"8de5c5636e79857318806345f94d05d7.svg"},function(e,t,n){"use strict";n(23);var a=n(1),i=n(84),r=n(2),o=n(0),s=n.n(o),c=n(67),l=n.n(c),d=n(478),u=n.n(d);s.a.components.register("character-picker",{viewModel:function(e){var t=this;t.totalLocalStorage=5,t.logo=l.a,t.isLoggedIn=s.a.observable(!1),t.selectedCharacter=s.a.observable(),t.characters=s.a.observableArray([]),t.defaultCharacterKey=s.a.observable(null),t.state=e.state,t.load=function(){t.characters(r.a.findAll(i.a))},t.showWizard=function(){t.state("wizard")},t.changeCharacter=function(e){var t=null;a.a.activeCharacter()&&(t=a.a.activeCharacter().key()),e.key()!==t&&a.a.changeCharacter(e.key())},t.localStoragePercent=s.a.computed(function(){return t.characters().lenth,(JSON.stringify(localStorage).length/524288/t.totalLocalStorage*100).toFixed(2)})},template:u.a})},function(e,t,n){"use strict";var a=n(11),i=n(1),r=n(2),o=n(0),s=n.n(o),c=n(479),l=n.n(c);s.a.components.register("characters",{viewModel:function(e){var t=this;t.totalLocalStorage=5,t.characters=s.a.observableArray([]),t.componentStatus=e.modalStatus||s.a.observable(!1),t.modalStatus=s.a.observable(!1),t.load=function(){t.characters(r.a.findAll(a.d)),t.modalStatus(t.componentStatus())},t.changeCharacter=function(e){var t=null;i.a.activeCharacter()&&(t=i.a.activeCharacter().key()),e.key()!==t&&i.a.changeCharacter(e.key())},t.addCharacter=function(){var e=new a.d;e.key(uuid.v4()),e.playerType(a.o.characterPlayerType),t.characters.push(e),i.a.defaultCharacter()||e.isDefault(!0),e.save(),i.f.characters.changed.dispatch(),window.location=e.url()},t.removeCharacter=function(e){e.delete(),t.characters.remove(e),0===t.characters().length?t.modalStatus(!1):i.a.changeCharacter(t.characters()[0].key())},t.modalFinishedClosing=function(){0===t.characters().length&&i.f.characters.allRemoved.dispatch(),t.componentStatus(!1)},t.localStoragePercent=s.a.computed(function(){return t.characters().lenth,(JSON.stringify(localStorage).length/524288/t.totalLocalStorage*100).toFixed(2)})},template:l.a})},function(e,t,n){"use strict";function a(e){var t=this;t.id=e.chatId,t.characterId=e.characterId,t._name=e.name,t.badge=r.a.observable(),t.isGroupChat=e.isGroupChat,t._getRoomMembers=e.getRoomMembers,t.isParty=e.isParty,t.members=r.a.observableArray([]),t.placeholder="https://www.gravatar.com/avatar/{}?d=mm",t.name=r.a.pureComputed(function(){return t.members().map(function(e,n,a){return t._getMemberTemplate(e)}).join("")}),t.shouldShowDelete=r.a.pureComputed(function(){return!t.isParty()}),t.reload=function(){t.members(t._getRoomMembers())},t.save=function(){},t._getMemberTemplate=function(e){var n="string"!=typeof e?e.get("imageUrl")[0]:t.placeholder;return o.replace("{card.imageUrl}",n)}}t.a=a;var i=n(0),r=n.n(i),o='    <img src="{card.imageUrl}" width="40px" height="40px" class="img img-circle" />&nbsp;';r.a.components.register("chat-cell",{viewModel:a,template:o})},function(e,t,n){"use strict";function a(){var e=this;e._modalValue=r.a.observable(),e.selectedCell=r.a.observable(),e.selectedObject=r.a.observable(),e.shouldDisplayModelOnNewItem=!1,e.supportsNestedCells=!1,e.title=r.a.observable(""),e.listCSS=r.a.observable({"col-xs-12 col-sm-3 tight-right":!0}),e.detailViewModelCSS=r.a.observable({"col-xs-12 col-sm-9":!0}),e.addNewItemText=r.a.observable("Nothing here."),e.modalIsOpen=r.a.observable(!1),e.cells=r.a.observableArray(),e.load=function(){e.selectedCell.subscribe(e.listCellWasClicked),e.didLoad()},e.dispose=function(){e.cells().forEach(function(e,t,n){e.save()}),e.didUnload()},e.didLoad=function(){throw Error("Not properly configured: didLoad")},e.didUnload=function(){throw Error("Not properly configured: didUnload")},e.addItem=function(){throw Error("Not properly configured: addItem")},e.addItemWithParent=function(e){throw Error("Not properly configured: addItemWithParent")},e.deleteCell=function(e){throw Error("Not properly configured: deleteCell")},e.getModalObject=function(){throw Error("Not properly configured: getModalObject")},e.getDetailObject=function(e){throw Error("Not properly configured: getDetailViewObject")},e.modalFinishedOpening=function(){},e.modalFinishedClosing=function(){},e.dataHasChanged=function(){e.cells().forEach(function(e,t,n){e.reloadData()})},e.addButtonWasClicked=function(){e.shouldDisplayModelOnNewItem?e.modalIsOpen(!0):e.addItem()},e.addButtonWasClickedWithParent=function(t){e.shouldDisplayModelOnNewItem?e.modalIsOpen(!0):e.addItemWithParent(null,t)},e.deleteButtonWasClicked=function(t){e.deleteCell(t)},e.listCellWasClicked=function(){var t=e.selectedCell(),n=e.getDetailObject(t);e.selectedObject(n)},e._modalDoneButtonWasClicked=function(){e.addItem()},e._deleteItem=function(t){e.deleteItem(t)},e._modalFinishedOpening=function(){e.modalFinishedOpening()},e._modalFinishedClosing=function(){e.modalFinishedClosing()},e._findCell=function(t,n,a){for(var i=null,r=0;r<t.length&&(a===t[r][n]()?i=t[r]:e.supportsNestedCells&&(i=e._findCell(t[r].children(),n,a)),null===i);r++);return i}}t.a=a;n(23);var i=n(0),r=n.n(i),o=n(481),s=n.n(o);r.a.components.register("master-detail",{viewModel:a,template:s.a})},function(e,t,n){"use strict";t.__esModule=!0,t.stateify=t.TokenState=t.CharacterState=void 0;var a=n(68),i=function(e){this.j=[],this.T=e||null};i.prototype={defaultTransition:!1,on:function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)this.j.push([e[n],t]);return this}return this.j.push([e,t]),this},next:function(e){for(var t=0;t<this.j.length;t++){var n=this.j[t],a=n[0],i=n[1];if(this.test(e,a))return i}return this.defaultTransition},accepts:function(){return!!this.T},test:function(e,t){return e===t},emit:function(){return this.T}};var r=(0,a.inherits)(i,function(e){this.j=[],this.T=e||null},{test:function(e,t){return e===t||t instanceof RegExp&&t.test(e)}}),o=(0,a.inherits)(i,function(e){this.j=[],this.T=e||null},{jump:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.next(new e(""));return n===this.defaultTransition?(n=new this.constructor(t),this.on(e,n)):t&&(n.T=t),n},test:function(e,t){return e instanceof t}});t.CharacterState=r,t.TokenState=o,t.stateify=function(e,t,n,a){for(var i=0,o=e.length,s=t,c=[],l=void 0;i<o&&(l=s.next(e[i]));)s=l,i++;if(i>=o)return[];for(;i<o-1;)l=new r(a),c.push(l),s.on(e[i],l),s=l,i++;return l=new r(n),c.push(l),s.on(e[o-1],l),c}},function(e,t,n){"use strict";t.__esModule=!0,t.createTokenClass=function(){return function(e){e&&(this.v=e)}}},function(e,t,n){"use strict";t.a=function(){var e=this;e.state=c.a.observable(p.SELECT),e.selectedCharacter=c.a.observable(),e._dummy=c.a.observable(),e.partyManagerModalStatus=c.a.observable(!1),e.characterAndGamesModalStatus=c.a.observable(!1),e.exportModalStatus=c.a.observable(!1),e.navLogo=d.a,e.version="1.5.2",e.buildDate="3/27/2023, 7:35:28PM",e.environment="prod",e.homeURL="https://app.adventurerscodex.com",e.showWizard=function(){e.state(p.WIZARD),i.a.activeCharacter()&&e.unload(),e.load()},e.shouldShowApp=c.a.pureComputed(function(){return e.state()==p.CHOSEN}),e.shouldShowWizard=c.a.pureComputed(function(){return e.state()==p.WIZARD}),e.shouldShowPicker=c.a.pureComputed(function(){return e.state()==p.SELECT}),e.init=function(){i.f.characters.allRemoved.add(e._handleAllCharactersRemoved),i.f.characterManager.changing.add(e._handleChangingCharacter),i.f.characterManager.changed.add(e._handleChangedCharacter),r.l.findAll(o.d).length>0?e.state(p.SELECT):e.state(p.WIZARD),a.s.sharedService().init(),a.j.sharedService().init(),a.c.sharedService().init(),a.k.sharedService().init(),a.b.sharedService().init()},e.load=function(){e._dummy.valueHasMutated()},e.unload=function(){e._purgeStrayDBEntries()},e.togglePartyManagerModal=function(){e.partyManagerModalStatus(!0)},e.toggleCharacterAndGamesModal=function(){e.characterAndGamesModalStatus(!0)},e.toggleExportModal=function(){e.exportModalStatus(!0)},e.partyModalFinishedClosing=function(){e.partyManagerModalStatus(!1)},e._handleAllCharactersRemoved=function(){e.showWizard()},e._handleChangingCharacter=function(){i.a.activeCharacter()&&e.state()==p.CHOSEN&&e.unload(),e.selectedCharacter(null)},e._handleChangedCharacter=function(){e.selectedCharacter(i.a.activeCharacter()),e.state(p.CHOSEN);try{e.load()}catch(e){throw e}},e._hasAtLeastOneCharacter=function(){return r.l.findAll(o.d).length>0},e._purgeStrayDBEntries=function(){var e=r.l.findAll(o.d).map(function(e,t,n){return e.key()});r.l.listAll().forEach(function(t,n,a){"Character"!==t&&"AuthenticationToken"!==t&&r.l.findAllObjs(t).forEach(function(n,a,i){var o=void 0===n.data.characterId||null===n.data.characterId;(-1===e.indexOf(n.data.characterId)||o)&&r.l._delete(t,n.id)})})}};n(14),n(177),n(178);var a=n(20),i=n(1),r=n(6),o=n(11),s=n(0),c=n.n(s),l=n(67),d=n.n(l),u=n(518),p=(n.n(u),{CHOSEN:"app",WIZARD:"wizard",SELECT:"select"})},function(e,t,n){e.exports=n.p+"559a1f7fec3ff6ecc8f5c7853d5c5cdc.svg"},function(e,t,n){e.exports=n.p+"c41e3563cb6bdfa6a141bcc143669fb3.png"},function(e,t,n){"use strict";n(563),n(565);var a=n(567);n.d(t,"a",function(){return a.a});n(568),n(570),n(572),n(574),n(577),n(579),n(581),n(583),n(589),n(591)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n.n(a),r=n(188),o=(n.n(r),n(201)),s=(n.n(o),n(212)),c=n.n(s),l=(n(213),n(247),n(250)),d=(n.n(l),n(14),n(251),n(256)),u=(n.n(d),n(258),n(103),n(362),n(15),n(20),n(1),n(183)),p=n(621),f=n.n(p),h=n(622),m=new c.a({color:"#b4bcc2",lines:12}).spin(document.getElementsByTagName("body")[0]),b=new u.a;Object(h.a)(b),window.onbeforeunload=b.unload,i.a.components.register("application",{viewModel:{instance:b},template:f.a}),i.a.applyBindings(),m.stop()},function(e,t,n){n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200)},function(e,t){+function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,a=this;e(this).one("bsTransitionEnd",function(){n=!0});return setTimeout(function(){n||e(a).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery)},function(e,t){+function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function a(){o.detach().trigger("closed.bs.alert").remove()}var i=e(this),r=i.attr("data-target");r||(r=(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,""));var o=e("#"===r?[]:r);t&&t.preventDefault(),o.length||(o=i.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a())};var a=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var a=e(this),i=a.data("bs.alert");i||a.data("bs.alert",i=new n(this)),"string"==typeof t&&i[t].call(a)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=a,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery)},function(e,t){+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.button"),r="object"==typeof t&&t;i||a.data("bs.button",i=new n(this,r)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",a=this.$element,i=a.is("input")?"val":"html",r=a.data();t+="Text",null==r.resetText&&a.data("resetText",a[i]()),setTimeout(e.proxy(function(){a[i](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,a.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,a.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var a=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var a=e(n.target).closest(".btn");t.call(a,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),a.is("input,button")?a.trigger("focus"):a.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery)},function(e,t){+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.carousel"),r=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t),o="string"==typeof t?t:r.slide;i||a.data("bs.carousel",i=new n(this,r)),"number"==typeof t?i.to(t):o?i[o]():r.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var a=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(a)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,a){var i=this.$element.find(".item.active"),r=a||this.getItemForDirection(t,i),o=this.interval,s="next"==t?"left":"right",c=this;if(r.hasClass("active"))return this.sliding=!1;var l=r[0],d=e.Event("slide.bs.carousel",{relatedTarget:l,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:l,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,i.addClass(s),r.addClass(s),i.one("bsTransitionEnd",function(){r.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var a=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=a,this};var i=function(n){var a,i=e(this),r=e(i.attr("data-target")||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var o=e.extend({},r.data(),i.data()),s=i.attr("data-slide-to");s&&(o.interval=!1),t.call(r,o),s&&r.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery)},function(e,t){+function(e){"use strict";function t(t){var n,a=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(a)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),r=e.extend({},a.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),i||n.data("bs.collapse",i=new a(this,r)),"string"==typeof t&&i[t]()})}var a=function(t,n){this.$element=e(t),this.options=e.extend({},a.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};a.VERSION="3.3.7",a.TRANSITION_DURATION=350,a.DEFAULTS={toggle:!0},a.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},a.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"))&&t.transitioning)){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var c=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(a.TRANSITION_DURATION)[o](this.$element[0][c])}}}},a.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return i.call(this);this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(a.TRANSITION_DURATION)}}},a.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},a.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,a){var i=e(a);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},a.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=a,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(a){var i=e(this);i.attr("data-target")||a.preventDefault();var r=t(i),o=r.data("bs.collapse")?"toggle":i.data();n.call(r,o)})}(jQuery)},function(e,t){+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var a=n&&e(n);return a&&a.length?a:t.parent()}function n(n){n&&3===n.which||(e(a).remove(),e(i).each(function(){var a=e(this),i=t(a),r={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target)||(i.trigger(n=e.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(a.attr("aria-expanded","false"),i.removeClass("open").trigger(e.Event("hidden.bs.dropdown",r)))))}))}var a=".dropdown-backdrop",i='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.7",r.prototype.toggle=function(a){var i=e(this);if(!i.is(".disabled, :disabled")){var r=t(i),o=r.hasClass("open");if(n(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(r.trigger(a=e.Event("show.bs.dropdown",s)),a.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},r.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var a=e(this);if(n.preventDefault(),n.stopPropagation(),!a.is(".disabled, :disabled")){var r=t(a),o=r.hasClass("open");if(!o&&27!=n.which||o&&27==n.which)return 27==n.which&&r.find(i).trigger("focus"),a.trigger("click");var s=r.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var c=s.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<s.length-1&&c++,~c||(c=0),s.eq(c).trigger("focus")}}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new r(this)),"string"==typeof t&&a[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,r.prototype.toggle).on("keydown.bs.dropdown.data-api",i,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery)},function(e,t){+function(e){"use strict";function t(t,a){return this.each(function(){var i=e(this),r=i.data("bs.modal"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);r||i.data("bs.modal",r=new n(this,o)),"string"==typeof t?r[t](a):o.show&&r.show(a)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var a=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){a.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(a.$element)&&(a.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(a.$body),a.$element.show().scrollTop(0),a.adjustDialog(),i&&a.$element[0].offsetWidth,a.$element.addClass("in"),a.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});i?a.$dialog.one("bsTransitionEnd",function(){a.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):a.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var a=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){a.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var a=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var a=e(this),i=a.attr("href"),r=e(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),a.data());a.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),t.call(r,o,this)})}(jQuery)},function(e,t){+function(e){"use strict";var t=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};t.VERSION="3.3.7",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,a){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",c="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,a){n[e]!=a&&(t[e]=a)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},t.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},t.prototype.show=function(){var n=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var a=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!a)return;var i=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,c=/\s?auto?\s?/i,l=c.test(s);l&&(s=s.replace(c,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=r[0].offsetWidth,p=r[0].offsetHeight;if(l){var f=s,h=this.getPosition(this.$viewport);s="bottom"==s&&d.bottom+p>h.bottom?"top":"top"==s&&d.top-p<h.top?"bottom":"right"==s&&d.right+u>h.width?"left":"left"==s&&d.left-u<h.left?"right":s,r.removeClass(f).addClass(s)}var m=this.getCalculatedOffset(s,d,u,p);this.applyPlacement(m,s);var b=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",b).emulateTransitionEnd(t.TRANSITION_DURATION):b()}},t.prototype.applyPlacement=function(t,n){var a=this.tip(),i=a[0].offsetWidth,r=a[0].offsetHeight,o=parseInt(a.css("margin-top"),10),s=parseInt(a.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top+=o,t.left+=s,e.offset.setOffset(a[0],e.extend({using:function(e){a.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),a.addClass("in");var c=a[0].offsetWidth,l=a[0].offsetHeight;"top"==n&&l!=r&&(t.top=t.top+r-l);var d=this.getViewportAdjustedDelta(n,t,c,l);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(n),p=u?2*d.left-i+c:2*d.top-r+l,f=u?"offsetWidth":"offsetHeight";a.offset(t),this.replaceArrow(p,a[0][f],u)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(n){function a(){"in"!=i.hoverState&&r.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),n&&n()}var i=this,r=e(this.$tip),o=e.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",a).emulateTransitionEnd(t.TRANSITION_DURATION):a(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var n=(t=t||this.$element)[0],a="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&n instanceof window.SVGElement,o=a?{top:0,left:0}:r?null:t.offset(),s={scroll:a?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},c=a?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,s,c,o)},t.prototype.getCalculatedOffset=function(e,t,n,a){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-a,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-a/2,left:t.left-n}:{top:t.top+t.height/2-a/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,a){var i={top:0,left:0};if(!this.$viewport)return i;var r=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-r-o.scroll,c=t.top+r-o.scroll+a;s<o.top?i.top=o.top-s:c>o.top+o.height&&(i.top=o.top+o.height-c)}else{var l=t.left-r,d=t.left+r+n;l<o.left?i.left=o.left-l:d>o.right&&(i.left=o.left+o.width-d)}return i},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var a=e(this),i=a.data("bs.tooltip"),r="object"==typeof n&&n;!i&&/destroy|hide/.test(n)||(i||a.data("bs.tooltip",i=new t(this,r)),"string"==typeof n&&i[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery)},function(e,t){+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.7",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var a=e(this),i=a.data("bs.popover"),r="object"==typeof n&&n;!i&&/destroy|hide/.test(n)||(i||a.data("bs.popover",i=new t(this,r)),"string"==typeof n&&i[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery)},function(e,t){+function(e){"use strict";function t(n,a){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var a=e(this),i=a.data("bs.scrollspy"),r="object"==typeof n&&n;i||a.data("bs.scrollspy",i=new t(this,r)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",a=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",a=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),r=/^#./.test(i)&&e(i);return r&&r.length&&r.is(":visible")&&[[r[n]().top+a,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,r=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=a)return o!=(e=r[r.length-1])&&this.activate(e);if(o&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)o!=r[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',a=e(n).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var a=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=a,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery)},function(e,t){+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.tab");i||a.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),a=t.data("target");if(a||(a=(a=t.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),t.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=e(a);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,a,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var o=a.find("> .active"),s=i&&e.support.transition&&(o.length&&o.hasClass("fade")||!!a.find("> .fade").length);o.length&&s?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),o.removeClass("in")};var a=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=a,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery)},function(e,t){+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.affix"),r="object"==typeof t&&t;i||a.data("bs.affix",i=new n(this,r)),"string"==typeof t&&i[t]()})}var n=function(t,a){this.options=e.extend({},n.DEFAULTS,a),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,a){var i=this.$target.scrollTop(),r=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=r.top)&&"bottom":!(i+o<=e-a)&&"bottom";var s=null==this.affixed,c=s?i:r.top;return null!=n&&i<=n?"top":null!=a&&c+(s?o:t)>=e-a&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),a=this.options.offset,i=a.top,r=a.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof a&&(r=i=a),"function"==typeof i&&(i=a.top(this.$element)),"function"==typeof r&&(r=a.bottom(this.$element));var s=this.getState(o,t,i,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var c="affix"+(s?"-"+s:""),l=e.Event(c+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(c.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:o-t-r})}};var a=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=a,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),a=n.data();a.offset=a.offset||{},null!=a.offsetBottom&&(a.offset.bottom=a.offsetBottom),null!=a.offsetTop&&(a.offset.top=a.offsetTop),t.call(n,a)})})}(jQuery)},function(e,t,n){n(202)},function(e,t,n){var a=n(203);"string"==typeof a&&(a=[[e.i,a,""]]);n(211)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(204)()).push([e.i,'.fa-border {\n  padding: .2em .25em .15em;\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n}\n.fa-pull-left {\n  float: left;\n}\n.fa-pull-right {\n  float: right;\n}\n.fa.fa-pull-left {\n  margin-right: .3em;\n}\n.fa.fa-pull-right {\n  margin-left: .3em;\n}\n/* Deprecated as of 4.4.0 */\n.pull-right {\n  float: right;\n}\n.pull-left {\n  float: left;\n}\n.fa.pull-left {\n  margin-right: .3em;\n}\n.fa.pull-right {\n  margin-left: .3em;\n}\n.fa {\n  display: inline-block;\n  font: normal normal normal 14px/1 FontAwesome;\n  font-size: inherit;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.fa-fw {\n  width: 1.28571429em;\n  text-align: center;\n}\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\n   readers do not read off random characters that represent icons */\n.fa-glass:before {\n  content: "\\F000";\n}\n.fa-music:before {\n  content: "\\F001";\n}\n.fa-search:before {\n  content: "\\F002";\n}\n.fa-envelope-o:before {\n  content: "\\F003";\n}\n.fa-heart:before {\n  content: "\\F004";\n}\n.fa-star:before {\n  content: "\\F005";\n}\n.fa-star-o:before {\n  content: "\\F006";\n}\n.fa-user:before {\n  content: "\\F007";\n}\n.fa-film:before {\n  content: "\\F008";\n}\n.fa-th-large:before {\n  content: "\\F009";\n}\n.fa-th:before {\n  content: "\\F00A";\n}\n.fa-th-list:before {\n  content: "\\F00B";\n}\n.fa-check:before {\n  content: "\\F00C";\n}\n.fa-remove:before,\n.fa-close:before,\n.fa-times:before {\n  content: "\\F00D";\n}\n.fa-search-plus:before {\n  content: "\\F00E";\n}\n.fa-search-minus:before {\n  content: "\\F010";\n}\n.fa-power-off:before {\n  content: "\\F011";\n}\n.fa-signal:before {\n  content: "\\F012";\n}\n.fa-gear:before,\n.fa-cog:before {\n  content: "\\F013";\n}\n.fa-trash-o:before {\n  content: "\\F014";\n}\n.fa-home:before {\n  content: "\\F015";\n}\n.fa-file-o:before {\n  content: "\\F016";\n}\n.fa-clock-o:before {\n  content: "\\F017";\n}\n.fa-road:before {\n  content: "\\F018";\n}\n.fa-download:before {\n  content: "\\F019";\n}\n.fa-arrow-circle-o-down:before {\n  content: "\\F01A";\n}\n.fa-arrow-circle-o-up:before {\n  content: "\\F01B";\n}\n.fa-inbox:before {\n  content: "\\F01C";\n}\n.fa-play-circle-o:before {\n  content: "\\F01D";\n}\n.fa-rotate-right:before,\n.fa-repeat:before {\n  content: "\\F01E";\n}\n.fa-refresh:before {\n  content: "\\F021";\n}\n.fa-list-alt:before {\n  content: "\\F022";\n}\n.fa-lock:before {\n  content: "\\F023";\n}\n.fa-flag:before {\n  content: "\\F024";\n}\n.fa-headphones:before {\n  content: "\\F025";\n}\n.fa-volume-off:before {\n  content: "\\F026";\n}\n.fa-volume-down:before {\n  content: "\\F027";\n}\n.fa-volume-up:before {\n  content: "\\F028";\n}\n.fa-qrcode:before {\n  content: "\\F029";\n}\n.fa-barcode:before {\n  content: "\\F02A";\n}\n.fa-tag:before {\n  content: "\\F02B";\n}\n.fa-tags:before {\n  content: "\\F02C";\n}\n.fa-book:before {\n  content: "\\F02D";\n}\n.fa-bookmark:before {\n  content: "\\F02E";\n}\n.fa-print:before {\n  content: "\\F02F";\n}\n.fa-camera:before {\n  content: "\\F030";\n}\n.fa-font:before {\n  content: "\\F031";\n}\n.fa-bold:before {\n  content: "\\F032";\n}\n.fa-italic:before {\n  content: "\\F033";\n}\n.fa-text-height:before {\n  content: "\\F034";\n}\n.fa-text-width:before {\n  content: "\\F035";\n}\n.fa-align-left:before {\n  content: "\\F036";\n}\n.fa-align-center:before {\n  content: "\\F037";\n}\n.fa-align-right:before {\n  content: "\\F038";\n}\n.fa-align-justify:before {\n  content: "\\F039";\n}\n.fa-list:before {\n  content: "\\F03A";\n}\n.fa-dedent:before,\n.fa-outdent:before {\n  content: "\\F03B";\n}\n.fa-indent:before {\n  content: "\\F03C";\n}\n.fa-video-camera:before {\n  content: "\\F03D";\n}\n.fa-photo:before,\n.fa-image:before,\n.fa-picture-o:before {\n  content: "\\F03E";\n}\n.fa-pencil:before {\n  content: "\\F040";\n}\n.fa-map-marker:before {\n  content: "\\F041";\n}\n.fa-adjust:before {\n  content: "\\F042";\n}\n.fa-tint:before {\n  content: "\\F043";\n}\n.fa-edit:before,\n.fa-pencil-square-o:before {\n  content: "\\F044";\n}\n.fa-share-square-o:before {\n  content: "\\F045";\n}\n.fa-check-square-o:before {\n  content: "\\F046";\n}\n.fa-arrows:before {\n  content: "\\F047";\n}\n.fa-step-backward:before {\n  content: "\\F048";\n}\n.fa-fast-backward:before {\n  content: "\\F049";\n}\n.fa-backward:before {\n  content: "\\F04A";\n}\n.fa-play:before {\n  content: "\\F04B";\n}\n.fa-pause:before {\n  content: "\\F04C";\n}\n.fa-stop:before {\n  content: "\\F04D";\n}\n.fa-forward:before {\n  content: "\\F04E";\n}\n.fa-fast-forward:before {\n  content: "\\F050";\n}\n.fa-step-forward:before {\n  content: "\\F051";\n}\n.fa-eject:before {\n  content: "\\F052";\n}\n.fa-chevron-left:before {\n  content: "\\F053";\n}\n.fa-chevron-right:before {\n  content: "\\F054";\n}\n.fa-plus-circle:before {\n  content: "\\F055";\n}\n.fa-minus-circle:before {\n  content: "\\F056";\n}\n.fa-times-circle:before {\n  content: "\\F057";\n}\n.fa-check-circle:before {\n  content: "\\F058";\n}\n.fa-question-circle:before {\n  content: "\\F059";\n}\n.fa-info-circle:before {\n  content: "\\F05A";\n}\n.fa-crosshairs:before {\n  content: "\\F05B";\n}\n.fa-times-circle-o:before {\n  content: "\\F05C";\n}\n.fa-check-circle-o:before {\n  content: "\\F05D";\n}\n.fa-ban:before {\n  content: "\\F05E";\n}\n.fa-arrow-left:before {\n  content: "\\F060";\n}\n.fa-arrow-right:before {\n  content: "\\F061";\n}\n.fa-arrow-up:before {\n  content: "\\F062";\n}\n.fa-arrow-down:before {\n  content: "\\F063";\n}\n.fa-mail-forward:before,\n.fa-share:before {\n  content: "\\F064";\n}\n.fa-expand:before {\n  content: "\\F065";\n}\n.fa-compress:before {\n  content: "\\F066";\n}\n.fa-plus:before {\n  content: "\\F067";\n}\n.fa-minus:before {\n  content: "\\F068";\n}\n.fa-asterisk:before {\n  content: "\\F069";\n}\n.fa-exclamation-circle:before {\n  content: "\\F06A";\n}\n.fa-gift:before {\n  content: "\\F06B";\n}\n.fa-leaf:before {\n  content: "\\F06C";\n}\n.fa-fire:before {\n  content: "\\F06D";\n}\n.fa-eye:before {\n  content: "\\F06E";\n}\n.fa-eye-slash:before {\n  content: "\\F070";\n}\n.fa-warning:before,\n.fa-exclamation-triangle:before {\n  content: "\\F071";\n}\n.fa-plane:before {\n  content: "\\F072";\n}\n.fa-calendar:before {\n  content: "\\F073";\n}\n.fa-random:before {\n  content: "\\F074";\n}\n.fa-comment:before {\n  content: "\\F075";\n}\n.fa-magnet:before {\n  content: "\\F076";\n}\n.fa-chevron-up:before {\n  content: "\\F077";\n}\n.fa-chevron-down:before {\n  content: "\\F078";\n}\n.fa-retweet:before {\n  content: "\\F079";\n}\n.fa-shopping-cart:before {\n  content: "\\F07A";\n}\n.fa-folder:before {\n  content: "\\F07B";\n}\n.fa-folder-open:before {\n  content: "\\F07C";\n}\n.fa-arrows-v:before {\n  content: "\\F07D";\n}\n.fa-arrows-h:before {\n  content: "\\F07E";\n}\n.fa-bar-chart-o:before,\n.fa-bar-chart:before {\n  content: "\\F080";\n}\n.fa-twitter-square:before {\n  content: "\\F081";\n}\n.fa-facebook-square:before {\n  content: "\\F082";\n}\n.fa-camera-retro:before {\n  content: "\\F083";\n}\n.fa-key:before {\n  content: "\\F084";\n}\n.fa-gears:before,\n.fa-cogs:before {\n  content: "\\F085";\n}\n.fa-comments:before {\n  content: "\\F086";\n}\n.fa-thumbs-o-up:before {\n  content: "\\F087";\n}\n.fa-thumbs-o-down:before {\n  content: "\\F088";\n}\n.fa-star-half:before {\n  content: "\\F089";\n}\n.fa-heart-o:before {\n  content: "\\F08A";\n}\n.fa-sign-out:before {\n  content: "\\F08B";\n}\n.fa-linkedin-square:before {\n  content: "\\F08C";\n}\n.fa-thumb-tack:before {\n  content: "\\F08D";\n}\n.fa-external-link:before {\n  content: "\\F08E";\n}\n.fa-sign-in:before {\n  content: "\\F090";\n}\n.fa-trophy:before {\n  content: "\\F091";\n}\n.fa-github-square:before {\n  content: "\\F092";\n}\n.fa-upload:before {\n  content: "\\F093";\n}\n.fa-lemon-o:before {\n  content: "\\F094";\n}\n.fa-phone:before {\n  content: "\\F095";\n}\n.fa-square-o:before {\n  content: "\\F096";\n}\n.fa-bookmark-o:before {\n  content: "\\F097";\n}\n.fa-phone-square:before {\n  content: "\\F098";\n}\n.fa-twitter:before {\n  content: "\\F099";\n}\n.fa-facebook-f:before,\n.fa-facebook:before {\n  content: "\\F09A";\n}\n.fa-github:before {\n  content: "\\F09B";\n}\n.fa-unlock:before {\n  content: "\\F09C";\n}\n.fa-credit-card:before {\n  content: "\\F09D";\n}\n.fa-feed:before,\n.fa-rss:before {\n  content: "\\F09E";\n}\n.fa-hdd-o:before {\n  content: "\\F0A0";\n}\n.fa-bullhorn:before {\n  content: "\\F0A1";\n}\n.fa-bell:before {\n  content: "\\F0F3";\n}\n.fa-certificate:before {\n  content: "\\F0A3";\n}\n.fa-hand-o-right:before {\n  content: "\\F0A4";\n}\n.fa-hand-o-left:before {\n  content: "\\F0A5";\n}\n.fa-hand-o-up:before {\n  content: "\\F0A6";\n}\n.fa-hand-o-down:before {\n  content: "\\F0A7";\n}\n.fa-arrow-circle-left:before {\n  content: "\\F0A8";\n}\n.fa-arrow-circle-right:before {\n  content: "\\F0A9";\n}\n.fa-arrow-circle-up:before {\n  content: "\\F0AA";\n}\n.fa-arrow-circle-down:before {\n  content: "\\F0AB";\n}\n.fa-globe:before {\n  content: "\\F0AC";\n}\n.fa-wrench:before {\n  content: "\\F0AD";\n}\n.fa-tasks:before {\n  content: "\\F0AE";\n}\n.fa-filter:before {\n  content: "\\F0B0";\n}\n.fa-briefcase:before {\n  content: "\\F0B1";\n}\n.fa-arrows-alt:before {\n  content: "\\F0B2";\n}\n.fa-group:before,\n.fa-users:before {\n  content: "\\F0C0";\n}\n.fa-chain:before,\n.fa-link:before {\n  content: "\\F0C1";\n}\n.fa-cloud:before {\n  content: "\\F0C2";\n}\n.fa-flask:before {\n  content: "\\F0C3";\n}\n.fa-cut:before,\n.fa-scissors:before {\n  content: "\\F0C4";\n}\n.fa-copy:before,\n.fa-files-o:before {\n  content: "\\F0C5";\n}\n.fa-paperclip:before {\n  content: "\\F0C6";\n}\n.fa-save:before,\n.fa-floppy-o:before {\n  content: "\\F0C7";\n}\n.fa-square:before {\n  content: "\\F0C8";\n}\n.fa-navicon:before,\n.fa-reorder:before,\n.fa-bars:before {\n  content: "\\F0C9";\n}\n.fa-list-ul:before {\n  content: "\\F0CA";\n}\n.fa-list-ol:before {\n  content: "\\F0CB";\n}\n.fa-strikethrough:before {\n  content: "\\F0CC";\n}\n.fa-underline:before {\n  content: "\\F0CD";\n}\n.fa-table:before {\n  content: "\\F0CE";\n}\n.fa-magic:before {\n  content: "\\F0D0";\n}\n.fa-truck:before {\n  content: "\\F0D1";\n}\n.fa-pinterest:before {\n  content: "\\F0D2";\n}\n.fa-pinterest-square:before {\n  content: "\\F0D3";\n}\n.fa-google-plus-square:before {\n  content: "\\F0D4";\n}\n.fa-google-plus:before {\n  content: "\\F0D5";\n}\n.fa-money:before {\n  content: "\\F0D6";\n}\n.fa-caret-down:before {\n  content: "\\F0D7";\n}\n.fa-caret-up:before {\n  content: "\\F0D8";\n}\n.fa-caret-left:before {\n  content: "\\F0D9";\n}\n.fa-caret-right:before {\n  content: "\\F0DA";\n}\n.fa-columns:before {\n  content: "\\F0DB";\n}\n.fa-unsorted:before,\n.fa-sort:before {\n  content: "\\F0DC";\n}\n.fa-sort-down:before,\n.fa-sort-desc:before {\n  content: "\\F0DD";\n}\n.fa-sort-up:before,\n.fa-sort-asc:before {\n  content: "\\F0DE";\n}\n.fa-envelope:before {\n  content: "\\F0E0";\n}\n.fa-linkedin:before {\n  content: "\\F0E1";\n}\n.fa-rotate-left:before,\n.fa-undo:before {\n  content: "\\F0E2";\n}\n.fa-legal:before,\n.fa-gavel:before {\n  content: "\\F0E3";\n}\n.fa-dashboard:before,\n.fa-tachometer:before {\n  content: "\\F0E4";\n}\n.fa-comment-o:before {\n  content: "\\F0E5";\n}\n.fa-comments-o:before {\n  content: "\\F0E6";\n}\n.fa-flash:before,\n.fa-bolt:before {\n  content: "\\F0E7";\n}\n.fa-sitemap:before {\n  content: "\\F0E8";\n}\n.fa-umbrella:before {\n  content: "\\F0E9";\n}\n.fa-paste:before,\n.fa-clipboard:before {\n  content: "\\F0EA";\n}\n.fa-lightbulb-o:before {\n  content: "\\F0EB";\n}\n.fa-exchange:before {\n  content: "\\F0EC";\n}\n.fa-cloud-download:before {\n  content: "\\F0ED";\n}\n.fa-cloud-upload:before {\n  content: "\\F0EE";\n}\n.fa-user-md:before {\n  content: "\\F0F0";\n}\n.fa-stethoscope:before {\n  content: "\\F0F1";\n}\n.fa-suitcase:before {\n  content: "\\F0F2";\n}\n.fa-bell-o:before {\n  content: "\\F0A2";\n}\n.fa-coffee:before {\n  content: "\\F0F4";\n}\n.fa-cutlery:before {\n  content: "\\F0F5";\n}\n.fa-file-text-o:before {\n  content: "\\F0F6";\n}\n.fa-building-o:before {\n  content: "\\F0F7";\n}\n.fa-hospital-o:before {\n  content: "\\F0F8";\n}\n.fa-ambulance:before {\n  content: "\\F0F9";\n}\n.fa-medkit:before {\n  content: "\\F0FA";\n}\n.fa-fighter-jet:before {\n  content: "\\F0FB";\n}\n.fa-beer:before {\n  content: "\\F0FC";\n}\n.fa-h-square:before {\n  content: "\\F0FD";\n}\n.fa-plus-square:before {\n  content: "\\F0FE";\n}\n.fa-angle-double-left:before {\n  content: "\\F100";\n}\n.fa-angle-double-right:before {\n  content: "\\F101";\n}\n.fa-angle-double-up:before {\n  content: "\\F102";\n}\n.fa-angle-double-down:before {\n  content: "\\F103";\n}\n.fa-angle-left:before {\n  content: "\\F104";\n}\n.fa-angle-right:before {\n  content: "\\F105";\n}\n.fa-angle-up:before {\n  content: "\\F106";\n}\n.fa-angle-down:before {\n  content: "\\F107";\n}\n.fa-desktop:before {\n  content: "\\F108";\n}\n.fa-laptop:before {\n  content: "\\F109";\n}\n.fa-tablet:before {\n  content: "\\F10A";\n}\n.fa-mobile-phone:before,\n.fa-mobile:before {\n  content: "\\F10B";\n}\n.fa-circle-o:before {\n  content: "\\F10C";\n}\n.fa-quote-left:before {\n  content: "\\F10D";\n}\n.fa-quote-right:before {\n  content: "\\F10E";\n}\n.fa-spinner:before {\n  content: "\\F110";\n}\n.fa-circle:before {\n  content: "\\F111";\n}\n.fa-mail-reply:before,\n.fa-reply:before {\n  content: "\\F112";\n}\n.fa-github-alt:before {\n  content: "\\F113";\n}\n.fa-folder-o:before {\n  content: "\\F114";\n}\n.fa-folder-open-o:before {\n  content: "\\F115";\n}\n.fa-smile-o:before {\n  content: "\\F118";\n}\n.fa-frown-o:before {\n  content: "\\F119";\n}\n.fa-meh-o:before {\n  content: "\\F11A";\n}\n.fa-gamepad:before {\n  content: "\\F11B";\n}\n.fa-keyboard-o:before {\n  content: "\\F11C";\n}\n.fa-flag-o:before {\n  content: "\\F11D";\n}\n.fa-flag-checkered:before {\n  content: "\\F11E";\n}\n.fa-terminal:before {\n  content: "\\F120";\n}\n.fa-code:before {\n  content: "\\F121";\n}\n.fa-mail-reply-all:before,\n.fa-reply-all:before {\n  content: "\\F122";\n}\n.fa-star-half-empty:before,\n.fa-star-half-full:before,\n.fa-star-half-o:before {\n  content: "\\F123";\n}\n.fa-location-arrow:before {\n  content: "\\F124";\n}\n.fa-crop:before {\n  content: "\\F125";\n}\n.fa-code-fork:before {\n  content: "\\F126";\n}\n.fa-unlink:before,\n.fa-chain-broken:before {\n  content: "\\F127";\n}\n.fa-question:before {\n  content: "\\F128";\n}\n.fa-info:before {\n  content: "\\F129";\n}\n.fa-exclamation:before {\n  content: "\\F12A";\n}\n.fa-superscript:before {\n  content: "\\F12B";\n}\n.fa-subscript:before {\n  content: "\\F12C";\n}\n.fa-eraser:before {\n  content: "\\F12D";\n}\n.fa-puzzle-piece:before {\n  content: "\\F12E";\n}\n.fa-microphone:before {\n  content: "\\F130";\n}\n.fa-microphone-slash:before {\n  content: "\\F131";\n}\n.fa-shield:before {\n  content: "\\F132";\n}\n.fa-calendar-o:before {\n  content: "\\F133";\n}\n.fa-fire-extinguisher:before {\n  content: "\\F134";\n}\n.fa-rocket:before {\n  content: "\\F135";\n}\n.fa-maxcdn:before {\n  content: "\\F136";\n}\n.fa-chevron-circle-left:before {\n  content: "\\F137";\n}\n.fa-chevron-circle-right:before {\n  content: "\\F138";\n}\n.fa-chevron-circle-up:before {\n  content: "\\F139";\n}\n.fa-chevron-circle-down:before {\n  content: "\\F13A";\n}\n.fa-html5:before {\n  content: "\\F13B";\n}\n.fa-css3:before {\n  content: "\\F13C";\n}\n.fa-anchor:before {\n  content: "\\F13D";\n}\n.fa-unlock-alt:before {\n  content: "\\F13E";\n}\n.fa-bullseye:before {\n  content: "\\F140";\n}\n.fa-ellipsis-h:before {\n  content: "\\F141";\n}\n.fa-ellipsis-v:before {\n  content: "\\F142";\n}\n.fa-rss-square:before {\n  content: "\\F143";\n}\n.fa-play-circle:before {\n  content: "\\F144";\n}\n.fa-ticket:before {\n  content: "\\F145";\n}\n.fa-minus-square:before {\n  content: "\\F146";\n}\n.fa-minus-square-o:before {\n  content: "\\F147";\n}\n.fa-level-up:before {\n  content: "\\F148";\n}\n.fa-level-down:before {\n  content: "\\F149";\n}\n.fa-check-square:before {\n  content: "\\F14A";\n}\n.fa-pencil-square:before {\n  content: "\\F14B";\n}\n.fa-external-link-square:before {\n  content: "\\F14C";\n}\n.fa-share-square:before {\n  content: "\\F14D";\n}\n.fa-compass:before {\n  content: "\\F14E";\n}\n.fa-toggle-down:before,\n.fa-caret-square-o-down:before {\n  content: "\\F150";\n}\n.fa-toggle-up:before,\n.fa-caret-square-o-up:before {\n  content: "\\F151";\n}\n.fa-toggle-right:before,\n.fa-caret-square-o-right:before {\n  content: "\\F152";\n}\n.fa-euro:before,\n.fa-eur:before {\n  content: "\\F153";\n}\n.fa-gbp:before {\n  content: "\\F154";\n}\n.fa-dollar:before,\n.fa-usd:before {\n  content: "\\F155";\n}\n.fa-rupee:before,\n.fa-inr:before {\n  content: "\\F156";\n}\n.fa-cny:before,\n.fa-rmb:before,\n.fa-yen:before,\n.fa-jpy:before {\n  content: "\\F157";\n}\n.fa-ruble:before,\n.fa-rouble:before,\n.fa-rub:before {\n  content: "\\F158";\n}\n.fa-won:before,\n.fa-krw:before {\n  content: "\\F159";\n}\n.fa-bitcoin:before,\n.fa-btc:before {\n  content: "\\F15A";\n}\n.fa-file:before {\n  content: "\\F15B";\n}\n.fa-file-text:before {\n  content: "\\F15C";\n}\n.fa-sort-alpha-asc:before {\n  content: "\\F15D";\n}\n.fa-sort-alpha-desc:before {\n  content: "\\F15E";\n}\n.fa-sort-amount-asc:before {\n  content: "\\F160";\n}\n.fa-sort-amount-desc:before {\n  content: "\\F161";\n}\n.fa-sort-numeric-asc:before {\n  content: "\\F162";\n}\n.fa-sort-numeric-desc:before {\n  content: "\\F163";\n}\n.fa-thumbs-up:before {\n  content: "\\F164";\n}\n.fa-thumbs-down:before {\n  content: "\\F165";\n}\n.fa-youtube-square:before {\n  content: "\\F166";\n}\n.fa-youtube:before {\n  content: "\\F167";\n}\n.fa-xing:before {\n  content: "\\F168";\n}\n.fa-xing-square:before {\n  content: "\\F169";\n}\n.fa-youtube-play:before {\n  content: "\\F16A";\n}\n.fa-dropbox:before {\n  content: "\\F16B";\n}\n.fa-stack-overflow:before {\n  content: "\\F16C";\n}\n.fa-instagram:before {\n  content: "\\F16D";\n}\n.fa-flickr:before {\n  content: "\\F16E";\n}\n.fa-adn:before {\n  content: "\\F170";\n}\n.fa-bitbucket:before {\n  content: "\\F171";\n}\n.fa-bitbucket-square:before {\n  content: "\\F172";\n}\n.fa-tumblr:before {\n  content: "\\F173";\n}\n.fa-tumblr-square:before {\n  content: "\\F174";\n}\n.fa-long-arrow-down:before {\n  content: "\\F175";\n}\n.fa-long-arrow-up:before {\n  content: "\\F176";\n}\n.fa-long-arrow-left:before {\n  content: "\\F177";\n}\n.fa-long-arrow-right:before {\n  content: "\\F178";\n}\n.fa-apple:before {\n  content: "\\F179";\n}\n.fa-windows:before {\n  content: "\\F17A";\n}\n.fa-android:before {\n  content: "\\F17B";\n}\n.fa-linux:before {\n  content: "\\F17C";\n}\n.fa-dribbble:before {\n  content: "\\F17D";\n}\n.fa-skype:before {\n  content: "\\F17E";\n}\n.fa-foursquare:before {\n  content: "\\F180";\n}\n.fa-trello:before {\n  content: "\\F181";\n}\n.fa-female:before {\n  content: "\\F182";\n}\n.fa-male:before {\n  content: "\\F183";\n}\n.fa-gittip:before,\n.fa-gratipay:before {\n  content: "\\F184";\n}\n.fa-sun-o:before {\n  content: "\\F185";\n}\n.fa-moon-o:before {\n  content: "\\F186";\n}\n.fa-archive:before {\n  content: "\\F187";\n}\n.fa-bug:before {\n  content: "\\F188";\n}\n.fa-vk:before {\n  content: "\\F189";\n}\n.fa-weibo:before {\n  content: "\\F18A";\n}\n.fa-renren:before {\n  content: "\\F18B";\n}\n.fa-pagelines:before {\n  content: "\\F18C";\n}\n.fa-stack-exchange:before {\n  content: "\\F18D";\n}\n.fa-arrow-circle-o-right:before {\n  content: "\\F18E";\n}\n.fa-arrow-circle-o-left:before {\n  content: "\\F190";\n}\n.fa-toggle-left:before,\n.fa-caret-square-o-left:before {\n  content: "\\F191";\n}\n.fa-dot-circle-o:before {\n  content: "\\F192";\n}\n.fa-wheelchair:before {\n  content: "\\F193";\n}\n.fa-vimeo-square:before {\n  content: "\\F194";\n}\n.fa-turkish-lira:before,\n.fa-try:before {\n  content: "\\F195";\n}\n.fa-plus-square-o:before {\n  content: "\\F196";\n}\n.fa-space-shuttle:before {\n  content: "\\F197";\n}\n.fa-slack:before {\n  content: "\\F198";\n}\n.fa-envelope-square:before {\n  content: "\\F199";\n}\n.fa-wordpress:before {\n  content: "\\F19A";\n}\n.fa-openid:before {\n  content: "\\F19B";\n}\n.fa-institution:before,\n.fa-bank:before,\n.fa-university:before {\n  content: "\\F19C";\n}\n.fa-mortar-board:before,\n.fa-graduation-cap:before {\n  content: "\\F19D";\n}\n.fa-yahoo:before {\n  content: "\\F19E";\n}\n.fa-google:before {\n  content: "\\F1A0";\n}\n.fa-reddit:before {\n  content: "\\F1A1";\n}\n.fa-reddit-square:before {\n  content: "\\F1A2";\n}\n.fa-stumbleupon-circle:before {\n  content: "\\F1A3";\n}\n.fa-stumbleupon:before {\n  content: "\\F1A4";\n}\n.fa-delicious:before {\n  content: "\\F1A5";\n}\n.fa-digg:before {\n  content: "\\F1A6";\n}\n.fa-pied-piper-pp:before {\n  content: "\\F1A7";\n}\n.fa-pied-piper-alt:before {\n  content: "\\F1A8";\n}\n.fa-drupal:before {\n  content: "\\F1A9";\n}\n.fa-joomla:before {\n  content: "\\F1AA";\n}\n.fa-language:before {\n  content: "\\F1AB";\n}\n.fa-fax:before {\n  content: "\\F1AC";\n}\n.fa-building:before {\n  content: "\\F1AD";\n}\n.fa-child:before {\n  content: "\\F1AE";\n}\n.fa-paw:before {\n  content: "\\F1B0";\n}\n.fa-spoon:before {\n  content: "\\F1B1";\n}\n.fa-cube:before {\n  content: "\\F1B2";\n}\n.fa-cubes:before {\n  content: "\\F1B3";\n}\n.fa-behance:before {\n  content: "\\F1B4";\n}\n.fa-behance-square:before {\n  content: "\\F1B5";\n}\n.fa-steam:before {\n  content: "\\F1B6";\n}\n.fa-steam-square:before {\n  content: "\\F1B7";\n}\n.fa-recycle:before {\n  content: "\\F1B8";\n}\n.fa-automobile:before,\n.fa-car:before {\n  content: "\\F1B9";\n}\n.fa-cab:before,\n.fa-taxi:before {\n  content: "\\F1BA";\n}\n.fa-tree:before {\n  content: "\\F1BB";\n}\n.fa-spotify:before {\n  content: "\\F1BC";\n}\n.fa-deviantart:before {\n  content: "\\F1BD";\n}\n.fa-soundcloud:before {\n  content: "\\F1BE";\n}\n.fa-database:before {\n  content: "\\F1C0";\n}\n.fa-file-pdf-o:before {\n  content: "\\F1C1";\n}\n.fa-file-word-o:before {\n  content: "\\F1C2";\n}\n.fa-file-excel-o:before {\n  content: "\\F1C3";\n}\n.fa-file-powerpoint-o:before {\n  content: "\\F1C4";\n}\n.fa-file-photo-o:before,\n.fa-file-picture-o:before,\n.fa-file-image-o:before {\n  content: "\\F1C5";\n}\n.fa-file-zip-o:before,\n.fa-file-archive-o:before {\n  content: "\\F1C6";\n}\n.fa-file-sound-o:before,\n.fa-file-audio-o:before {\n  content: "\\F1C7";\n}\n.fa-file-movie-o:before,\n.fa-file-video-o:before {\n  content: "\\F1C8";\n}\n.fa-file-code-o:before {\n  content: "\\F1C9";\n}\n.fa-vine:before {\n  content: "\\F1CA";\n}\n.fa-codepen:before {\n  content: "\\F1CB";\n}\n.fa-jsfiddle:before {\n  content: "\\F1CC";\n}\n.fa-life-bouy:before,\n.fa-life-buoy:before,\n.fa-life-saver:before,\n.fa-support:before,\n.fa-life-ring:before {\n  content: "\\F1CD";\n}\n.fa-circle-o-notch:before {\n  content: "\\F1CE";\n}\n.fa-ra:before,\n.fa-resistance:before,\n.fa-rebel:before {\n  content: "\\F1D0";\n}\n.fa-ge:before,\n.fa-empire:before {\n  content: "\\F1D1";\n}\n.fa-git-square:before {\n  content: "\\F1D2";\n}\n.fa-git:before {\n  content: "\\F1D3";\n}\n.fa-y-combinator-square:before,\n.fa-yc-square:before,\n.fa-hacker-news:before {\n  content: "\\F1D4";\n}\n.fa-tencent-weibo:before {\n  content: "\\F1D5";\n}\n.fa-qq:before {\n  content: "\\F1D6";\n}\n.fa-wechat:before,\n.fa-weixin:before {\n  content: "\\F1D7";\n}\n.fa-send:before,\n.fa-paper-plane:before {\n  content: "\\F1D8";\n}\n.fa-send-o:before,\n.fa-paper-plane-o:before {\n  content: "\\F1D9";\n}\n.fa-history:before {\n  content: "\\F1DA";\n}\n.fa-circle-thin:before {\n  content: "\\F1DB";\n}\n.fa-header:before {\n  content: "\\F1DC";\n}\n.fa-paragraph:before {\n  content: "\\F1DD";\n}\n.fa-sliders:before {\n  content: "\\F1DE";\n}\n.fa-share-alt:before {\n  content: "\\F1E0";\n}\n.fa-share-alt-square:before {\n  content: "\\F1E1";\n}\n.fa-bomb:before {\n  content: "\\F1E2";\n}\n.fa-soccer-ball-o:before,\n.fa-futbol-o:before {\n  content: "\\F1E3";\n}\n.fa-tty:before {\n  content: "\\F1E4";\n}\n.fa-binoculars:before {\n  content: "\\F1E5";\n}\n.fa-plug:before {\n  content: "\\F1E6";\n}\n.fa-slideshare:before {\n  content: "\\F1E7";\n}\n.fa-twitch:before {\n  content: "\\F1E8";\n}\n.fa-yelp:before {\n  content: "\\F1E9";\n}\n.fa-newspaper-o:before {\n  content: "\\F1EA";\n}\n.fa-wifi:before {\n  content: "\\F1EB";\n}\n.fa-calculator:before {\n  content: "\\F1EC";\n}\n.fa-paypal:before {\n  content: "\\F1ED";\n}\n.fa-google-wallet:before {\n  content: "\\F1EE";\n}\n.fa-cc-visa:before {\n  content: "\\F1F0";\n}\n.fa-cc-mastercard:before {\n  content: "\\F1F1";\n}\n.fa-cc-discover:before {\n  content: "\\F1F2";\n}\n.fa-cc-amex:before {\n  content: "\\F1F3";\n}\n.fa-cc-paypal:before {\n  content: "\\F1F4";\n}\n.fa-cc-stripe:before {\n  content: "\\F1F5";\n}\n.fa-bell-slash:before {\n  content: "\\F1F6";\n}\n.fa-bell-slash-o:before {\n  content: "\\F1F7";\n}\n.fa-trash:before {\n  content: "\\F1F8";\n}\n.fa-copyright:before {\n  content: "\\F1F9";\n}\n.fa-at:before {\n  content: "\\F1FA";\n}\n.fa-eyedropper:before {\n  content: "\\F1FB";\n}\n.fa-paint-brush:before {\n  content: "\\F1FC";\n}\n.fa-birthday-cake:before {\n  content: "\\F1FD";\n}\n.fa-area-chart:before {\n  content: "\\F1FE";\n}\n.fa-pie-chart:before {\n  content: "\\F200";\n}\n.fa-line-chart:before {\n  content: "\\F201";\n}\n.fa-lastfm:before {\n  content: "\\F202";\n}\n.fa-lastfm-square:before {\n  content: "\\F203";\n}\n.fa-toggle-off:before {\n  content: "\\F204";\n}\n.fa-toggle-on:before {\n  content: "\\F205";\n}\n.fa-bicycle:before {\n  content: "\\F206";\n}\n.fa-bus:before {\n  content: "\\F207";\n}\n.fa-ioxhost:before {\n  content: "\\F208";\n}\n.fa-angellist:before {\n  content: "\\F209";\n}\n.fa-cc:before {\n  content: "\\F20A";\n}\n.fa-shekel:before,\n.fa-sheqel:before,\n.fa-ils:before {\n  content: "\\F20B";\n}\n.fa-meanpath:before {\n  content: "\\F20C";\n}\n.fa-buysellads:before {\n  content: "\\F20D";\n}\n.fa-connectdevelop:before {\n  content: "\\F20E";\n}\n.fa-dashcube:before {\n  content: "\\F210";\n}\n.fa-forumbee:before {\n  content: "\\F211";\n}\n.fa-leanpub:before {\n  content: "\\F212";\n}\n.fa-sellsy:before {\n  content: "\\F213";\n}\n.fa-shirtsinbulk:before {\n  content: "\\F214";\n}\n.fa-simplybuilt:before {\n  content: "\\F215";\n}\n.fa-skyatlas:before {\n  content: "\\F216";\n}\n.fa-cart-plus:before {\n  content: "\\F217";\n}\n.fa-cart-arrow-down:before {\n  content: "\\F218";\n}\n.fa-diamond:before {\n  content: "\\F219";\n}\n.fa-ship:before {\n  content: "\\F21A";\n}\n.fa-user-secret:before {\n  content: "\\F21B";\n}\n.fa-motorcycle:before {\n  content: "\\F21C";\n}\n.fa-street-view:before {\n  content: "\\F21D";\n}\n.fa-heartbeat:before {\n  content: "\\F21E";\n}\n.fa-venus:before {\n  content: "\\F221";\n}\n.fa-mars:before {\n  content: "\\F222";\n}\n.fa-mercury:before {\n  content: "\\F223";\n}\n.fa-intersex:before,\n.fa-transgender:before {\n  content: "\\F224";\n}\n.fa-transgender-alt:before {\n  content: "\\F225";\n}\n.fa-venus-double:before {\n  content: "\\F226";\n}\n.fa-mars-double:before {\n  content: "\\F227";\n}\n.fa-venus-mars:before {\n  content: "\\F228";\n}\n.fa-mars-stroke:before {\n  content: "\\F229";\n}\n.fa-mars-stroke-v:before {\n  content: "\\F22A";\n}\n.fa-mars-stroke-h:before {\n  content: "\\F22B";\n}\n.fa-neuter:before {\n  content: "\\F22C";\n}\n.fa-genderless:before {\n  content: "\\F22D";\n}\n.fa-facebook-official:before {\n  content: "\\F230";\n}\n.fa-pinterest-p:before {\n  content: "\\F231";\n}\n.fa-whatsapp:before {\n  content: "\\F232";\n}\n.fa-server:before {\n  content: "\\F233";\n}\n.fa-user-plus:before {\n  content: "\\F234";\n}\n.fa-user-times:before {\n  content: "\\F235";\n}\n.fa-hotel:before,\n.fa-bed:before {\n  content: "\\F236";\n}\n.fa-viacoin:before {\n  content: "\\F237";\n}\n.fa-train:before {\n  content: "\\F238";\n}\n.fa-subway:before {\n  content: "\\F239";\n}\n.fa-medium:before {\n  content: "\\F23A";\n}\n.fa-yc:before,\n.fa-y-combinator:before {\n  content: "\\F23B";\n}\n.fa-optin-monster:before {\n  content: "\\F23C";\n}\n.fa-opencart:before {\n  content: "\\F23D";\n}\n.fa-expeditedssl:before {\n  content: "\\F23E";\n}\n.fa-battery-4:before,\n.fa-battery:before,\n.fa-battery-full:before {\n  content: "\\F240";\n}\n.fa-battery-3:before,\n.fa-battery-three-quarters:before {\n  content: "\\F241";\n}\n.fa-battery-2:before,\n.fa-battery-half:before {\n  content: "\\F242";\n}\n.fa-battery-1:before,\n.fa-battery-quarter:before {\n  content: "\\F243";\n}\n.fa-battery-0:before,\n.fa-battery-empty:before {\n  content: "\\F244";\n}\n.fa-mouse-pointer:before {\n  content: "\\F245";\n}\n.fa-i-cursor:before {\n  content: "\\F246";\n}\n.fa-object-group:before {\n  content: "\\F247";\n}\n.fa-object-ungroup:before {\n  content: "\\F248";\n}\n.fa-sticky-note:before {\n  content: "\\F249";\n}\n.fa-sticky-note-o:before {\n  content: "\\F24A";\n}\n.fa-cc-jcb:before {\n  content: "\\F24B";\n}\n.fa-cc-diners-club:before {\n  content: "\\F24C";\n}\n.fa-clone:before {\n  content: "\\F24D";\n}\n.fa-balance-scale:before {\n  content: "\\F24E";\n}\n.fa-hourglass-o:before {\n  content: "\\F250";\n}\n.fa-hourglass-1:before,\n.fa-hourglass-start:before {\n  content: "\\F251";\n}\n.fa-hourglass-2:before,\n.fa-hourglass-half:before {\n  content: "\\F252";\n}\n.fa-hourglass-3:before,\n.fa-hourglass-end:before {\n  content: "\\F253";\n}\n.fa-hourglass:before {\n  content: "\\F254";\n}\n.fa-hand-grab-o:before,\n.fa-hand-rock-o:before {\n  content: "\\F255";\n}\n.fa-hand-stop-o:before,\n.fa-hand-paper-o:before {\n  content: "\\F256";\n}\n.fa-hand-scissors-o:before {\n  content: "\\F257";\n}\n.fa-hand-lizard-o:before {\n  content: "\\F258";\n}\n.fa-hand-spock-o:before {\n  content: "\\F259";\n}\n.fa-hand-pointer-o:before {\n  content: "\\F25A";\n}\n.fa-hand-peace-o:before {\n  content: "\\F25B";\n}\n.fa-trademark:before {\n  content: "\\F25C";\n}\n.fa-registered:before {\n  content: "\\F25D";\n}\n.fa-creative-commons:before {\n  content: "\\F25E";\n}\n.fa-gg:before {\n  content: "\\F260";\n}\n.fa-gg-circle:before {\n  content: "\\F261";\n}\n.fa-tripadvisor:before {\n  content: "\\F262";\n}\n.fa-odnoklassniki:before {\n  content: "\\F263";\n}\n.fa-odnoklassniki-square:before {\n  content: "\\F264";\n}\n.fa-get-pocket:before {\n  content: "\\F265";\n}\n.fa-wikipedia-w:before {\n  content: "\\F266";\n}\n.fa-safari:before {\n  content: "\\F267";\n}\n.fa-chrome:before {\n  content: "\\F268";\n}\n.fa-firefox:before {\n  content: "\\F269";\n}\n.fa-opera:before {\n  content: "\\F26A";\n}\n.fa-internet-explorer:before {\n  content: "\\F26B";\n}\n.fa-tv:before,\n.fa-television:before {\n  content: "\\F26C";\n}\n.fa-contao:before {\n  content: "\\F26D";\n}\n.fa-500px:before {\n  content: "\\F26E";\n}\n.fa-amazon:before {\n  content: "\\F270";\n}\n.fa-calendar-plus-o:before {\n  content: "\\F271";\n}\n.fa-calendar-minus-o:before {\n  content: "\\F272";\n}\n.fa-calendar-times-o:before {\n  content: "\\F273";\n}\n.fa-calendar-check-o:before {\n  content: "\\F274";\n}\n.fa-industry:before {\n  content: "\\F275";\n}\n.fa-map-pin:before {\n  content: "\\F276";\n}\n.fa-map-signs:before {\n  content: "\\F277";\n}\n.fa-map-o:before {\n  content: "\\F278";\n}\n.fa-map:before {\n  content: "\\F279";\n}\n.fa-commenting:before {\n  content: "\\F27A";\n}\n.fa-commenting-o:before {\n  content: "\\F27B";\n}\n.fa-houzz:before {\n  content: "\\F27C";\n}\n.fa-vimeo:before {\n  content: "\\F27D";\n}\n.fa-black-tie:before {\n  content: "\\F27E";\n}\n.fa-fonticons:before {\n  content: "\\F280";\n}\n.fa-reddit-alien:before {\n  content: "\\F281";\n}\n.fa-edge:before {\n  content: "\\F282";\n}\n.fa-credit-card-alt:before {\n  content: "\\F283";\n}\n.fa-codiepie:before {\n  content: "\\F284";\n}\n.fa-modx:before {\n  content: "\\F285";\n}\n.fa-fort-awesome:before {\n  content: "\\F286";\n}\n.fa-usb:before {\n  content: "\\F287";\n}\n.fa-product-hunt:before {\n  content: "\\F288";\n}\n.fa-mixcloud:before {\n  content: "\\F289";\n}\n.fa-scribd:before {\n  content: "\\F28A";\n}\n.fa-pause-circle:before {\n  content: "\\F28B";\n}\n.fa-pause-circle-o:before {\n  content: "\\F28C";\n}\n.fa-stop-circle:before {\n  content: "\\F28D";\n}\n.fa-stop-circle-o:before {\n  content: "\\F28E";\n}\n.fa-shopping-bag:before {\n  content: "\\F290";\n}\n.fa-shopping-basket:before {\n  content: "\\F291";\n}\n.fa-hashtag:before {\n  content: "\\F292";\n}\n.fa-bluetooth:before {\n  content: "\\F293";\n}\n.fa-bluetooth-b:before {\n  content: "\\F294";\n}\n.fa-percent:before {\n  content: "\\F295";\n}\n.fa-gitlab:before {\n  content: "\\F296";\n}\n.fa-wpbeginner:before {\n  content: "\\F297";\n}\n.fa-wpforms:before {\n  content: "\\F298";\n}\n.fa-envira:before {\n  content: "\\F299";\n}\n.fa-universal-access:before {\n  content: "\\F29A";\n}\n.fa-wheelchair-alt:before {\n  content: "\\F29B";\n}\n.fa-question-circle-o:before {\n  content: "\\F29C";\n}\n.fa-blind:before {\n  content: "\\F29D";\n}\n.fa-audio-description:before {\n  content: "\\F29E";\n}\n.fa-volume-control-phone:before {\n  content: "\\F2A0";\n}\n.fa-braille:before {\n  content: "\\F2A1";\n}\n.fa-assistive-listening-systems:before {\n  content: "\\F2A2";\n}\n.fa-asl-interpreting:before,\n.fa-american-sign-language-interpreting:before {\n  content: "\\F2A3";\n}\n.fa-deafness:before,\n.fa-hard-of-hearing:before,\n.fa-deaf:before {\n  content: "\\F2A4";\n}\n.fa-glide:before {\n  content: "\\F2A5";\n}\n.fa-glide-g:before {\n  content: "\\F2A6";\n}\n.fa-signing:before,\n.fa-sign-language:before {\n  content: "\\F2A7";\n}\n.fa-low-vision:before {\n  content: "\\F2A8";\n}\n.fa-viadeo:before {\n  content: "\\F2A9";\n}\n.fa-viadeo-square:before {\n  content: "\\F2AA";\n}\n.fa-snapchat:before {\n  content: "\\F2AB";\n}\n.fa-snapchat-ghost:before {\n  content: "\\F2AC";\n}\n.fa-snapchat-square:before {\n  content: "\\F2AD";\n}\n.fa-pied-piper:before {\n  content: "\\F2AE";\n}\n.fa-first-order:before {\n  content: "\\F2B0";\n}\n.fa-yoast:before {\n  content: "\\F2B1";\n}\n.fa-themeisle:before {\n  content: "\\F2B2";\n}\n.fa-google-plus-circle:before,\n.fa-google-plus-official:before {\n  content: "\\F2B3";\n}\n.fa-fa:before,\n.fa-font-awesome:before {\n  content: "\\F2B4";\n}\n.fa-handshake-o:before {\n  content: "\\F2B5";\n}\n.fa-envelope-open:before {\n  content: "\\F2B6";\n}\n.fa-envelope-open-o:before {\n  content: "\\F2B7";\n}\n.fa-linode:before {\n  content: "\\F2B8";\n}\n.fa-address-book:before {\n  content: "\\F2B9";\n}\n.fa-address-book-o:before {\n  content: "\\F2BA";\n}\n.fa-vcard:before,\n.fa-address-card:before {\n  content: "\\F2BB";\n}\n.fa-vcard-o:before,\n.fa-address-card-o:before {\n  content: "\\F2BC";\n}\n.fa-user-circle:before {\n  content: "\\F2BD";\n}\n.fa-user-circle-o:before {\n  content: "\\F2BE";\n}\n.fa-user-o:before {\n  content: "\\F2C0";\n}\n.fa-id-badge:before {\n  content: "\\F2C1";\n}\n.fa-drivers-license:before,\n.fa-id-card:before {\n  content: "\\F2C2";\n}\n.fa-drivers-license-o:before,\n.fa-id-card-o:before {\n  content: "\\F2C3";\n}\n.fa-quora:before {\n  content: "\\F2C4";\n}\n.fa-free-code-camp:before {\n  content: "\\F2C5";\n}\n.fa-telegram:before {\n  content: "\\F2C6";\n}\n.fa-thermometer-4:before,\n.fa-thermometer:before,\n.fa-thermometer-full:before {\n  content: "\\F2C7";\n}\n.fa-thermometer-3:before,\n.fa-thermometer-three-quarters:before {\n  content: "\\F2C8";\n}\n.fa-thermometer-2:before,\n.fa-thermometer-half:before {\n  content: "\\F2C9";\n}\n.fa-thermometer-1:before,\n.fa-thermometer-quarter:before {\n  content: "\\F2CA";\n}\n.fa-thermometer-0:before,\n.fa-thermometer-empty:before {\n  content: "\\F2CB";\n}\n.fa-shower:before {\n  content: "\\F2CC";\n}\n.fa-bathtub:before,\n.fa-s15:before,\n.fa-bath:before {\n  content: "\\F2CD";\n}\n.fa-podcast:before {\n  content: "\\F2CE";\n}\n.fa-window-maximize:before {\n  content: "\\F2D0";\n}\n.fa-window-minimize:before {\n  content: "\\F2D1";\n}\n.fa-window-restore:before {\n  content: "\\F2D2";\n}\n.fa-times-rectangle:before,\n.fa-window-close:before {\n  content: "\\F2D3";\n}\n.fa-times-rectangle-o:before,\n.fa-window-close-o:before {\n  content: "\\F2D4";\n}\n.fa-bandcamp:before {\n  content: "\\F2D5";\n}\n.fa-grav:before {\n  content: "\\F2D6";\n}\n.fa-etsy:before {\n  content: "\\F2D7";\n}\n.fa-imdb:before {\n  content: "\\F2D8";\n}\n.fa-ravelry:before {\n  content: "\\F2D9";\n}\n.fa-eercast:before {\n  content: "\\F2DA";\n}\n.fa-microchip:before {\n  content: "\\F2DB";\n}\n.fa-snowflake-o:before {\n  content: "\\F2DC";\n}\n.fa-superpowers:before {\n  content: "\\F2DD";\n}\n.fa-wpexplorer:before {\n  content: "\\F2DE";\n}\n.fa-meetup:before {\n  content: "\\F2E0";\n}\n/* makes the font 33% larger relative to the icon container */\n.fa-lg {\n  font-size: 1.33333333em;\n  line-height: 0.75em;\n  vertical-align: -15%;\n}\n.fa-2x {\n  font-size: 2em;\n}\n.fa-3x {\n  font-size: 3em;\n}\n.fa-4x {\n  font-size: 4em;\n}\n.fa-5x {\n  font-size: 5em;\n}\n.fa-ul {\n  padding-left: 0;\n  margin-left: 2.14285714em;\n  list-style-type: none;\n}\n.fa-ul > li {\n  position: relative;\n}\n.fa-li {\n  position: absolute;\n  left: -2.14285714em;\n  width: 2.14285714em;\n  top: 0.14285714em;\n  text-align: center;\n}\n.fa-li.fa-lg {\n  left: -1.85714286em;\n}\n/* FONT PATH\n * -------------------------- */\n@font-face {\n  font-family: \'FontAwesome\';\n  src: url('+n(205)+");\n  src: url("+n(206)+"?#iefix&v=4.7.0) format('embedded-opentype'), url("+n(207)+") format('woff2'), url("+n(208)+") format('woff'), url("+n(209)+") format('truetype'), url("+n(210)+'#fontawesomeregular) format(\'svg\');\n  font-weight: normal;\n  font-style: normal;\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n  -ms-transform: scale(-1, 1);\n  transform: scale(-1, 1);\n}\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n  -ms-transform: scale(1, -1);\n  transform: scale(1, -1);\n}\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  filter: none;\n}\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n  animation: fa-spin 2s infinite linear;\n}\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n  animation: fa-spin 1s infinite steps(8);\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n.fa-stack {\n  position: relative;\n  display: inline-block;\n  width: 2em;\n  height: 2em;\n  line-height: 2em;\n  vertical-align: middle;\n}\n.fa-stack-1x,\n.fa-stack-2x {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.fa-stack-1x {\n  line-height: inherit;\n}\n.fa-stack-2x {\n  font-size: 2em;\n}\n.fa-inverse {\n  color: #fff;\n}\n',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(a[r]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&a[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(e,t,n){e.exports=n.p+"674f50d287a8c48dc19ba404d20fe713.eot"},function(e,t,n){e.exports=n.p+"674f50d287a8c48dc19ba404d20fe713.eot"},function(e,t,n){e.exports=n.p+"af7ae505a9eed503f8b8e6982036873e.woff2"},function(e,t,n){e.exports=n.p+"fee66e712a8a08eef5805a46892932ad.woff"},function(e,t,n){e.exports=n.p+"b06871f281fee6b241d60582ae9369b9.ttf"},function(e,t,n){e.exports=n.p+"912ec66d7572ff821749319396470bde.svg"},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var a=e[n],i=l[a.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](a.parts[r]);for(;r<a.parts.length;r++)i.parts.push(s(a.parts[r],t))}else{var o=[];for(r=0;r<a.parts.length;r++)o.push(s(a.parts[r],t));l[a.id]={id:a.id,refs:1,parts:o}}}}function a(e){for(var t=[],n={},a=0;a<e.length;a++){var i=e[a],r=i[0],o={css:i[1],media:i[2],sourceMap:i[3]};n[r]?n[r].parts.push(o):t.push(n[r]={id:r,parts:[o]})}return t}function i(e,t){var n=p(),a=m[m.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function r(e){e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function o(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e,t){var n,a,s;if(t.singleton){var l=h++;n=f||(f=o(t)),a=c.bind(null,n,l,!1),s=c.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}(t),a=function(e,t){var n=t.css,a=t.sourceMap;a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var i=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(i),r&&URL.revokeObjectURL(r)}.bind(null,n),s=function(){r(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(t),a=function(e,t){var n=t.css,a=t.media;a&&e.setAttribute("media",a);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),s=function(){r(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else s()}}function c(e,t,n,a){var i=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var r=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}var l={},d=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},u=d(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),p=d(function(){return document.head||document.getElementsByTagName("head")[0]}),f=null,h=0,m=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=u()),void 0===t.insertAt&&(t.insertAt="bottom");var i=a(e);return n(i,t),function(e){for(var r=[],o=0;o<i.length;o++){var s=i[o];(c=l[s.id]).refs--,r.push(c)}if(e){n(a(e),t)}for(o=0;o<r.length;o++){var c;if(0===(c=r[o]).refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete l[c.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){function n(e,t){var n,a=document.createElement(e||"div");for(n in t)a[n]=t[n];return a}function a(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function i(e,t,n,a){var i=["opacity",t,~~(100*e),n,a].join("-"),r=.01+n/a*100,o=Math.max(1-(1-e)/t*(100-r),e),s=l.substring(0,l.indexOf("Animation")).toLowerCase(),c=s&&"-"+s+"-"||"";return u[i]||(p.insertRule("@"+c+"keyframes "+i+"{0%{opacity:"+o+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}100%{opacity:"+o+"}}",0),u[i]=1),i}function r(e,t){var n,a,i=e.style;if(void 0!==i[t])return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),a=0;a<d.length;a++)if(n=d[a]+t,void 0!==i[n])return n}function o(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)void 0===e[a]&&(e[a]=n[a])}return e}function c(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var l,d=["webkit","Moz","ms","O"],u={},p=function(){var e=n("style");return a(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},h=function e(t){if(!this.spin)return new e(t);this.opts=s(t||{},e.defaults,f)};h.defaults={},s(h.prototype,{spin:function(e){this.stop();var t,a,i=this,r=i.opts,s=i.el=o(n(0,{className:r.className}),{position:"relative",zIndex:r.zIndex}),d=r.radius+r.length+r.width;if(e&&(e.insertBefore(s,e.firstChild||null),a=c(e),t=c(s),o(s,{left:("auto"==r.left?a.x-t.x+(e.offsetWidth>>1):r.left+d)+"px",top:("auto"==r.top?a.y-t.y+(e.offsetHeight>>1):r.top+d)+"px"})),s.setAttribute("aria-role","progressbar"),i.lines(s,i.opts),!l){var u=0,p=r.fps,f=p/r.speed,h=(1-r.opacity)/(f*r.trail/100),m=f/r.lines;!function e(){u++;for(var t=r.lines;t;t--){var n=Math.max(1-(u+t*m)%f*h,r.opacity);i.opacity(s,r.lines-t,n,r)}i.timeout=i.el&&setTimeout(e,~~(1e3/p))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(e,t){function r(e,a){return o(n(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:a,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*c+t.rotate)+"deg) translate("+t.radius+"px,0)",borderRadius:(t.width>>1)+"px"})}for(var s,c=0;c<t.lines;c++)s=o(n(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:l&&i(t.opacity,t.trail,c,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&a(s,o(r("#000","0 0 4px #000"),{top:"2px"})),a(e,a(s,r(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),function(){function e(e,t){return n("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=o(n("group"),{behavior:"url(#default#VML)"});!r(t,"transform")&&t.adj?(p.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(t,n){function i(){return o(e("group",{coordsize:l+" "+l,coordorigin:-c+" "+-c}),{width:l,height:l})}function r(t,r,s){a(u,a(o(i(),{rotation:360/n.lines*t+"deg",left:~~r}),a(o(e("roundrect",{arcsize:1}),{width:c,height:n.width,left:n.radius,top:-n.width>>1,filter:s}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var s,c=n.length+n.width,l=2*c,d=2*-(n.width+n.length)+"px",u=o(i(),{position:"absolute",top:d,left:d});if(n.shadow)for(s=1;s<=n.lines;s++)r(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=n.lines;s++)r(s);return a(t,u)},h.prototype.opacity=function(e,t,n,a){var i=e.firstChild;a=a.shadow&&a.lines||0,i&&t+a<i.childNodes.length&&(i=(i=(i=i.childNodes[t+a])&&i.firstChild)&&i.firstChild)&&(i.opacity=n)}):l=r(t,"animation")}(),e.exports=h},function(e,t,n){"use strict";var a=n(214),i=(n.n(a),n(215)),r=(n.n(i),n(218)),o=(n.n(r),n(0)),s=n.n(o),c=n(18),l=n.n(c);s.a.bindingHandlers.autocomplete={init:function(e,t,n){var a=t(),i=s.a.utils.unwrapObservable(a.source),r=s.a.utils.unwrapObservable(a.onselect),o=s.a.utils.unwrapObservable(a.delay||150);l()(e).autocomplete({delay:o,source:i,select:function(e,t){r&&r(t.item.label,t.item.value)}})}}},function(e,t,n){var a,i;void 0===(i="function"==typeof(a=["jquery","./data","./disable-selection","./focusable","./form","./ie","./keycode","./labels","./jquery-1-7","./plugin","./safe-active-element","./safe-blur","./scroll-parent","./tabbable","./unique-id","./version"])?a.call(t,n,t,e):a)||(e.exports=i)},function(e,t,n){var a,i,r;!function(o){i=[n(18),n(216),n(98),n(99),n(100),n(32),n(101)],void 0===(r="function"==typeof(a=o)?a.apply(t,i):a)||(e.exports=r)}(function(e){return e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,a,i=this.element[0].nodeName.toLowerCase(),r="textarea"===i,o="input"===i;this.isMultiLine=r||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[r||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return t=!0,a=!0,void(n=!0);t=!1,a=!1,n=!1;var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",i);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case r.UP:t=!0,this._keyEvent("previous",i);break;case r.DOWN:t=!0,this._keyEvent("next",i);break;case r.ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case r.TAB:this.menu.active&&this.menu.select(i);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(a){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||a.preventDefault());if(!n){var i=e.ui.keyCode;switch(a.keyCode){case i.PAGE_UP:this._move("previousPage",a);break;case i.PAGE_DOWN:this._move("nextPage",a);break;case i.UP:this._keyEvent("previous",a);break;case i.DOWN:this._keyEvent("next",a)}}},input:function(e){if(a)return a=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,n){var a,i;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});i=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),(a=n.item.attr("aria-label")||i.value)&&e.trim(a).length&&(this.liveRegion.children().hide(),e("<div>").text(a).appendTo(this.liveRegion))},menuselect:function(t,n){var a=n.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=a})),!1!==this._trigger("select",t,{item:a})&&this._value(a.value),this.term=this._value(),this.close(t),this.selectedItem=a}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var n=this.menu.element[0];return t.target===this.element[0]||t.target===n||e.contains(n,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,a=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,a){a(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,i){a.xhr&&a.xhr.abort(),a.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),a=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||a)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var a=this;e.each(n,function(e,n){a._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<div>").text(n.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var a=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return a.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete})},function(e,t,n){var a,i,r;!function(o){i=[n(18),n(98),n(99),n(100),n(217),n(32),n(101)],void 0===(r="function"==typeof(a=o)?a.apply(t,i):a)||(e.exports=r)}(function(e){return e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target),a=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&a.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.target).closest(".ui-menu-item"),a=e(t.currentTarget);n[0]===a[0]&&(this._removeClass(a.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,a))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var n,a,i,r,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,a=this.previousFilter||"",r=!1,i=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),i===a?r=!0:i=a+i,n=this._filterMenuItems(i),(n=r&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(i=String.fromCharCode(t.keyCode),n=this._filterMenuItems(i)),n.length?(this.focus(t,n),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n,a,i,r=this,o=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev(),a=e("<span>").data("ui-menu-submenu-caret",!0);r._addClass(a,"ui-menu-icon","ui-icon "+o),n.attr("aria-haspopup","true").prepend(a),t.attr("aria-labelledby",n.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(t=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=e(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")}),i=(a=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(a,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,a,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),a=this.active.children(".ui-menu-item-wrapper"),this._addClass(a,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",a.attr("id")),i=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,a,i,r,o,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,a=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-a,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=t.outerHeight(),i<0?this.activeMenu.scrollTop(r+i):i+s>o&&this.activeMenu.scrollTop(r+i-o+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var a=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));a.length||(a=this.element),this._close(a),this.blur(t),this._removeClass(a.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=a},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var a;this.active&&(a="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),a&&a.length&&this.active||(a=this.activeMenu.find(this.options.items)[t]()),this.focus(n,a)},nextPage:function(t){var n,a,i;this.active?this.isLastItem()||(this._hasScroll()?(a=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-a-i<0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var n,a,i;this.active?this.isFirstItem()||(this._hasScroll()?(a=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-a+i>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),a=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return a.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}})})},function(e,t,n){var a,i,r;!function(o){i=[n(18),n(32)],void 0===(r="function"==typeof(a=o)?a.apply(t,i):a)||(e.exports=r)}(function(e){return e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}})})},function(e,t,n){var a=n(219);"string"==typeof a&&(a=[[e.i,a,""]]);var i={};i.transform=void 0;n(42)(a,i);a.locals&&(e.exports=a.locals)},function(e,t,n){(t=e.exports=n(9)(void 0)).i(n(220),""),t.i(n(240),""),t.push([e.i,"/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n */\n",""])},function(e,t,n){(t=e.exports=n(9)(void 0)).i(n(221),""),t.i(n(222),""),t.i(n(223),""),t.i(n(224),""),t.i(n(225),""),t.i(n(226),""),t.i(n(227),""),t.i(n(228),""),t.i(n(229),""),t.i(n(230),""),t.i(n(231),""),t.i(n(232),""),t.i(n(233),""),t.i(n(234),""),t.i(n(235),""),t.i(n(236),""),t.i(n(237),""),t.i(n(238),""),t.i(n(239),""),t.push([e.i,"/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n */\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,'/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n */\n\n/* Layout helpers\n----------------------------------*/\n.ui-helper-hidden {\n\tdisplay: none;\n}\n.ui-helper-hidden-accessible {\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n}\n.ui-helper-reset {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tline-height: 1.3;\n\ttext-decoration: none;\n\tfont-size: 100%;\n\tlist-style: none;\n}\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n\tcontent: "";\n\tdisplay: table;\n\tborder-collapse: collapse;\n}\n.ui-helper-clearfix:after {\n\tclear: both;\n}\n.ui-helper-zfix {\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n\topacity: 0;\n\tfilter:Alpha(Opacity=0); /* support: IE8 */\n}\n\n.ui-front {\n\tz-index: 100;\n}\n\n\n/* Interaction Cues\n----------------------------------*/\n.ui-state-disabled {\n\tcursor: default !important;\n\tpointer-events: none;\n}\n\n\n/* Icons\n----------------------------------*/\n.ui-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tmargin-top: -.25em;\n\tposition: relative;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n}\n\n.ui-widget-icon-block {\n\tleft: 50%;\n\tmargin-left: -8px;\n\tdisplay: block;\n}\n\n/* Misc visuals\n----------------------------------*/\n\n/* Overlays */\n.ui-widget-overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n',""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Accordion 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/accordion/#theming\n */\n.ui-accordion .ui-accordion-header {\n\tdisplay: block;\n\tcursor: pointer;\n\tposition: relative;\n\tmargin: 2px 0 0 0;\n\tpadding: .5em .5em .5em .7em;\n\tfont-size: 100%;\n}\n.ui-accordion .ui-accordion-content {\n\tpadding: 1em 2.2em;\n\tborder-top: 0;\n\toverflow: auto;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Autocomplete 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/autocomplete/#theming\n */\n.ui-autocomplete {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcursor: default;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Button 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/button/#theming\n */\n.ui-button {\n\tpadding: .4em 1em;\n\tdisplay: inline-block;\n\tposition: relative;\n\tline-height: normal;\n\tmargin-right: .1em;\n\tcursor: pointer;\n\tvertical-align: middle;\n\ttext-align: center;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\n\t/* Support: IE <= 11 */\n\toverflow: visible;\n}\n\n.ui-button,\n.ui-button:link,\n.ui-button:visited,\n.ui-button:hover,\n.ui-button:active {\n\ttext-decoration: none;\n}\n\n/* to make room for the icon, a width needs to be set here */\n.ui-button-icon-only {\n\twidth: 2em;\n\tbox-sizing: border-box;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n}\n\n/* no icon support for input elements */\ninput.ui-button.ui-button-icon-only {\n\ttext-indent: 0;\n}\n\n/* button icon element(s) */\n.ui-button-icon-only .ui-icon {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\tmargin-top: -8px;\n\tmargin-left: -8px;\n}\n\n.ui-button.ui-icon-notext .ui-icon {\n\tpadding: 0;\n\twidth: 2.1em;\n\theight: 2.1em;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n\n}\n\ninput.ui-button.ui-icon-notext .ui-icon {\n\twidth: auto;\n\theight: auto;\n\ttext-indent: 0;\n\twhite-space: normal;\n\tpadding: .4em 1em;\n}\n\n/* workarounds */\n/* Support: Firefox 5 - 40 */\ninput.ui-button::-moz-focus-inner,\nbutton.ui-button::-moz-focus-inner {\n\tborder: 0;\n\tpadding: 0;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Checkboxradio 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/checkboxradio/#theming\n */\n\n.ui-checkboxradio-label .ui-icon-background {\n\tbox-shadow: inset 1px 1px 1px #ccc;\n\tborder-radius: .12em;\n\tborder: none;\n}\n.ui-checkboxradio-radio-label .ui-icon-background {\n\twidth: 16px;\n\theight: 16px;\n\tborder-radius: 1em;\n\toverflow: visible;\n\tborder: none;\n}\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked .ui-icon,\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked:hover .ui-icon {\n\tbackground-image: none;\n\twidth: 8px;\n\theight: 8px;\n\tborder-width: 4px;\n\tborder-style: solid;\n}\n.ui-checkboxradio-disabled {\n\tpointer-events: none;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Controlgroup 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/controlgroup/#theming\n */\n\n.ui-controlgroup {\n\tvertical-align: middle;\n\tdisplay: inline-block;\n}\n.ui-controlgroup > .ui-controlgroup-item {\n\tfloat: left;\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n.ui-controlgroup > .ui-controlgroup-item:focus,\n.ui-controlgroup > .ui-controlgroup-item.ui-visual-focus {\n\tz-index: 9999;\n}\n.ui-controlgroup-vertical > .ui-controlgroup-item {\n\tdisplay: block;\n\tfloat: none;\n\twidth: 100%;\n\tmargin-top: 0;\n\tmargin-bottom: 0;\n\ttext-align: left;\n}\n.ui-controlgroup-vertical .ui-controlgroup-item {\n\tbox-sizing: border-box;\n}\n.ui-controlgroup .ui-controlgroup-label {\n\tpadding: .4em 1em;\n}\n.ui-controlgroup .ui-controlgroup-label span {\n\tfont-size: 80%;\n}\n.ui-controlgroup-horizontal .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-left: none;\n}\n.ui-controlgroup-vertical .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-top: none;\n}\n.ui-controlgroup-horizontal .ui-controlgroup-label.ui-widget-content {\n\tborder-right: none;\n}\n.ui-controlgroup-vertical .ui-controlgroup-label.ui-widget-content {\n\tborder-bottom: none;\n}\n\n/* Spinner specific style fixes */\n.ui-controlgroup-vertical .ui-spinner-input {\n\n\t/* Support: IE8 only, Android < 4.4 only */\n\twidth: 75%;\n\twidth: calc( 100% - 2.4em );\n}\n.ui-controlgroup-vertical .ui-spinner .ui-spinner-up {\n\tborder-top-style: solid;\n}\n\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Datepicker 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/datepicker/#theming\n */\n.ui-datepicker {\n\twidth: 17em;\n\tpadding: .2em .2em 0;\n\tdisplay: none;\n}\n.ui-datepicker .ui-datepicker-header {\n\tposition: relative;\n\tpadding: .2em 0;\n}\n.ui-datepicker .ui-datepicker-prev,\n.ui-datepicker .ui-datepicker-next {\n\tposition: absolute;\n\ttop: 2px;\n\twidth: 1.8em;\n\theight: 1.8em;\n}\n.ui-datepicker .ui-datepicker-prev-hover,\n.ui-datepicker .ui-datepicker-next-hover {\n\ttop: 1px;\n}\n.ui-datepicker .ui-datepicker-prev {\n\tleft: 2px;\n}\n.ui-datepicker .ui-datepicker-next {\n\tright: 2px;\n}\n.ui-datepicker .ui-datepicker-prev-hover {\n\tleft: 1px;\n}\n.ui-datepicker .ui-datepicker-next-hover {\n\tright: 1px;\n}\n.ui-datepicker .ui-datepicker-prev span,\n.ui-datepicker .ui-datepicker-next span {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 50%;\n\tmargin-left: -8px;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n.ui-datepicker .ui-datepicker-title {\n\tmargin: 0 2.3em;\n\tline-height: 1.8em;\n\ttext-align: center;\n}\n.ui-datepicker .ui-datepicker-title select {\n\tfont-size: 1em;\n\tmargin: 1px 0;\n}\n.ui-datepicker select.ui-datepicker-month,\n.ui-datepicker select.ui-datepicker-year {\n\twidth: 45%;\n}\n.ui-datepicker table {\n\twidth: 100%;\n\tfont-size: .9em;\n\tborder-collapse: collapse;\n\tmargin: 0 0 .4em;\n}\n.ui-datepicker th {\n\tpadding: .7em .3em;\n\ttext-align: center;\n\tfont-weight: bold;\n\tborder: 0;\n}\n.ui-datepicker td {\n\tborder: 0;\n\tpadding: 1px;\n}\n.ui-datepicker td span,\n.ui-datepicker td a {\n\tdisplay: block;\n\tpadding: .2em;\n\ttext-align: right;\n\ttext-decoration: none;\n}\n.ui-datepicker .ui-datepicker-buttonpane {\n\tbackground-image: none;\n\tmargin: .7em 0 0 0;\n\tpadding: 0 .2em;\n\tborder-left: 0;\n\tborder-right: 0;\n\tborder-bottom: 0;\n}\n.ui-datepicker .ui-datepicker-buttonpane button {\n\tfloat: right;\n\tmargin: .5em .2em .4em;\n\tcursor: pointer;\n\tpadding: .2em .6em .3em .6em;\n\twidth: auto;\n\toverflow: visible;\n}\n.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current {\n\tfloat: left;\n}\n\n/* with multiple calendars */\n.ui-datepicker.ui-datepicker-multi {\n\twidth: auto;\n}\n.ui-datepicker-multi .ui-datepicker-group {\n\tfloat: left;\n}\n.ui-datepicker-multi .ui-datepicker-group table {\n\twidth: 95%;\n\tmargin: 0 auto .4em;\n}\n.ui-datepicker-multi-2 .ui-datepicker-group {\n\twidth: 50%;\n}\n.ui-datepicker-multi-3 .ui-datepicker-group {\n\twidth: 33.3%;\n}\n.ui-datepicker-multi-4 .ui-datepicker-group {\n\twidth: 25%;\n}\n.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-left-width: 0;\n}\n.ui-datepicker-multi .ui-datepicker-buttonpane {\n\tclear: left;\n}\n.ui-datepicker-row-break {\n\tclear: both;\n\twidth: 100%;\n\tfont-size: 0;\n}\n\n/* RTL support */\n.ui-datepicker-rtl {\n\tdirection: rtl;\n}\n.ui-datepicker-rtl .ui-datepicker-prev {\n\tright: 2px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next {\n\tleft: 2px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-prev:hover {\n\tright: 1px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next:hover {\n\tleft: 1px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane {\n\tclear: right;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button {\n\tfloat: left;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,\n.ui-datepicker-rtl .ui-datepicker-group {\n\tfloat: right;\n}\n.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-right-width: 0;\n\tborder-left-width: 1px;\n}\n\n/* Icons */\n.ui-datepicker .ui-icon {\n\tdisplay: block;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n\tleft: .5em;\n\ttop: .3em;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Dialog 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/dialog/#theming\n */\n.ui-dialog {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tpadding: .2em;\n\toutline: 0;\n}\n.ui-dialog .ui-dialog-titlebar {\n\tpadding: .4em 1em;\n\tposition: relative;\n}\n.ui-dialog .ui-dialog-title {\n\tfloat: left;\n\tmargin: .1em 0;\n\twhite-space: nowrap;\n\twidth: 90%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n.ui-dialog .ui-dialog-titlebar-close {\n\tposition: absolute;\n\tright: .3em;\n\ttop: 50%;\n\twidth: 20px;\n\tmargin: -10px 0 0 0;\n\tpadding: 1px;\n\theight: 20px;\n}\n.ui-dialog .ui-dialog-content {\n\tposition: relative;\n\tborder: 0;\n\tpadding: .5em 1em;\n\tbackground: none;\n\toverflow: auto;\n}\n.ui-dialog .ui-dialog-buttonpane {\n\ttext-align: left;\n\tborder-width: 1px 0 0 0;\n\tbackground-image: none;\n\tmargin-top: .5em;\n\tpadding: .3em 1em .5em .4em;\n}\n.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {\n\tfloat: right;\n}\n.ui-dialog .ui-dialog-buttonpane button {\n\tmargin: .5em .4em .5em 0;\n\tcursor: pointer;\n}\n.ui-dialog .ui-resizable-n {\n\theight: 2px;\n\ttop: 0;\n}\n.ui-dialog .ui-resizable-e {\n\twidth: 2px;\n\tright: 0;\n}\n.ui-dialog .ui-resizable-s {\n\theight: 2px;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-w {\n\twidth: 2px;\n\tleft: 0;\n}\n.ui-dialog .ui-resizable-se,\n.ui-dialog .ui-resizable-sw,\n.ui-dialog .ui-resizable-ne,\n.ui-dialog .ui-resizable-nw {\n\twidth: 7px;\n\theight: 7px;\n}\n.ui-dialog .ui-resizable-se {\n\tright: 0;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-sw {\n\tleft: 0;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-ne {\n\tright: 0;\n\ttop: 0;\n}\n.ui-dialog .ui-resizable-nw {\n\tleft: 0;\n\ttop: 0;\n}\n.ui-draggable .ui-dialog-titlebar {\n\tcursor: move;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Draggable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n.ui-draggable-handle {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,'/*!\n * jQuery UI Menu 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/menu/#theming\n */\n.ui-menu {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n\tdisplay: block;\n\toutline: 0;\n}\n.ui-menu .ui-menu {\n\tposition: absolute;\n}\n.ui-menu .ui-menu-item {\n\tmargin: 0;\n\tcursor: pointer;\n\t/* support: IE10, see #8844 */\n\tlist-style-image: url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");\n}\n.ui-menu .ui-menu-item-wrapper {\n\tposition: relative;\n\tpadding: 3px 1em 3px .4em;\n}\n.ui-menu .ui-menu-divider {\n\tmargin: 5px 0;\n\theight: 0;\n\tfont-size: 0;\n\tline-height: 0;\n\tborder-width: 1px 0 0 0;\n}\n.ui-menu .ui-state-focus,\n.ui-menu .ui-state-active {\n\tmargin: -1px;\n}\n\n/* icon support */\n.ui-menu-icons {\n\tposition: relative;\n}\n.ui-menu-icons .ui-menu-item-wrapper {\n\tpadding-left: 2em;\n}\n\n/* left-aligned */\n.ui-menu .ui-icon {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: .2em;\n\tmargin: auto 0;\n}\n\n/* right-aligned */\n.ui-menu .ui-menu-icon {\n\tleft: auto;\n\tright: 0;\n}\n',""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,'/*!\n * jQuery UI Progressbar 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/progressbar/#theming\n */\n.ui-progressbar {\n\theight: 2em;\n\ttext-align: left;\n\toverflow: hidden;\n}\n.ui-progressbar .ui-progressbar-value {\n\tmargin: -1px;\n\theight: 100%;\n}\n.ui-progressbar .ui-progressbar-overlay {\n\tbackground: url("data:image/gif;base64,R0lGODlhKAAoAIABAAAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQABACwAAAAAKAAoAAACkYwNqXrdC52DS06a7MFZI+4FHBCKoDeWKXqymPqGqxvJrXZbMx7Ttc+w9XgU2FB3lOyQRWET2IFGiU9m1frDVpxZZc6bfHwv4c1YXP6k1Vdy292Fb6UkuvFtXpvWSzA+HycXJHUXiGYIiMg2R6W459gnWGfHNdjIqDWVqemH2ekpObkpOlppWUqZiqr6edqqWQAAIfkECQEAAQAsAAAAACgAKAAAApSMgZnGfaqcg1E2uuzDmmHUBR8Qil95hiPKqWn3aqtLsS18y7G1SzNeowWBENtQd+T1JktP05nzPTdJZlR6vUxNWWjV+vUWhWNkWFwxl9VpZRedYcflIOLafaa28XdsH/ynlcc1uPVDZxQIR0K25+cICCmoqCe5mGhZOfeYSUh5yJcJyrkZWWpaR8doJ2o4NYq62lAAACH5BAkBAAEALAAAAAAoACgAAAKVDI4Yy22ZnINRNqosw0Bv7i1gyHUkFj7oSaWlu3ovC8GxNso5fluz3qLVhBVeT/Lz7ZTHyxL5dDalQWPVOsQWtRnuwXaFTj9jVVh8pma9JjZ4zYSj5ZOyma7uuolffh+IR5aW97cHuBUXKGKXlKjn+DiHWMcYJah4N0lYCMlJOXipGRr5qdgoSTrqWSq6WFl2ypoaUAAAIfkECQEAAQAsAAAAACgAKAAAApaEb6HLgd/iO7FNWtcFWe+ufODGjRfoiJ2akShbueb0wtI50zm02pbvwfWEMWBQ1zKGlLIhskiEPm9R6vRXxV4ZzWT2yHOGpWMyorblKlNp8HmHEb/lCXjcW7bmtXP8Xt229OVWR1fod2eWqNfHuMjXCPkIGNileOiImVmCOEmoSfn3yXlJWmoHGhqp6ilYuWYpmTqKUgAAIfkECQEAAQAsAAAAACgAKAAAApiEH6kb58biQ3FNWtMFWW3eNVcojuFGfqnZqSebuS06w5V80/X02pKe8zFwP6EFWOT1lDFk8rGERh1TTNOocQ61Hm4Xm2VexUHpzjymViHrFbiELsefVrn6XKfnt2Q9G/+Xdie499XHd2g4h7ioOGhXGJboGAnXSBnoBwKYyfioubZJ2Hn0RuRZaflZOil56Zp6iioKSXpUAAAh+QQJAQABACwAAAAAKAAoAAACkoQRqRvnxuI7kU1a1UU5bd5tnSeOZXhmn5lWK3qNTWvRdQxP8qvaC+/yaYQzXO7BMvaUEmJRd3TsiMAgswmNYrSgZdYrTX6tSHGZO73ezuAw2uxuQ+BbeZfMxsexY35+/Qe4J1inV0g4x3WHuMhIl2jXOKT2Q+VU5fgoSUI52VfZyfkJGkha6jmY+aaYdirq+lQAACH5BAkBAAEALAAAAAAoACgAAAKWBIKpYe0L3YNKToqswUlvznigd4wiR4KhZrKt9Upqip61i9E3vMvxRdHlbEFiEXfk9YARYxOZZD6VQ2pUunBmtRXo1Lf8hMVVcNl8JafV38aM2/Fu5V16Bn63r6xt97j09+MXSFi4BniGFae3hzbH9+hYBzkpuUh5aZmHuanZOZgIuvbGiNeomCnaxxap2upaCZsq+1kAACH5BAkBAAEALAAAAAAoACgAAAKXjI8By5zf4kOxTVrXNVlv1X0d8IGZGKLnNpYtm8Lr9cqVeuOSvfOW79D9aDHizNhDJidFZhNydEahOaDH6nomtJjp1tutKoNWkvA6JqfRVLHU/QUfau9l2x7G54d1fl995xcIGAdXqMfBNadoYrhH+Mg2KBlpVpbluCiXmMnZ2Sh4GBqJ+ckIOqqJ6LmKSllZmsoq6wpQAAAh+QQJAQABACwAAAAAKAAoAAAClYx/oLvoxuJDkU1a1YUZbJ59nSd2ZXhWqbRa2/gF8Gu2DY3iqs7yrq+xBYEkYvFSM8aSSObE+ZgRl1BHFZNr7pRCavZ5BW2142hY3AN/zWtsmf12p9XxxFl2lpLn1rseztfXZjdIWIf2s5dItwjYKBgo9yg5pHgzJXTEeGlZuenpyPmpGQoKOWkYmSpaSnqKileI2FAAACH5BAkBAAEALAAAAAAoACgAAAKVjB+gu+jG4kORTVrVhRlsnn2dJ3ZleFaptFrb+CXmO9OozeL5VfP99HvAWhpiUdcwkpBH3825AwYdU8xTqlLGhtCosArKMpvfa1mMRae9VvWZfeB2XfPkeLmm18lUcBj+p5dnN8jXZ3YIGEhYuOUn45aoCDkp16hl5IjYJvjWKcnoGQpqyPlpOhr3aElaqrq56Bq7VAAAOw==");\n\theight: 100%;\n\tfilter: alpha(opacity=25); /* support: IE8 */\n\topacity: 0.25;\n}\n.ui-progressbar-indeterminate .ui-progressbar-value {\n\tbackground-image: none;\n}\n',""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Resizable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n.ui-resizable {\n\tposition: relative;\n}\n.ui-resizable-handle {\n\tposition: absolute;\n\tfont-size: 0.1px;\n\tdisplay: block;\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-resizable-disabled .ui-resizable-handle,\n.ui-resizable-autohide .ui-resizable-handle {\n\tdisplay: none;\n}\n.ui-resizable-n {\n\tcursor: n-resize;\n\theight: 7px;\n\twidth: 100%;\n\ttop: -5px;\n\tleft: 0;\n}\n.ui-resizable-s {\n\tcursor: s-resize;\n\theight: 7px;\n\twidth: 100%;\n\tbottom: -5px;\n\tleft: 0;\n}\n.ui-resizable-e {\n\tcursor: e-resize;\n\twidth: 7px;\n\tright: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-w {\n\tcursor: w-resize;\n\twidth: 7px;\n\tleft: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-se {\n\tcursor: se-resize;\n\twidth: 12px;\n\theight: 12px;\n\tright: 1px;\n\tbottom: 1px;\n}\n.ui-resizable-sw {\n\tcursor: sw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\tbottom: -5px;\n}\n.ui-resizable-nw {\n\tcursor: nw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\ttop: -5px;\n}\n.ui-resizable-ne {\n\tcursor: ne-resize;\n\twidth: 9px;\n\theight: 9px;\n\tright: -5px;\n\ttop: -5px;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Selectable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n.ui-selectable {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-selectable-helper {\n\tposition: absolute;\n\tz-index: 100;\n\tborder: 1px dotted black;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Selectmenu 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/selectmenu/#theming\n */\n.ui-selectmenu-menu {\n\tpadding: 0;\n\tmargin: 0;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: none;\n}\n.ui-selectmenu-menu .ui-menu {\n\toverflow: auto;\n\toverflow-x: hidden;\n\tpadding-bottom: 1px;\n}\n.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup {\n\tfont-size: 1em;\n\tfont-weight: bold;\n\tline-height: 1.5;\n\tpadding: 2px 0.4em;\n\tmargin: 0.5em 0 0 0;\n\theight: auto;\n\tborder: 0;\n}\n.ui-selectmenu-open {\n\tdisplay: block;\n}\n.ui-selectmenu-text {\n\tdisplay: block;\n\tmargin-right: 20px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n.ui-selectmenu-button.ui-button {\n\ttext-align: left;\n\twhite-space: nowrap;\n\twidth: 14em;\n}\n.ui-selectmenu-icon.ui-icon {\n\tfloat: right;\n\tmargin-top: 0;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Sortable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n.ui-sortable-handle {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Slider 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/slider/#theming\n */\n.ui-slider {\n\tposition: relative;\n\ttext-align: left;\n}\n.ui-slider .ui-slider-handle {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tcursor: default;\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-slider .ui-slider-range {\n\tposition: absolute;\n\tz-index: 1;\n\tfont-size: .7em;\n\tdisplay: block;\n\tborder: 0;\n\tbackground-position: 0 0;\n}\n\n/* support: IE8 - See #6727 */\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n\tfilter: inherit;\n}\n\n.ui-slider-horizontal {\n\theight: .8em;\n}\n.ui-slider-horizontal .ui-slider-handle {\n\ttop: -.3em;\n\tmargin-left: -.6em;\n}\n.ui-slider-horizontal .ui-slider-range {\n\ttop: 0;\n\theight: 100%;\n}\n.ui-slider-horizontal .ui-slider-range-min {\n\tleft: 0;\n}\n.ui-slider-horizontal .ui-slider-range-max {\n\tright: 0;\n}\n\n.ui-slider-vertical {\n\twidth: .8em;\n\theight: 100px;\n}\n.ui-slider-vertical .ui-slider-handle {\n\tleft: -.3em;\n\tmargin-left: 0;\n\tmargin-bottom: -.6em;\n}\n.ui-slider-vertical .ui-slider-range {\n\tleft: 0;\n\twidth: 100%;\n}\n.ui-slider-vertical .ui-slider-range-min {\n\tbottom: 0;\n}\n.ui-slider-vertical .ui-slider-range-max {\n\ttop: 0;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Spinner 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/spinner/#theming\n */\n.ui-spinner {\n\tposition: relative;\n\tdisplay: inline-block;\n\toverflow: hidden;\n\tpadding: 0;\n\tvertical-align: middle;\n}\n.ui-spinner-input {\n\tborder: none;\n\tbackground: none;\n\tcolor: inherit;\n\tpadding: .222em 0;\n\tmargin: .2em 0;\n\tvertical-align: middle;\n\tmargin-left: .4em;\n\tmargin-right: 2em;\n}\n.ui-spinner-button {\n\twidth: 1.6em;\n\theight: 50%;\n\tfont-size: .5em;\n\tpadding: 0;\n\tmargin: 0;\n\ttext-align: center;\n\tposition: absolute;\n\tcursor: default;\n\tdisplay: block;\n\toverflow: hidden;\n\tright: 0;\n}\n/* more specificity required here to override default borders */\n.ui-spinner a.ui-spinner-button {\n\tborder-top-style: none;\n\tborder-bottom-style: none;\n\tborder-right-style: none;\n}\n.ui-spinner-up {\n\ttop: 0;\n}\n.ui-spinner-down {\n\tbottom: 0;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,'/*!\n * jQuery UI Tabs 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/tabs/#theming\n */\n.ui-tabs {\n\tposition: relative;/* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as "fixed") */\n\tpadding: .2em;\n}\n.ui-tabs .ui-tabs-nav {\n\tmargin: 0;\n\tpadding: .2em .2em 0;\n}\n.ui-tabs .ui-tabs-nav li {\n\tlist-style: none;\n\tfloat: left;\n\tposition: relative;\n\ttop: 0;\n\tmargin: 1px .2em 0 0;\n\tborder-bottom-width: 0;\n\tpadding: 0;\n\twhite-space: nowrap;\n}\n.ui-tabs .ui-tabs-nav .ui-tabs-anchor {\n\tfloat: left;\n\tpadding: .5em 1em;\n\ttext-decoration: none;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active {\n\tmargin-bottom: -1px;\n\tpadding-bottom: 1px;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor {\n\tcursor: text;\n}\n.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor {\n\tcursor: pointer;\n}\n.ui-tabs .ui-tabs-panel {\n\tdisplay: block;\n\tborder-width: 0;\n\tpadding: 1em 1.4em;\n\tbackground: none;\n}\n',""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI Tooltip 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/tooltip/#theming\n */\n.ui-tooltip {\n\tpadding: 8px;\n\tposition: absolute;\n\tz-index: 9999;\n\tmax-width: 300px;\n}\nbody .ui-tooltip {\n\tborder-width: 2px;\n}\n",""])},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n *\n * To view and modify this theme, visit http://jqueryui.com/themeroller/\n */\n\n\n/* Component containers\n----------------------------------*/\n.ui-widget {\n\tfont-family: Arial,Helvetica,sans-serif/*{ffDefault}*/;\n\tfont-size: 1em/*{fsDefault}*/;\n}\n.ui-widget .ui-widget {\n\tfont-size: 1em;\n}\n.ui-widget input,\n.ui-widget select,\n.ui-widget textarea,\n.ui-widget button {\n\tfont-family: Arial,Helvetica,sans-serif/*{ffDefault}*/;\n\tfont-size: 1em;\n}\n.ui-widget.ui-widget-content {\n\tborder: 1px solid #c5c5c5/*{borderColorDefault}*/;\n}\n.ui-widget-content {\n\tborder: 1px solid #dddddd/*{borderColorContent}*/;\n\tbackground: #ffffff/*{bgColorContent}*/ /*{bgImgUrlContent}*/ /*{bgContentXPos}*/ /*{bgContentYPos}*/ /*{bgContentRepeat}*/;\n\tcolor: #333333/*{fcContent}*/;\n}\n.ui-widget-content a {\n\tcolor: #333333/*{fcContent}*/;\n}\n.ui-widget-header {\n\tborder: 1px solid #dddddd/*{borderColorHeader}*/;\n\tbackground: #e9e9e9/*{bgColorHeader}*/ /*{bgImgUrlHeader}*/ /*{bgHeaderXPos}*/ /*{bgHeaderYPos}*/ /*{bgHeaderRepeat}*/;\n\tcolor: #333333/*{fcHeader}*/;\n\tfont-weight: bold;\n}\n.ui-widget-header a {\n\tcolor: #333333/*{fcHeader}*/;\n}\n\n/* Interaction states\n----------------------------------*/\n.ui-state-default,\n.ui-widget-content .ui-state-default,\n.ui-widget-header .ui-state-default,\n.ui-button,\n\n/* We use html here because we need a greater specificity to make sure disabled\nworks properly when clicked or hovered */\nhtml .ui-button.ui-state-disabled:hover,\nhtml .ui-button.ui-state-disabled:active {\n\tborder: 1px solid #c5c5c5/*{borderColorDefault}*/;\n\tbackground: #f6f6f6/*{bgColorDefault}*/ /*{bgImgUrlDefault}*/ /*{bgDefaultXPos}*/ /*{bgDefaultYPos}*/ /*{bgDefaultRepeat}*/;\n\tfont-weight: normal/*{fwDefault}*/;\n\tcolor: #454545/*{fcDefault}*/;\n}\n.ui-state-default a,\n.ui-state-default a:link,\n.ui-state-default a:visited,\na.ui-button,\na:link.ui-button,\na:visited.ui-button,\n.ui-button {\n\tcolor: #454545/*{fcDefault}*/;\n\ttext-decoration: none;\n}\n.ui-state-hover,\n.ui-widget-content .ui-state-hover,\n.ui-widget-header .ui-state-hover,\n.ui-state-focus,\n.ui-widget-content .ui-state-focus,\n.ui-widget-header .ui-state-focus,\n.ui-button:hover,\n.ui-button:focus {\n\tborder: 1px solid #cccccc/*{borderColorHover}*/;\n\tbackground: #ededed/*{bgColorHover}*/ /*{bgImgUrlHover}*/ /*{bgHoverXPos}*/ /*{bgHoverYPos}*/ /*{bgHoverRepeat}*/;\n\tfont-weight: normal/*{fwDefault}*/;\n\tcolor: #2b2b2b/*{fcHover}*/;\n}\n.ui-state-hover a,\n.ui-state-hover a:hover,\n.ui-state-hover a:link,\n.ui-state-hover a:visited,\n.ui-state-focus a,\n.ui-state-focus a:hover,\n.ui-state-focus a:link,\n.ui-state-focus a:visited,\na.ui-button:hover,\na.ui-button:focus {\n\tcolor: #2b2b2b/*{fcHover}*/;\n\ttext-decoration: none;\n}\n\n.ui-visual-focus {\n\tbox-shadow: 0 0 3px 1px rgb(94, 158, 214);\n}\n.ui-state-active,\n.ui-widget-content .ui-state-active,\n.ui-widget-header .ui-state-active,\na.ui-button:active,\n.ui-button:active,\n.ui-button.ui-state-active:hover {\n\tborder: 1px solid #003eff/*{borderColorActive}*/;\n\tbackground: #007fff/*{bgColorActive}*/ /*{bgImgUrlActive}*/ /*{bgActiveXPos}*/ /*{bgActiveYPos}*/ /*{bgActiveRepeat}*/;\n\tfont-weight: normal/*{fwDefault}*/;\n\tcolor: #ffffff/*{fcActive}*/;\n}\n.ui-icon-background,\n.ui-state-active .ui-icon-background {\n\tborder: #003eff/*{borderColorActive}*/;\n\tbackground-color: #ffffff/*{fcActive}*/;\n}\n.ui-state-active a,\n.ui-state-active a:link,\n.ui-state-active a:visited {\n\tcolor: #ffffff/*{fcActive}*/;\n\ttext-decoration: none;\n}\n\n/* Interaction Cues\n----------------------------------*/\n.ui-state-highlight,\n.ui-widget-content .ui-state-highlight,\n.ui-widget-header .ui-state-highlight {\n\tborder: 1px solid #dad55e/*{borderColorHighlight}*/;\n\tbackground: #fffa90/*{bgColorHighlight}*/ /*{bgImgUrlHighlight}*/ /*{bgHighlightXPos}*/ /*{bgHighlightYPos}*/ /*{bgHighlightRepeat}*/;\n\tcolor: #777620/*{fcHighlight}*/;\n}\n.ui-state-checked {\n\tborder: 1px solid #dad55e/*{borderColorHighlight}*/;\n\tbackground: #fffa90/*{bgColorHighlight}*/;\n}\n.ui-state-highlight a,\n.ui-widget-content .ui-state-highlight a,\n.ui-widget-header .ui-state-highlight a {\n\tcolor: #777620/*{fcHighlight}*/;\n}\n.ui-state-error,\n.ui-widget-content .ui-state-error,\n.ui-widget-header .ui-state-error {\n\tborder: 1px solid #f1a899/*{borderColorError}*/;\n\tbackground: #fddfdf/*{bgColorError}*/ /*{bgImgUrlError}*/ /*{bgErrorXPos}*/ /*{bgErrorYPos}*/ /*{bgErrorRepeat}*/;\n\tcolor: #5f3f3f/*{fcError}*/;\n}\n.ui-state-error a,\n.ui-widget-content .ui-state-error a,\n.ui-widget-header .ui-state-error a {\n\tcolor: #5f3f3f/*{fcError}*/;\n}\n.ui-state-error-text,\n.ui-widget-content .ui-state-error-text,\n.ui-widget-header .ui-state-error-text {\n\tcolor: #5f3f3f/*{fcError}*/;\n}\n.ui-priority-primary,\n.ui-widget-content .ui-priority-primary,\n.ui-widget-header .ui-priority-primary {\n\tfont-weight: bold;\n}\n.ui-priority-secondary,\n.ui-widget-content .ui-priority-secondary,\n.ui-widget-header .ui-priority-secondary {\n\topacity: .7;\n\tfilter:Alpha(Opacity=70); /* support: IE8 */\n\tfont-weight: normal;\n}\n.ui-state-disabled,\n.ui-widget-content .ui-state-disabled,\n.ui-widget-header .ui-state-disabled {\n\topacity: .35;\n\tfilter:Alpha(Opacity=35); /* support: IE8 */\n\tbackground-image: none;\n}\n.ui-state-disabled .ui-icon {\n\tfilter:Alpha(Opacity=35); /* support: IE8 - See #6059 */\n}\n\n/* Icons\n----------------------------------*/\n\n/* states and images */\n.ui-icon {\n\twidth: 16px;\n\theight: 16px;\n}\n.ui-icon,\n.ui-widget-content .ui-icon {\n\tbackground-image: url("+n(102)+");\n}\n.ui-widget-header .ui-icon {\n\tbackground-image: url("+n(102)+");\n}\n.ui-state-hover .ui-icon,\n.ui-state-focus .ui-icon,\n.ui-button:hover .ui-icon,\n.ui-button:focus .ui-icon {\n\tbackground-image: url("+n(241)+");\n}\n.ui-state-active .ui-icon,\n.ui-button:active .ui-icon {\n\tbackground-image: url("+n(242)+");\n}\n.ui-state-highlight .ui-icon,\n.ui-button .ui-state-highlight.ui-icon {\n\tbackground-image: url("+n(243)+");\n}\n.ui-state-error .ui-icon,\n.ui-state-error-text .ui-icon {\n\tbackground-image: url("+n(244)+");\n}\n.ui-button .ui-icon {\n\tbackground-image: url("+n(245)+");\n}\n\n/* positioning */\n.ui-icon-blank { background-position: 16px 16px; }\n.ui-icon-caret-1-n { background-position: 0 0; }\n.ui-icon-caret-1-ne { background-position: -16px 0; }\n.ui-icon-caret-1-e { background-position: -32px 0; }\n.ui-icon-caret-1-se { background-position: -48px 0; }\n.ui-icon-caret-1-s { background-position: -65px 0; }\n.ui-icon-caret-1-sw { background-position: -80px 0; }\n.ui-icon-caret-1-w { background-position: -96px 0; }\n.ui-icon-caret-1-nw { background-position: -112px 0; }\n.ui-icon-caret-2-n-s { background-position: -128px 0; }\n.ui-icon-caret-2-e-w { background-position: -144px 0; }\n.ui-icon-triangle-1-n { background-position: 0 -16px; }\n.ui-icon-triangle-1-ne { background-position: -16px -16px; }\n.ui-icon-triangle-1-e { background-position: -32px -16px; }\n.ui-icon-triangle-1-se { background-position: -48px -16px; }\n.ui-icon-triangle-1-s { background-position: -65px -16px; }\n.ui-icon-triangle-1-sw { background-position: -80px -16px; }\n.ui-icon-triangle-1-w { background-position: -96px -16px; }\n.ui-icon-triangle-1-nw { background-position: -112px -16px; }\n.ui-icon-triangle-2-n-s { background-position: -128px -16px; }\n.ui-icon-triangle-2-e-w { background-position: -144px -16px; }\n.ui-icon-arrow-1-n { background-position: 0 -32px; }\n.ui-icon-arrow-1-ne { background-position: -16px -32px; }\n.ui-icon-arrow-1-e { background-position: -32px -32px; }\n.ui-icon-arrow-1-se { background-position: -48px -32px; }\n.ui-icon-arrow-1-s { background-position: -65px -32px; }\n.ui-icon-arrow-1-sw { background-position: -80px -32px; }\n.ui-icon-arrow-1-w { background-position: -96px -32px; }\n.ui-icon-arrow-1-nw { background-position: -112px -32px; }\n.ui-icon-arrow-2-n-s { background-position: -128px -32px; }\n.ui-icon-arrow-2-ne-sw { background-position: -144px -32px; }\n.ui-icon-arrow-2-e-w { background-position: -160px -32px; }\n.ui-icon-arrow-2-se-nw { background-position: -176px -32px; }\n.ui-icon-arrowstop-1-n { background-position: -192px -32px; }\n.ui-icon-arrowstop-1-e { background-position: -208px -32px; }\n.ui-icon-arrowstop-1-s { background-position: -224px -32px; }\n.ui-icon-arrowstop-1-w { background-position: -240px -32px; }\n.ui-icon-arrowthick-1-n { background-position: 1px -48px; }\n.ui-icon-arrowthick-1-ne { background-position: -16px -48px; }\n.ui-icon-arrowthick-1-e { background-position: -32px -48px; }\n.ui-icon-arrowthick-1-se { background-position: -48px -48px; }\n.ui-icon-arrowthick-1-s { background-position: -64px -48px; }\n.ui-icon-arrowthick-1-sw { background-position: -80px -48px; }\n.ui-icon-arrowthick-1-w { background-position: -96px -48px; }\n.ui-icon-arrowthick-1-nw { background-position: -112px -48px; }\n.ui-icon-arrowthick-2-n-s { background-position: -128px -48px; }\n.ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; }\n.ui-icon-arrowthick-2-e-w { background-position: -160px -48px; }\n.ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; }\n.ui-icon-arrowthickstop-1-n { background-position: -192px -48px; }\n.ui-icon-arrowthickstop-1-e { background-position: -208px -48px; }\n.ui-icon-arrowthickstop-1-s { background-position: -224px -48px; }\n.ui-icon-arrowthickstop-1-w { background-position: -240px -48px; }\n.ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; }\n.ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; }\n.ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; }\n.ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; }\n.ui-icon-arrowreturn-1-w { background-position: -64px -64px; }\n.ui-icon-arrowreturn-1-n { background-position: -80px -64px; }\n.ui-icon-arrowreturn-1-e { background-position: -96px -64px; }\n.ui-icon-arrowreturn-1-s { background-position: -112px -64px; }\n.ui-icon-arrowrefresh-1-w { background-position: -128px -64px; }\n.ui-icon-arrowrefresh-1-n { background-position: -144px -64px; }\n.ui-icon-arrowrefresh-1-e { background-position: -160px -64px; }\n.ui-icon-arrowrefresh-1-s { background-position: -176px -64px; }\n.ui-icon-arrow-4 { background-position: 0 -80px; }\n.ui-icon-arrow-4-diag { background-position: -16px -80px; }\n.ui-icon-extlink { background-position: -32px -80px; }\n.ui-icon-newwin { background-position: -48px -80px; }\n.ui-icon-refresh { background-position: -64px -80px; }\n.ui-icon-shuffle { background-position: -80px -80px; }\n.ui-icon-transfer-e-w { background-position: -96px -80px; }\n.ui-icon-transferthick-e-w { background-position: -112px -80px; }\n.ui-icon-folder-collapsed { background-position: 0 -96px; }\n.ui-icon-folder-open { background-position: -16px -96px; }\n.ui-icon-document { background-position: -32px -96px; }\n.ui-icon-document-b { background-position: -48px -96px; }\n.ui-icon-note { background-position: -64px -96px; }\n.ui-icon-mail-closed { background-position: -80px -96px; }\n.ui-icon-mail-open { background-position: -96px -96px; }\n.ui-icon-suitcase { background-position: -112px -96px; }\n.ui-icon-comment { background-position: -128px -96px; }\n.ui-icon-person { background-position: -144px -96px; }\n.ui-icon-print { background-position: -160px -96px; }\n.ui-icon-trash { background-position: -176px -96px; }\n.ui-icon-locked { background-position: -192px -96px; }\n.ui-icon-unlocked { background-position: -208px -96px; }\n.ui-icon-bookmark { background-position: -224px -96px; }\n.ui-icon-tag { background-position: -240px -96px; }\n.ui-icon-home { background-position: 0 -112px; }\n.ui-icon-flag { background-position: -16px -112px; }\n.ui-icon-calendar { background-position: -32px -112px; }\n.ui-icon-cart { background-position: -48px -112px; }\n.ui-icon-pencil { background-position: -64px -112px; }\n.ui-icon-clock { background-position: -80px -112px; }\n.ui-icon-disk { background-position: -96px -112px; }\n.ui-icon-calculator { background-position: -112px -112px; }\n.ui-icon-zoomin { background-position: -128px -112px; }\n.ui-icon-zoomout { background-position: -144px -112px; }\n.ui-icon-search { background-position: -160px -112px; }\n.ui-icon-wrench { background-position: -176px -112px; }\n.ui-icon-gear { background-position: -192px -112px; }\n.ui-icon-heart { background-position: -208px -112px; }\n.ui-icon-star { background-position: -224px -112px; }\n.ui-icon-link { background-position: -240px -112px; }\n.ui-icon-cancel { background-position: 0 -128px; }\n.ui-icon-plus { background-position: -16px -128px; }\n.ui-icon-plusthick { background-position: -32px -128px; }\n.ui-icon-minus { background-position: -48px -128px; }\n.ui-icon-minusthick { background-position: -64px -128px; }\n.ui-icon-close { background-position: -80px -128px; }\n.ui-icon-closethick { background-position: -96px -128px; }\n.ui-icon-key { background-position: -112px -128px; }\n.ui-icon-lightbulb { background-position: -128px -128px; }\n.ui-icon-scissors { background-position: -144px -128px; }\n.ui-icon-clipboard { background-position: -160px -128px; }\n.ui-icon-copy { background-position: -176px -128px; }\n.ui-icon-contact { background-position: -192px -128px; }\n.ui-icon-image { background-position: -208px -128px; }\n.ui-icon-video { background-position: -224px -128px; }\n.ui-icon-script { background-position: -240px -128px; }\n.ui-icon-alert { background-position: 0 -144px; }\n.ui-icon-info { background-position: -16px -144px; }\n.ui-icon-notice { background-position: -32px -144px; }\n.ui-icon-help { background-position: -48px -144px; }\n.ui-icon-check { background-position: -64px -144px; }\n.ui-icon-bullet { background-position: -80px -144px; }\n.ui-icon-radio-on { background-position: -96px -144px; }\n.ui-icon-radio-off { background-position: -112px -144px; }\n.ui-icon-pin-w { background-position: -128px -144px; }\n.ui-icon-pin-s { background-position: -144px -144px; }\n.ui-icon-play { background-position: 0 -160px; }\n.ui-icon-pause { background-position: -16px -160px; }\n.ui-icon-seek-next { background-position: -32px -160px; }\n.ui-icon-seek-prev { background-position: -48px -160px; }\n.ui-icon-seek-end { background-position: -64px -160px; }\n.ui-icon-seek-start { background-position: -80px -160px; }\n/* ui-icon-seek-first is deprecated, use ui-icon-seek-start instead */\n.ui-icon-seek-first { background-position: -80px -160px; }\n.ui-icon-stop { background-position: -96px -160px; }\n.ui-icon-eject { background-position: -112px -160px; }\n.ui-icon-volume-off { background-position: -128px -160px; }\n.ui-icon-volume-on { background-position: -144px -160px; }\n.ui-icon-power { background-position: 0 -176px; }\n.ui-icon-signal-diag { background-position: -16px -176px; }\n.ui-icon-signal { background-position: -32px -176px; }\n.ui-icon-battery-0 { background-position: -48px -176px; }\n.ui-icon-battery-1 { background-position: -64px -176px; }\n.ui-icon-battery-2 { background-position: -80px -176px; }\n.ui-icon-battery-3 { background-position: -96px -176px; }\n.ui-icon-circle-plus { background-position: 0 -192px; }\n.ui-icon-circle-minus { background-position: -16px -192px; }\n.ui-icon-circle-close { background-position: -32px -192px; }\n.ui-icon-circle-triangle-e { background-position: -48px -192px; }\n.ui-icon-circle-triangle-s { background-position: -64px -192px; }\n.ui-icon-circle-triangle-w { background-position: -80px -192px; }\n.ui-icon-circle-triangle-n { background-position: -96px -192px; }\n.ui-icon-circle-arrow-e { background-position: -112px -192px; }\n.ui-icon-circle-arrow-s { background-position: -128px -192px; }\n.ui-icon-circle-arrow-w { background-position: -144px -192px; }\n.ui-icon-circle-arrow-n { background-position: -160px -192px; }\n.ui-icon-circle-zoomin { background-position: -176px -192px; }\n.ui-icon-circle-zoomout { background-position: -192px -192px; }\n.ui-icon-circle-check { background-position: -208px -192px; }\n.ui-icon-circlesmall-plus { background-position: 0 -208px; }\n.ui-icon-circlesmall-minus { background-position: -16px -208px; }\n.ui-icon-circlesmall-close { background-position: -32px -208px; }\n.ui-icon-squaresmall-plus { background-position: -48px -208px; }\n.ui-icon-squaresmall-minus { background-position: -64px -208px; }\n.ui-icon-squaresmall-close { background-position: -80px -208px; }\n.ui-icon-grip-dotted-vertical { background-position: 0 -224px; }\n.ui-icon-grip-dotted-horizontal { background-position: -16px -224px; }\n.ui-icon-grip-solid-vertical { background-position: -32px -224px; }\n.ui-icon-grip-solid-horizontal { background-position: -48px -224px; }\n.ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }\n.ui-icon-grip-diagonal-se { background-position: -80px -224px; }\n\n\n/* Misc visuals\n----------------------------------*/\n\n/* Corner radius */\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-left,\n.ui-corner-tl {\n\tborder-top-left-radius: 3px/*{cornerRadius}*/;\n}\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-right,\n.ui-corner-tr {\n\tborder-top-right-radius: 3px/*{cornerRadius}*/;\n}\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-left,\n.ui-corner-bl {\n\tborder-bottom-left-radius: 3px/*{cornerRadius}*/;\n}\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-right,\n.ui-corner-br {\n\tborder-bottom-right-radius: 3px/*{cornerRadius}*/;\n}\n\n/* Overlays */\n.ui-widget-overlay {\n\tbackground: #aaaaaa/*{bgColorOverlay}*/ /*{bgImgUrlOverlay}*/ /*{bgOverlayXPos}*/ /*{bgOverlayYPos}*/ /*{bgOverlayRepeat}*/;\n\topacity: .3/*{opacityOverlay}*/;\n\tfilter: Alpha(Opacity=30)/*{opacityFilterOverlay}*/; /* support: IE8 */\n}\n.ui-widget-shadow {\n\t-webkit-box-shadow: 0/*{offsetLeftShadow}*/ 0/*{offsetTopShadow}*/ 5px/*{thicknessShadow}*/ #666666/*{bgColorShadow}*/;\n\tbox-shadow: 0/*{offsetLeftShadow}*/ 0/*{offsetTopShadow}*/ 5px/*{thicknessShadow}*/ #666666/*{bgColorShadow}*/;\n}\n",""])},function(e,t,n){e.exports=n.p+"971364734f3b603e5d363a2634898b42.png"},function(e,t,n){e.exports=n.p+"bf27228a7d3957983584fa7698121ea1.png"},function(e,t,n){e.exports=n.p+"208a290102a4ada58a04de354a1354d7.png"},function(e,t,n){e.exports=n.p+"0de3b51742ed3ac61435875bccd8973b.png"},function(e,t,n){e.exports=n.p+"73a1fd052c9d84c0ee0bea3ee85892ed.png"},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,a=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var r;return r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:a+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}},function(e,t,n){"use strict";(function(e){var t=n(0),a=n.n(t);!function(t,i){"object"==typeof exports?e.exports=i(n(0)):"function"==typeof define&&n(249)?define(["knockout"],i):i(a.a)}(0,function(e){e.bindingHandlers.bottomsUp={init:function(t,n,a,i,r){t.scrollTop=t.scrollHeight-t.clientHeight;var o,s=n(),c=s&&"object"==typeof s?s:{},l=a(),d=l.foreach&&l.foreach.data||l.foreach||l.template&&l.template.foreach,u=d.subscribe(function(){o=t.scrollHeight-t.scrollTop-2<=t.clientHeight},this,"beforeChange"),p=d.subscribe(function(){if(o&&(o=null,t.scrollTop=t.scrollHeight-t.clientHeight,void 0!==c.trim)){"number"==typeof c.trim&&c.trim;var e=d().length;if(t.scrollHeight>t.clientHeight){var n=Math.ceil(t.clientHeight/(t.scrollHeight/e))+c.trim;n<e&&d.splice(0,e-n)}}});e.utils.domNodeDisposal.addDisposeCallback(t,function(){u.dispose(),p.dispose()})}}})}).call(t,n(248)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){var n,a,i={}.hasOwnProperty,r=function(e,t){return function(){return e.apply(t,arguments)}};Strophe.addConnectionPlugin("muc",{_connection:null,rooms:{},roomNames:[],init:function(e){return this._connection=e,this._muc_handler=null,Strophe.addNamespace("MUC_OWNER",Strophe.NS.MUC+"#owner"),Strophe.addNamespace("MUC_ADMIN",Strophe.NS.MUC+"#admin"),Strophe.addNamespace("MUC_USER",Strophe.NS.MUC+"#user"),Strophe.addNamespace("MUC_ROOMCONF",Strophe.NS.MUC+"#roomconfig"),Strophe.addNamespace("MUC_REGISTER","jabber:iq:register")},join:function(e,t,n,i,r,o,s,c){var l,d;return d=this.test_append_nick(e,t),l=$pres({from:this._connection.jid,to:d}).c("x",{xmlns:Strophe.NS.MUC}),null!=s&&(l=l.c("history",s).up()),null!=o&&l.cnode(Strophe.xmlElement("password",[],o)),null!=c&&l.up().cnode(c),null==this._muc_handler&&(this._muc_handler=this._connection.addHandler(function(t){return function(n){var a,i,r,o,s,c,l,d,u;if(!(a=n.getAttribute("from")))return!0;if(c=a.split("/")[0],!t.rooms[c])return!0;if(e=t.rooms[c],i={},"message"===n.nodeName)i=e._message_handlers;else if("presence"===n.nodeName&&(u=n.getElementsByTagName("x")).length>0)for(r=0,s=u.length;r<s;r++)if(l=u[r],(d=l.getAttribute("xmlns"))&&d.match(Strophe.NS.MUC)){i=e._presence_handlers;break}for(o in i)(0,i[o])(n,e)||delete i[o];return!0}}(this))),this.rooms.hasOwnProperty(e)||(this.rooms[e]=new a(this,e,t,o),i&&this.rooms[e].addHandler("presence",i),n&&this.rooms[e].addHandler("message",n),r&&this.rooms[e].addHandler("roster",r),this.roomNames.push(e)),this._connection.send(l)},leave:function(e,t,n,a){var i,r,o,s;return i=this.roomNames.indexOf(e),delete this.rooms[e],i>=0&&(this.roomNames.splice(i,1),0===this.roomNames.length&&(this._connection.deleteHandler(this._muc_handler),this._muc_handler=null)),s=this.test_append_nick(e,t),o=this._connection.getUniqueId(),r=$pres({type:"unavailable",id:o,from:this._connection.jid,to:s}),null!=a&&r.c("status",a),null!=n&&this._connection.addHandler(n,null,"presence",null,o),this._connection.send(r),o},message:function(e,t,n,a,i,r){var o,s,c;return c=this.test_append_nick(e,t),i=i||(null!=t?"chat":"groupchat"),r=r||this._connection.getUniqueId(),(o=$msg({to:c,from:this._connection.jid,type:i,id:r}).c("body").t(n)).up(),null!=a&&(o.c("html",{xmlns:Strophe.NS.XHTML_IM}).c("body",{xmlns:Strophe.NS.XHTML}).h(a),0===o.node.childNodes.length?(s=o.node.parentNode,o.up().up(),o.node.removeChild(s)):o.up().up()),o.c("x",{xmlns:"jabber:x:event"}).c("composing"),this._connection.send(o),r},groupchat:function(e,t,n,a){return this.message(e,null,t,n,void 0,a)},invite:function(e,t,n){var a,i;return i=this._connection.getUniqueId(),a=$msg({from:this._connection.jid,to:e,id:i}).c("x",{xmlns:Strophe.NS.MUC_USER}).c("invite",{to:t}),null!=n&&a.c("reason",n),this._connection.send(a),i},multipleInvites:function(e,t,n){var a,i,r,o,s;for(o=this._connection.getUniqueId(),i=$msg({from:this._connection.jid,to:e,id:o}).c("x",{xmlns:Strophe.NS.MUC_USER}),a=0,r=t.length;a<r;a++)s=t[a],i.c("invite",{to:s}),null!=n&&(i.c("reason",n),i.up()),i.up();return this._connection.send(i),o},directInvite:function(e,t,n,a){var i,r,o;return o=this._connection.getUniqueId(),i={xmlns:"jabber:x:conference",jid:e},null!=n&&(i.reason=n),null!=a&&(i.password=a),r=$msg({from:this._connection.jid,to:t,id:o}).c("x",i),this._connection.send(r),o},queryOccupants:function(e,t,n){var a,i;return a={xmlns:Strophe.NS.DISCO_ITEMS},i=$iq({from:this._connection.jid,to:e,type:"get"}).c("query",a),this._connection.sendIQ(i,t,n)},configure:function(e,t,n){var a,i;return a=$iq({to:e,type:"get"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}),i=a.tree(),this._connection.sendIQ(i,t,n)},cancelConfigure:function(e){var t,n;return t=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"cancel"}),n=t.tree(),this._connection.sendIQ(n)},saveConfiguration:function(e,t,n,a){var i,r,o,s,c;if(o=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}),void 0!==Strophe.x&&void 0!==Strophe.x.Form&&t instanceof Strophe.x.Form)t.type="submit",o.cnode(t.toXML());else for(o.c("x",{xmlns:"jabber:x:data",type:"submit"}),r=0,s=t.length;r<s;r++)i=t[r],o.cnode(i).up();return c=o.tree(),this._connection.sendIQ(c,n,a)},createInstantRoom:function(e,t,n){var a;return a=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"submit"}),this._connection.sendIQ(a.tree(),t,n)},createConfiguredRoom:function(e,t,n,a){var r,o,s;(o=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"submit"})).c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up();for(r in t)i.call(t,r)&&(s=t[r],o.c("field",{var:r}).c("value").t(s).up().up());return this._connection.sendIQ(o.tree(),n,a)},setTopic:function(e,t){var n;return n=$msg({to:e,from:this._connection.jid,type:"groupchat"}).c("subject",{xmlns:"jabber:client"}).t(t),this._connection.send(n.tree())},_modifyPrivilege:function(e,t,n,a,i){var r;return r=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_ADMIN}).cnode(t.node),null!=n&&r.c("reason",n),this._connection.sendIQ(r.tree(),a,i)},modifyRole:function(e,t,n,a,i,r){var o;return o=$build("item",{nick:t,role:n}),this._modifyPrivilege(e,o,a,i,r)},kick:function(e,t,n,a,i){return this.modifyRole(e,t,"none",n,a,i)},voice:function(e,t,n,a,i){return this.modifyRole(e,t,"participant",n,a,i)},mute:function(e,t,n,a,i){return this.modifyRole(e,t,"visitor",n,a,i)},op:function(e,t,n,a,i){return this.modifyRole(e,t,"moderator",n,a,i)},deop:function(e,t,n,a,i){return this.modifyRole(e,t,"participant",n,a,i)},modifyAffiliation:function(e,t,n,a,i,r){var o;return o=$build("item",{jid:t,affiliation:n}),this._modifyPrivilege(e,o,a,i,r)},ban:function(e,t,n,a,i){return this.modifyAffiliation(e,t,"outcast",n,a,i)},member:function(e,t,n,a,i){return this.modifyAffiliation(e,t,"member",n,a,i)},revoke:function(e,t,n,a,i){return this.modifyAffiliation(e,t,"none",n,a,i)},owner:function(e,t,n,a,i){return this.modifyAffiliation(e,t,"owner",n,a,i)},admin:function(e,t,n,a,i){return this.modifyAffiliation(e,t,"admin",n,a,i)},changeNick:function(e,t){var n,a;return a=this.test_append_nick(e,t),n=$pres({from:this._connection.jid,to:a,id:this._connection.getUniqueId()}),this._connection.send(n.tree())},setStatus:function(e,t,n,a){var i,r;return r=this.test_append_nick(e,t),i=$pres({from:this._connection.jid,to:r}),null!=n&&i.c("show",n).up(),null!=a&&i.c("status",a),this._connection.send(i.tree())},registrationRequest:function(e,t,n){var a;return a=$iq({to:e,from:this._connection.jid,type:"get"}).c("query",{xmlns:Strophe.NS.MUC_REGISTER}),this._connection.sendIQ(a,function(e){var n,a,i,r,o,s;for((a=e.getElementsByTagName("field")).length,r={required:[],optional:[]},o=0,s=a.length;o<s;o++)i={var:(n=a[o]).getAttribute("var"),label:n.getAttribute("label"),type:n.getAttribute("type")},n.getElementsByTagName("required").length>0?r.required.push(i):r.optional.push(i);return t(r)},n)},submitRegistrationForm:function(e,t,n,a){var i,r,o;(i=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_REGISTER})).c("x",{xmlns:"jabber:x:data",type:"submit"}),i.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#register").up().up();for(r in t)o=t[r],i.c("field",{var:r}).c("value").t(o).up().up();return this._connection.sendIQ(i,n,a)},listRooms:function(e,t,n){var a;return a=$iq({to:e,from:this._connection.jid,type:"get"}).c("query",{xmlns:Strophe.NS.DISCO_ITEMS}),this._connection.sendIQ(a,t,n)},test_append_nick:function(e,t){var n,a;return a=Strophe.escapeNode(Strophe.getNodeFromJid(e)),n=Strophe.getDomainFromJid(e),a+"@"+n+(null!=t?"/"+t:"")}}),a=function(){function e(e,t,n,a){this.client=e,this.name=t,this.nick=n,this.password=a,this._roomRosterHandler=r(this._roomRosterHandler,this),this._addOccupant=r(this._addOccupant,this),this.roster={},this._message_handlers={},this._presence_handlers={},this._roster_handlers={},this._handler_ids=0,this.client.muc&&(this.client=this.client.muc),this.name=Strophe.getBareJidFromJid(this.name),this.addHandler("presence",this._roomRosterHandler)}return e.prototype.join=function(e,t,n){return this.client.join(this.name,this.nick,e,t,n,this.password)},e.prototype.leave=function(e,t){return this.client.leave(this.name,this.nick,e,t),delete this.client.rooms[this.name]},e.prototype.message=function(e,t,n,a){return this.client.message(this.name,e,t,n,a)},e.prototype.groupchat=function(e,t){return this.client.groupchat(this.name,e,t)},e.prototype.invite=function(e,t){return this.client.invite(this.name,e,t)},e.prototype.multipleInvites=function(e,t){return this.client.invite(this.name,e,t)},e.prototype.directInvite=function(e,t){return this.client.directInvite(this.name,e,t,this.password)},e.prototype.configure=function(e){return this.client.configure(this.name,e)},e.prototype.cancelConfigure=function(){return this.client.cancelConfigure(this.name)},e.prototype.saveConfiguration=function(e){return this.client.saveConfiguration(this.name,e)},e.prototype.queryOccupants=function(e,t){return this.client.queryOccupants(this.name,e,t)},e.prototype.setTopic=function(e){return this.client.setTopic(this.name,e)},e.prototype.modifyRole=function(e,t,n,a,i){return this.client.modifyRole(this.name,e,t,n,a,i)},e.prototype.kick=function(e,t,n,a){return this.client.kick(this.name,e,t,n,a)},e.prototype.voice=function(e,t,n,a){return this.client.voice(this.name,e,t,n,a)},e.prototype.mute=function(e,t,n,a){return this.client.mute(this.name,e,t,n,a)},e.prototype.op=function(e,t,n,a){return this.client.op(this.name,e,t,n,a)},e.prototype.deop=function(e,t,n,a){return this.client.deop(this.name,e,t,n,a)},e.prototype.modifyAffiliation=function(e,t,n,a,i){return this.client.modifyAffiliation(this.name,e,t,n,a,i)},e.prototype.ban=function(e,t,n,a){return this.client.ban(this.name,e,t,n,a)},e.prototype.member=function(e,t,n,a){return this.client.member(this.name,e,t,n,a)},e.prototype.revoke=function(e,t,n,a){return this.client.revoke(this.name,e,t,n,a)},e.prototype.owner=function(e,t,n,a){return this.client.owner(this.name,e,t,n,a)},e.prototype.admin=function(e,t,n,a){return this.client.admin(this.name,e,t,n,a)},e.prototype.changeNick=function(e){return this.nick=e,this.client.changeNick(this.name,nick)},e.prototype.setStatus=function(e,t){return this.client.setStatus(this.name,this.nick,e,t)},e.prototype.addHandler=function(e,t){var n;switch(n=this._handler_ids++,e){case"presence":this._presence_handlers[n]=t;break;case"message":this._message_handlers[n]=t;break;case"roster":this._roster_handlers[n]=t;break;default:return this._handler_ids--,null}return n},e.prototype.removeHandler=function(e){return delete this._presence_handlers[e],delete this._message_handlers[e],delete this._roster_handlers[e]},e.prototype._addOccupant=function(e){var t;return t=new n(e,this),this.roster[t.nick]=t,t},e.prototype._roomRosterHandler=function(t){var n,a,i,r,o;switch(n=e._parsePresence(t),r=n.nick,i=n.newnick||null,n.type){case"error":return!0;case"unavailable":i&&(n.nick=i,this.roster[r]&&this.roster[i]&&(this.roster[r].update(this.roster[i]),this.roster[i]=this.roster[r]),this.roster[r]&&!this.roster[i]&&(this.roster[i]=this.roster[r].update(n))),delete this.roster[r];break;default:this.roster[r]?this.roster[r].update(n):this._addOccupant(n)}o=this._roster_handlers;for(a in o)(0,o[a])(this.roster,this)||delete this._roster_handlers[a];return!0},e._parsePresence=function(e){var t,n,a,i,r,o,s,c,l;for((a={}).nick=Strophe.getResourceFromJid(e.getAttribute("from")),a.type=e.getAttribute("type"),a.states=[],i=0,o=(c=e.childNodes).length;i<o;i++)switch((t=c[i]).nodeName){case"error":a.errorcode=t.getAttribute("code"),a.error=null!=(l=t.childNodes[0])?l.nodeName:void 0;break;case"status":a.status=t.textContent||null;break;case"show":a.show=t.textContent||null;break;case"x":if(t.getAttribute("xmlns")===Strophe.NS.MUC_USER)for(r=0,s=(l=t.childNodes).length;r<s;r++)switch((n=l[r]).nodeName){case"item":a.affiliation=n.getAttribute("affiliation"),a.role=n.getAttribute("role"),a.jid=n.getAttribute("jid"),a.newnick=n.getAttribute("nick");break;case"status":n.getAttribute("code")&&a.states.push(n.getAttribute("code"))}}return a},e}(),function(){function e(e){this.parse=r(this.parse,this),null!=e&&this.parse(e)}e.prototype.parse=function(e){var t,n,a,i,r,o,s,c,l,d,u,p,f;for(p=e.getElementsByTagName("query")[0].childNodes,this.identities=[],this.features=[],this.x=[],r=0,l=p.length;r<l;r++)switch(a=p[r],n=a.attributes,a.nodeName){case"identity":for(o={},s=0,d=n.length;s<d;s++)o[(t=n[s]).name]=t.textContent;this.identities.push(o);break;case"feature":this.features.push(a.getAttribute("var"));break;case"x":if("FORM_TYPE"===!a.childNodes[0].getAttribute("var")||"hidden"===!a.childNodes[0].getAttribute("type"))break;for(c=0,u=(f=a.childNodes).length;c<u;c++)(i=f[c]).attributes.type||this.x.push({var:i.getAttribute("var"),label:i.getAttribute("label")||"",value:i.firstChild.textContent||""})}return{identities:this.identities,features:this.features,x:this.x}}}(),n=function(){function e(e,t){this.room=t,this.update=r(this.update,this),this.admin=r(this.admin,this),this.owner=r(this.owner,this),this.revoke=r(this.revoke,this),this.member=r(this.member,this),this.ban=r(this.ban,this),this.modifyAffiliation=r(this.modifyAffiliation,this),this.deop=r(this.deop,this),this.op=r(this.op,this),this.mute=r(this.mute,this),this.voice=r(this.voice,this),this.kick=r(this.kick,this),this.modifyRole=r(this.modifyRole,this),this.update(e)}return e.prototype.modifyRole=function(e,t,n,a){return this.room.modifyRole(this.nick,e,t,n,a)},e.prototype.kick=function(e,t,n){return this.room.kick(this.nick,e,t,n)},e.prototype.voice=function(e,t,n){return this.room.voice(this.nick,e,t,n)},e.prototype.mute=function(e,t,n){return this.room.mute(this.nick,e,t,n)},e.prototype.op=function(e,t,n){return this.room.op(this.nick,e,t,n)},e.prototype.deop=function(e,t,n){return this.room.deop(this.nick,e,t,n)},e.prototype.modifyAffiliation=function(e,t,n,a){return this.room.modifyAffiliation(this.jid,e,t,n,a)},e.prototype.ban=function(e,t,n){return this.room.ban(this.jid,e,t,n)},e.prototype.member=function(e,t,n){return this.room.member(this.jid,e,t,n)},e.prototype.revoke=function(e,t,n){return this.room.revoke(this.jid,e,t,n)},e.prototype.owner=function(e,t,n){return this.room.owner(this.jid,e,t,n)},e.prototype.admin=function(e,t,n){return this.room.admin(this.jid,e,t,n)},e.prototype.update=function(e){return this.nick=e.nick||null,this.affiliation=e.affiliation||null,this.role=e.role||null,this.jid=e.jid||null,this.status=e.status||null,this.show=e.show||null,this},e}()},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(18),o=n.n(r),s=n(252),c=(n.n(s),n(253));n.n(c);i.a.bindingHandlers.select2={init:function(e,t){var n=t()||{};o()(e).select2(n)},update:function(e,t,n){var a=n(),r=i.a.utils.unwrapObservable(a.value||a.selectedOptions);r&&o()(e).select2("val",r)}}},function(e,t){!function(e){void 0===e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),a=-1,i=this.length;++a<i&&(n.context=n[0]=this[a])&&!1!==t.call(n[0],a,n););return this}})}(jQuery),function(e,t){"use strict";function n(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function a(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return O[e]||e})}function i(e,t){for(var n=0,a=t.length;n<a;n+=1)if(r(e,t[n]))return n;return-1}function r(e,n){return e===n||e!==t&&n!==t&&(null!==e&&null!==n&&(e.constructor===String?e+""==n+"":n.constructor===String&&n+""==e+""))}function o(t,n){var a,i,r;if(null===t||t.length<1)return[];for(i=0,r=(a=t.split(n)).length;i<r;i+=1)a[i]=e.trim(a[i]);return a}function s(e){return e.outerWidth(!1)-e.width()}function c(n){var a="keyup-change-value";n.on("keydown",function(){e.data(n,a)===t&&e.data(n,a,n.val())}),n.on("keyup",function(){var i=e.data(n,a);i!==t&&n.val()!==i&&(e.removeData(n,a),n.trigger("keyup-change"))})}function l(e,n,a){a=a||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(a,t)},e)}}function d(e){e.preventDefault(),e.stopPropagation()}function u(t,n,a){var i,r,o=[];(i=e.trim(t.attr("class")))&&e((i=""+i).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&o.push(this)}),(i=e.trim(n.attr("class")))&&e((i=""+i).split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(r=a(this))&&o.push(r)}),t.attr("class",o.join(" "))}function p(e,t,n,i){var r=a(e.toUpperCase()).indexOf(a(t.toUpperCase())),o=t.length;r<0?n.push(i(e)):(n.push(i(e.substring(0,r))),n.push("<span class='select2-match'>"),n.push(i(e.substring(r,r+o))),n.push("</span>"),n.push(i(e.substring(r+o,e.length))))}function f(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function h(n){var a,i=null,r=n.quietMillis||100,o=n.url,s=this;return function(c){window.clearTimeout(a),a=window.setTimeout(function(){var a=n.data,r=o,l=n.transport||e.fn.select2.ajaxDefaults.transport,d={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},u=e.extend({},e.fn.select2.ajaxDefaults.params,d);a=a?a.call(s,c.term,c.page,c.context):null,r="function"==typeof r?r.call(s,c.term,c.page,c.context):r,i&&"function"==typeof i.abort&&i.abort(),n.params&&(e.isFunction(n.params)?e.extend(u,n.params.call(s)):e.extend(u,n.params)),e.extend(u,{url:r,dataType:n.dataType,data:a,success:function(e){var t=n.results(e,c.page,c);c.callback(t)},error:function(e,t,n){var a={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};c.callback(a)}}),i=l.call(s,u)},r)}}function m(t){var n,a,i=t,r=function(e){return""+e.text};e.isArray(i)&&(i={results:a=i}),!1===e.isFunction(i)&&(a=i,i=function(){return a});var o=i();return o.text&&(r=o.text,e.isFunction(r)||(n=o.text,r=function(e){return e[n]})),function(t){var n,a=t.term,o={results:[]};""!==a?(n=function(i,o){var s,c;if((i=i[0]).children){s={};for(c in i)i.hasOwnProperty(c)&&(s[c]=i[c]);s.children=[],e(i.children).each2(function(e,t){n(t,s.children)}),(s.children.length||t.matcher(a,r(s),i))&&o.push(s)}else t.matcher(a,r(i),i)&&o.push(i)},e(i().results).each2(function(e,t){n(t,o.results)}),t.callback(o)):t.callback(i())}}function b(n){var a=e.isFunction(n);return function(i){var r=i.term,o={results:[]},s=a?n(i):n;e.isArray(s)&&(e(s).each(function(){var e=this.text!==t,n=e?this.text:this;(""===r||i.matcher(r,n))&&o.results.push(e?this:{id:this,text:this})}),i.callback(o))}}function v(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function g(t,n){if(e.isFunction(t)){var a=Array.prototype.slice.call(arguments,2);return t.apply(n,a)}return t}function y(t){var n=0;return e.each(t,function(e,t){t.children?n+=y(t.children):n++}),n}function x(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function w(t,n){var a=function(){};return a.prototype=new t,a.prototype.constructor=a,a.prototype.parent=t.prototype,a.prototype=e.extend(a.prototype,n),a}if(window.Select2===t){var k,S,C,I,_,T,E,A={x:0,y:0},M={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case M.LEFT:case M.RIGHT:case M.UP:case M.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case M.SHIFT:case M.CTRL:case M.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123}},F="<div class='select2-measure-scrollbar'></div>",O={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};T=e(document),I=function(){var e=1;return function(){return e++}}(),S=w(k=w(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var a,r,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+I()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e("body"),u(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(g(n.containerCss,this.opts.element)),this.container.addClass(g(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",d),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),u(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(g(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",d),this.results=a=this.container.find(o),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",d),function(n){n.on("mousemove",function(n){var a=A;a!==t&&a.x===n.pageX&&a.y===n.pageY||e(n.target).trigger("mousemove-filtered",n)})}(this.results),this.dropdown.on("mousemove-filtered",o,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",o,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",o,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",o,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),function(e,t){var n=l(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){i(e.target,t.get())>=0&&n(e)})}(80,this.results),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&a.mousewheel(function(e,t,n,i){var r=a.scrollTop();i>0&&r-i<=0?(a.scrollTop(0),d(e)):i<0&&a.get(0).scrollHeight-a.scrollTop()+i<=a.height()&&(a.scrollTop(a.get(0).scrollHeight-a.height()),d(e))}),c(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",o,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var s=n.element.prop("disabled");s===t&&(s=!1),this.enable(!s);var p=n.element.prop("readonly");p===t&&(p=!1),this.readonly(p),E=E||function(){var t=e(F);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2"),a=this;this.close(),e.length&&e[0].detachEvent&&e.each(function(){this.detachEvent("onpropertychange",a._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),x.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:r(e.attr("locked"),"locked")||r(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var a,i,s,c,l=this;if("select"===(a=n.element).get(0).tagName.toLowerCase()&&(this.select=i=n.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),"function"!=typeof(n=e.extend({},{populateResults:function(a,i,r){var o,s=this.opts.id,c=this.liveRegion;(o=function(a,i,d){var u,p,f,h,m,b,v,g,y,x,w=[];for(u=0,p=(a=n.sortResults(a,i,r)).length;u<p;u+=1)h=!(m=!0===(f=a[u]).disabled)&&s(f)!==t,b=f.children&&f.children.length>0,(v=e("<li></li>")).addClass("select2-results-dept-"+d),v.addClass("select2-result"),v.addClass(h?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),b&&v.addClass("select2-result-with-children"),v.addClass(l.opts.formatResultCssClass(f)),v.attr("role","presentation"),(g=e(document.createElement("div"))).addClass("select2-result-label"),g.attr("id","select2-result-label-"+I()),g.attr("role","option"),(x=n.formatResult(f,g,r,l.opts.escapeMarkup))!==t&&(g.html(x),v.append(g)),b&&((y=e("<ul></ul>")).addClass("select2-result-sub"),o(f.children,y,d+1),v.append(y)),v.data("select2-data",f),w.push(v[0]);i.append(w),c.text(n.formatMatches(a.length))})(i,a,0)}},e.fn.select2.defaults,n)).id&&(s=n.id,n.id=function(e){return e[s]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(i?(n.query=this.bind(function(e){var n,i,r,o={results:[],more:!1},s=e.term;r=function(t,n){var a;t.is("option")?e.matcher(s,t.text(),t)&&n.push(l.optionToData(t)):t.is("optgroup")&&(a=l.optionToData(t),t.children().each2(function(e,t){r(t,a.children)}),a.children.length>0&&n.push(a))},n=a.children(),this.getPlaceholder()!==t&&n.length>0&&(i=this.getPlaceholderOption())&&(n=n.not(i)),n.each2(function(e,t){r(t,o.results)}),e.callback(o)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?((c=n.element.data("ajax-url"))&&c.length>0&&(n.ajax.url=c),n.query=h.call(n.element,n.ajax)):"data"in n?n.query=m(n.data):"tags"in n&&(n.query=b(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,a){var i=[];e(o(t.val(),n.separator)).each(function(){var t={id:this,text:this},a=n.tags;e.isFunction(a)&&(a=a()),e(a).each(function(){if(r(this.id,t.id))return t=this,!1}),i.push(t)}),a(i)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,a=this.opts.element,i=this;a.on("change.select2",this.bind(function(e){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var e=a.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=a.prop("readonly");n===t&&(n=!1),this.readonly(n),u(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(g(this.opts.containerCssClass,this.opts.element)),u(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(g(this.opts.dropdownCssClass,this.opts.element))}),a.length&&a[0].attachEvent&&a.each(function(){this.attachEvent("onpropertychange",i._sync)}),(n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){e.each(t,i._sync)}),this.propertyObserver.observe(a.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,a,i,r,o=this.dropdown,s=this.container.offset(),c=this.container.outerHeight(!1),l=this.container.outerWidth(!1),d=o.outerHeight(!1),u=e(window),p=u.width(),f=u.height(),h=u.scrollLeft()+p,m=u.scrollTop()+f,b=s.top+c,v=s.left,y=b+d<=m,x=s.top-d>=u.scrollTop(),w=o.outerWidth(!1),k=v+w<=h;o.hasClass("select2-drop-above")?(n=!0,!x&&y&&(a=!0,n=!1)):(n=!1,!y&&x&&(a=!0,n=!0)),a&&(o.hide(),s=this.container.offset(),c=this.container.outerHeight(!1),l=this.container.outerWidth(!1),d=o.outerHeight(!1),h=u.scrollLeft()+p,m=u.scrollTop()+f,b=s.top+c,k=(v=s.left)+(w=o.outerWidth(!1))<=h,o.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(r=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),(w=o.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:E.width))>l?l=w:w=l,d=o.outerHeight(!1),k=v+w<=h):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(b-=(t=this.body.offset()).top,v-=t.left),k||(v=s.left+this.container.outerWidth(!1)-w),i={left:v,width:l},n?(i.top=s.top-d,i.bottom="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(i.top=b,i.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=e.extend(i,g(this.opts.dropdownCss,this.opts.element)),o.css(i)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),T.on("mousemove.select2Event",function(e){A.x=e.pageX,A.y=e.pageY}),!0)},opening:function(){var t,a=this.containerEventName,i="scroll."+a,r="resize."+a,o="orientationchange."+a;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0==(t=e("#select2-drop-mask")).length&&((t=e(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(a){n(t);var i,r=e("#select2-drop");r.length>0&&((i=r.data("select2")).opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close(),a.preventDefault(),a.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+i+" "+o,function(e){s.opened()&&s.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,a="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(a).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),T.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return g(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,n,a,i,r,o,s,c,l=this.results;(n=this.highlight())<0||(0!=n?(t=this.findHighlightableChoices().find(".select2-result-label"),i=(c=((a=e(t[n])).offset()||{}).top||0)+a.outerHeight(!0),n===t.length-1&&(s=l.find("li.select2-more-results")).length>0&&(i=s.offset().top+s.outerHeight(!0)),i>(r=l.offset().top+l.outerHeight(!0))&&l.scrollTop(l.scrollTop()+(i-r)),(o=c-l.offset().top)<0&&"none"!=a.css("display")&&l.scrollTop(l.scrollTop()+o)):l.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),a=this.highlight();a>-1&&a<n.length;){var i=e(n[a+=t]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(a);break}}},highlight:function(t){var n,a,r=this.findHighlightableChoices();if(0===arguments.length)return i(r.filter(".select2-highlighted")[0],r.get());t>=r.length&&(t=r.length-1),t<0&&(t=0),this.removeHighlight(),(n=e(r[t])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),(a=n.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(a),choice:a})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var a=this.findHighlightableChoices();this.highlight(a.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n=this.resultsPage+1,a=this,i=this.search.val(),r=this.context;0!==t.length&&t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:i,page:n,context:r,matcher:this.opts.matcher,callback:this.bind(function(o){a.opened()&&(a.opts.populateResults.call(this,e,o.results,{term:i,page:n,context:r}),a.postprocessResults(o,!1,!1),!0===o.more?(t.detach().appendTo(e).text(g(a.opts.formatLoadMore,a.opts.element,n+1)),window.setTimeout(function(){a.loadMoreIfNeeded()},10)):t.remove(),a.positionDropdown(),a.resultsPage=n,a.context=o.context,this.opts.element.trigger({type:"select2-loaded",items:o}))})}))},tokenize:function(){},updateResults:function(n){function a(){l.removeClass("select2-active"),p.positionDropdown(),d.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?p.liveRegion.text(d.text()):p.liveRegion.text(p.opts.formatMatches(d.find(".select2-result-selectable").length))}function i(e){d.html(e),a()}var o,s,c,l=this.search,d=this.results,u=this.opts,p=this,f=l.val(),h=e.data(this.container,"select2-last-term");if((!0===n||!h||!r(f,h))&&(e.data(this.container,"select2-last-term",f),!0===n||!1!==this.showSearchInput&&this.opened())){c=++this.queryCount;var m=this.getMaximumSelectionSize();if(!(m>=1&&(o=this.data(),e.isArray(o)&&o.length>=m&&v(u.formatSelectionTooBig,"formatSelectionTooBig"))))return l.val().length<u.minimumInputLength?(i(v(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+g(u.formatInputTooShort,u.element,l.val(),u.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0))):void(u.maximumInputLength&&l.val().length>u.maximumInputLength?i(v(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+g(u.formatInputTooLong,u.element,l.val(),u.maximumInputLength)+"</li>":""):(u.formatSearching&&0===this.findHighlightableChoices().length&&i("<li class='select2-searching'>"+g(u.formatSearching,u.element)+"</li>"),l.addClass("select2-active"),this.removeHighlight(),(s=this.tokenize())!=t&&null!=s&&l.val(s),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(o){var s;c==this.queryCount&&(this.opened()?o.hasError!==t&&v(u.formatAjaxError,"formatAjaxError")?i("<li class='select2-ajax-error'>"+g(u.formatAjaxError,u.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>"):(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==l.val()&&(s=this.opts.createSearchChoice.call(p,l.val(),o.results))!==t&&null!==s&&p.id(s)!==t&&null!==p.id(s)&&0===e(o.results).filter(function(){return r(p.id(this),p.id(s))}).length&&this.opts.createSearchChoicePosition(o.results,s),0===o.results.length&&v(u.formatNoMatches,"formatNoMatches")?i("<li class='select2-no-results'>"+g(u.formatNoMatches,u.element,l.val())+"</li>"):(d.empty(),p.opts.populateResults.call(this,d,o.results,{term:l.val(),page:this.resultsPage,context:null}),!0===o.more&&v(u.formatLoadMore,"formatLoadMore")&&(d.append("<li class='select2-more-results'>"+u.escapeMarkup(g(u.formatLoadMore,u.element,this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),a(),this.opts.element.trigger({type:"select2-loaded",items:o}))):this.search.removeClass("select2-active"))})})));i("<li class='select2-selection-limit'>"+g(u.formatSelectionTooBig,u.element,m)+"</li>")}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){!function(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],a=e.val().length;e.focus(),(n.offsetWidth>0||n.offsetHeight>0)&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(a,a):n.createTextRange&&((t=n.createTextRange()).collapse(!1),t.select()))},0)}(this.search)},selectHighlighted:function(e){if(this._touchMoved)this.clearTouchMoved();else{var t=this.highlight(),n=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()}},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){var n=function(){var n,a,i,r,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((n=this.opts.element.attr("style"))!==t)for(r=0,o=(a=n.split(";")).length;r<o;r+=1)if(s=a[r].replace(/\s/g,""),null!==(i=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&i.length>=1)return i[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width")).indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==n&&this.container.css("width",n)}}),{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,a,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(n=this.search.get(0)).createTextRange?((a=n.createTextRange()).collapse(!1),a.select()):n.setSelectionRange&&(i=this.search.val().length,n.setSelectionRange(i,i))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),x.call(this,"selection","focusser")},initContainer:function(){var t,a,i=this.container,r=this.dropdown,o=I();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+o),this.focusser.attr("aria-labelledby","select2-chosen-"+o),this.results.attr("id","select2-results-"+o),this.search.attr("aria-owns","select2-results-"+o),this.focusser.attr("id","s2id_autogen"+o),a=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(a.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||a.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode)if(e.which!==M.PAGE_UP&&e.which!==M.PAGE_DOWN)switch(e.which){case M.UP:case M.DOWN:return this.moveHighlight(e.which===M.UP?-1:1),void d(e);case M.ENTER:return this.selectHighlighted(),void d(e);case M.TAB:return void this.selectHighlighted({noFocus:!0});case M.ESC:return this.cancel(e),void d(e)}else d(e)})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==M.TAB&&!M.isControl(e)&&!M.isFunctionKey(e)&&e.which!==M.ESC){if(!1!==this.opts.openOnEnter||e.which!==M.ENTER){if(e.which==M.DOWN||e.which==M.UP||e.which==M.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void d(e)}return e.which==M.DELETE||e.which==M.BACKSPACE?(this.opts.allowClear&&this.clear(),void d(e)):void 0}d(e)}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),function(e){e.preventDefault(),e.stopImmediatePropagation()}(e),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(a){n(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),d(a)})),r.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){d(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var a=e.Event("select2-clearing");if(this.opts.element.trigger(a),a.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(n,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var a=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(a))}:"data"in t&&(t.initSelection=t.initSelection||function(n,a){var i=n.val(),o=null;t.query({matcher:function(e,n,a){var s=r(i,t.id(a));return s&&(o=a),s},callback:e.isFunction(a)?function(){a(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var a=0,i=this;if(this.findHighlightableChoices().each2(function(e,t){if(r(i.id(t.data("select2-data")),i.opts.element.val()))return a=e,!1}),!1!==n&&(!0===t&&a>=0?this.highlight(a):this.highlight(0)),!0===t){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(y(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),a=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),r(n,this.id(e))||this.triggerChange({added:e,removed:a})}},updateSelection:function(e){var n,a,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),i.empty(),null!==e&&(n=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),n!==t&&i.append(n),(a=this.opts.formatSelectionCssClass(e,i))!==t&&i.addClass(a),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,a=null,i=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return a=i.optionToData(t),!1}),this.updateSelection(a),this.setPlaceholder(),n&&this.triggerChange({added:a,removed:r});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),n&&i.triggerChange({added:e,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,a=!1;if(0===arguments.length)return(n=this.selection.data("select2-data"))==t&&(n=null),n;arguments.length>1&&(a=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),a&&this.triggerChange({added:e,removed:n})):this.clear(a)}}),C=w(k,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var a=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){a.push(n.optionToData(t))}),t(a)}:"data"in t&&(t.initSelection=t.initSelection||function(n,a){var i=o(n.val(),t.separator),s=[];t.query({matcher:function(n,a,o){var c=e.grep(i,function(e){return r(e,t.id(o))}).length;return c&&s.push(o),c},callback:e.isFunction(a)?function(){for(var e=[],n=0;n<i.length;n++)for(var o=i[n],c=0;c<s.length;c++){var l=s[c];if(r(o,t.id(l))){e.push(l),s.splice(c,1);break}}a(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),x.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var a=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(t){a.search[0].focus(),a.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+I()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()){++this.keydowns;var a=t.find(".select2-search-choice-focus"),i=a.prev(".select2-search-choice:not(.select2-locked)"),r=a.next(".select2-search-choice:not(.select2-locked)"),o=function(t){var n=0,a=0;if("selectionStart"in(t=e(t)[0]))n=t.selectionStart,a=t.selectionEnd-n;else if("selection"in document){t.focus();var i=document.selection.createRange();a=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),n=i.text.length-a}return{offset:n,length:a}}(this.search);if(a.length&&(n.which==M.LEFT||n.which==M.RIGHT||n.which==M.BACKSPACE||n.which==M.DELETE||n.which==M.ENTER)){var s=a;return n.which==M.LEFT&&i.length?s=i:n.which==M.RIGHT?s=r.length?r:null:n.which===M.BACKSPACE?this.unselect(a.first())&&(this.search.width(10),s=i.length?i:r):n.which==M.DELETE?this.unselect(a.first())&&(this.search.width(10),s=r.length?r:null):n.which==M.ENTER&&(s=null),this.selectChoice(s),d(n),void(s&&s.length||this.open())}if((n.which===M.BACKSPACE&&1==this.keydowns||n.which==M.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void d(n);if(this.selectChoice(null),this.opened())switch(n.which){case M.UP:case M.DOWN:return this.moveHighlight(n.which===M.UP?-1:1),void d(n);case M.ENTER:return this.selectHighlighted(),void d(n);case M.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case M.ESC:return this.cancel(n),void d(n)}if(n.which!==M.TAB&&!M.isControl(n)&&!M.isFunctionKey(n)&&n.which!==M.BACKSPACE&&n.which!==M.ESC){if(n.which===M.ENTER){if(!1===this.opts.openOnEnter)return;if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return}this.open(),n.which!==M.PAGE_UP&&n.which!==M.PAGE_DOWN||d(n),n.which===M.ENTER&&d(n)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],a=[],r=this;e(t).each(function(){i(r.id(this),n)<0&&(n.push(r.id(this)),a.push(this))}),t=a,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var a,i,r=!n.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),c=r?o:s,l=this.id(n),u=this.getVal();(a=this.opts.formatSelection(n,c.find("div"),this.opts.escapeMarkup))!=t&&c.find("div").replaceWith("<div>"+a+"</div>"),(i=this.opts.formatSelectionCssClass(n,c.find("div")))!=t&&c.addClass(i),r&&c.find(".select2-search-choice-close").on("mousedown",d).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),d(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),c.data("select2-data",n),c.insertBefore(this.searchContainer),u.push(l),this.setVal(u)},unselect:function(t){var n,a,r=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var o=e.Event("select2-removing");if(o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(a=i(this.id(n),r))>=0;)r.splice(a,1),this.setVal(r),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var a=this.getVal(),r=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),s=this;r.each2(function(e,t){i(s.id(t.data("select2-data")),a)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&!1!==n&&s.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&v(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+g(s.opts.formatNoMatches,s.opts.element,s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-s(this.search)},resizeSearch:function(){var t,n,a,i,r=s(this.search);t=function(t){if(!_){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);(_=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),e("body").append(_)}return _.text(t.val()),_.width()}(this.search)+10,n=this.search.offset().left,(i=(a=this.selection.width())-(n-this.selection.offset().left)-r)<t&&(i=a-r),i<40&&(i=a-r),i<=0&&(i=t),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){i(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var n=0;n<t.length;n++)for(var a=0;a<e.length;a++)r(this.opts.id(t[n]),this.opts.id(e[a]))&&(t.splice(n,1),n>0&&n--,e.splice(a,1),a--);return{added:t,removed:e}},val:function(n,a){var i,r=this;if(0===arguments.length)return this.getVal();if((i=this.data()).length||(i=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(a&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),a&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,r.id);r.setVal(n),r.updateSelection(t),r.clearSearch(),a&&r.triggerChange(r.buildChangeDetails(i,r.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var a,i,r=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();i=this.data(),t||(t=[]),a=e.map(t,function(e){return r.opts.id(e)}),this.setVal(a),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(i,this.data()))}}),e.fn.select2=function(){var n,a,r,o,s,c=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],d=["opened","isFocused","container","dropdown"],u=["val","data"],p={search:"externalSearch"};return this.each(function(){if(0===c.length||"object"==typeof c[0])(n=0===c.length?{}:e.extend({},c[0])).element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?s=n.element.prop("multiple"):(s=n.multiple||!1,"tags"in n&&(n.multiple=s=!0)),(a=s?new window.Select2.class.multi:new window.Select2.class.single).init(n);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(i(c[0],l)<0)throw"Unknown method: "+c[0];if(o=t,(a=e(this).data("select2"))===t)return;if("container"===(r=c[0])?o=a.container:"dropdown"===r?o=a.dropdown:(p[r]&&(r=p[r]),o=a[r].apply(a,c.slice(1))),i(c[0],d)>=0||i(c[0],u)>=0&&1==c.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,a){var i=[];return p(e.text,n.term,i,a),i.join("")},formatSelection:function(e,n,a){return e?a(e.text):t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,n){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return a(""+t).toUpperCase().indexOf(a(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(e,n,a,i){var o,s,c,l,d,u=e,p=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){for(s=-1,c=0,l=i.tokenSeparators.length;c<l&&(d=i.tokenSeparators[c],!((s=e.indexOf(d))>=0));c++);if(s<0)break;if(o=e.substring(0,s),e=e.substring(s+d.length),o.length>0&&(o=i.createSearchChoice.call(this,o,n))!==t&&null!==o&&i.id(o)!==t&&null!==i.id(o)){for(p=!1,c=0,l=n.length;c<l;c++)if(r(i.id(o),i.id(n[c]))){p=!0;break}p||a(o)}}return u!==e?e:void 0},escapeMarkup:f,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,n){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!("ontouchstart"in window||navigator.msMaxTouchPoints>0)||!(e.opts.minimumResultsForSearch<0)}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(e,t,n){return"Loading failed"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results"},formatSearching:function(){return"Searching"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:h,local:m,tags:b},util:{debounce:l,markMatch:p,escapeMarkup:f,stripDiacritics:a},class:{abstract:k,single:S,multi:C}}}}(jQuery)},function(e,t,n){var a=n(254);"string"==typeof a&&(a=[[e.i,a,""]]);var i={};i.transform=void 0;n(42)(a,i);a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*\nVersion: @@ver@@ Timestamp: @@timestamp@@\n*/\n.select2-container {\n    margin: 0;\n    position: relative;\n    display: inline-block;\n    /* inline-block for ie7 */\n    zoom: 1;\n    *display: inline;\n    vertical-align: middle;\n}\n\n.select2-container,\n.select2-drop,\n.select2-search,\n.select2-search input {\n  /*\n    Force border-box so that % widths fit the parent\n    container without overlap because of margin/padding.\n    More Info : http://www.quirksmode.org/css/box.html\n  */\n  -webkit-box-sizing: border-box; /* webkit */\n     -moz-box-sizing: border-box; /* firefox */\n          box-sizing: border-box; /* css3 */\n}\n\n.select2-container .select2-choice {\n    display: block;\n    height: 26px;\n    padding: 0 0 0 8px;\n    overflow: hidden;\n    position: relative;\n\n    border: 1px solid #aaa;\n    white-space: nowrap;\n    line-height: 26px;\n    color: #444;\n    text-decoration: none;\n\n    border-radius: 4px;\n\n    background-clip: padding-box;\n\n    -webkit-touch-callout: none;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none;\n\n    background-color: #fff;\n    background-image: -webkit-gradient(linear, left bottom, left top, color-stop(0, #eee), color-stop(0.5, #fff));\n    background-image: -webkit-linear-gradient(center bottom, #eee 0%, #fff 50%);\n    background-image: -moz-linear-gradient(center bottom, #eee 0%, #fff 50%);\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#ffffff', endColorstr = '#eeeeee', GradientType = 0);\n    background-image: linear-gradient(to top, #eee 0%, #fff 50%);\n}\n\nhtml[dir=\"rtl\"] .select2-container .select2-choice {\n    padding: 0 8px 0 0;\n}\n\n.select2-container.select2-drop-above .select2-choice {\n    border-bottom-color: #aaa;\n\n    border-radius: 0 0 4px 4px;\n\n    background-image: -webkit-gradient(linear, left bottom, left top, color-stop(0, #eee), color-stop(0.9, #fff));\n    background-image: -webkit-linear-gradient(center bottom, #eee 0%, #fff 90%);\n    background-image: -moz-linear-gradient(center bottom, #eee 0%, #fff 90%);\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#eeeeee', GradientType=0);\n    background-image: linear-gradient(to bottom, #eee 0%, #fff 90%);\n}\n\n.select2-container.select2-allowclear .select2-choice .select2-chosen {\n    margin-right: 42px;\n}\n\n.select2-container .select2-choice > .select2-chosen {\n    margin-right: 26px;\n    display: block;\n    overflow: hidden;\n\n    white-space: nowrap;\n\n    text-overflow: ellipsis;\n    float: none;\n    width: auto;\n}\n\nhtml[dir=\"rtl\"] .select2-container .select2-choice > .select2-chosen {\n    margin-left: 26px;\n    margin-right: 0;\n}\n\n.select2-container .select2-choice abbr {\n    display: none;\n    width: 12px;\n    height: 12px;\n    position: absolute;\n    right: 24px;\n    top: 8px;\n\n    font-size: 1px;\n    text-decoration: none;\n\n    border: 0;\n    background: url("+n(19)+") right top no-repeat;\n    cursor: pointer;\n    outline: 0;\n}\n\n.select2-container.select2-allowclear .select2-choice abbr {\n    display: inline-block;\n}\n\n.select2-container .select2-choice abbr:hover {\n    background-position: right -11px;\n    cursor: pointer;\n}\n\n.select2-drop-mask {\n    border: 0;\n    margin: 0;\n    padding: 0;\n    position: fixed;\n    left: 0;\n    top: 0;\n    min-height: 100%;\n    min-width: 100%;\n    height: auto;\n    width: auto;\n    opacity: 0;\n    z-index: 9998;\n    /* styles required for IE to work */\n    background-color: #fff;\n    filter: alpha(opacity=0);\n}\n\n.select2-drop {\n    width: 100%;\n    margin-top: -1px;\n    position: absolute;\n    z-index: 9999;\n    top: 100%;\n\n    background: #fff;\n    color: #000;\n    border: 1px solid #aaa;\n    border-top: 0;\n\n    border-radius: 0 0 4px 4px;\n\n    -webkit-box-shadow: 0 4px 5px rgba(0, 0, 0, .15);\n            box-shadow: 0 4px 5px rgba(0, 0, 0, .15);\n}\n\n.select2-drop.select2-drop-above {\n    margin-top: 1px;\n    border-top: 1px solid #aaa;\n    border-bottom: 0;\n\n    border-radius: 4px 4px 0 0;\n\n    -webkit-box-shadow: 0 -4px 5px rgba(0, 0, 0, .15);\n            box-shadow: 0 -4px 5px rgba(0, 0, 0, .15);\n}\n\n.select2-drop-active {\n    border: 1px solid #5897fb;\n    border-top: none;\n}\n\n.select2-drop.select2-drop-above.select2-drop-active {\n    border-top: 1px solid #5897fb;\n}\n\n.select2-drop-auto-width {\n    border-top: 1px solid #aaa;\n    width: auto;\n}\n\n.select2-drop-auto-width .select2-search {\n    padding-top: 4px;\n}\n\n.select2-container .select2-choice .select2-arrow {\n    display: inline-block;\n    width: 18px;\n    height: 100%;\n    position: absolute;\n    right: 0;\n    top: 0;\n\n    border-left: 1px solid #aaa;\n    border-radius: 0 4px 4px 0;\n\n    background-clip: padding-box;\n\n    background: #ccc;\n    background-image: -webkit-gradient(linear, left bottom, left top, color-stop(0, #ccc), color-stop(0.6, #eee));\n    background-image: -webkit-linear-gradient(center bottom, #ccc 0%, #eee 60%);\n    background-image: -moz-linear-gradient(center bottom, #ccc 0%, #eee 60%);\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#eeeeee', endColorstr = '#cccccc', GradientType = 0);\n    background-image: linear-gradient(to top, #ccc 0%, #eee 60%);\n}\n\nhtml[dir=\"rtl\"] .select2-container .select2-choice .select2-arrow {\n    left: 0;\n    right: auto;\n\n    border-left: none;\n    border-right: 1px solid #aaa;\n    border-radius: 4px 0 0 4px;\n}\n\n.select2-container .select2-choice .select2-arrow b {\n    display: block;\n    width: 100%;\n    height: 100%;\n    background: url("+n(19)+') no-repeat 0 1px;\n}\n\nhtml[dir="rtl"] .select2-container .select2-choice .select2-arrow b {\n    background-position: 2px 1px;\n}\n\n.select2-search {\n    display: inline-block;\n    width: 100%;\n    min-height: 26px;\n    margin: 0;\n    padding-left: 4px;\n    padding-right: 4px;\n\n    position: relative;\n    z-index: 10000;\n\n    white-space: nowrap;\n}\n\n.select2-search input {\n    width: 100%;\n    height: auto !important;\n    min-height: 26px;\n    padding: 4px 20px 4px 5px;\n    margin: 0;\n\n    outline: 0;\n    font-family: sans-serif;\n    font-size: 1em;\n\n    border: 1px solid #aaa;\n    border-radius: 0;\n\n    -webkit-box-shadow: none;\n            box-shadow: none;\n\n    background: #fff url('+n(19)+") no-repeat 100% -22px;\n    background: url("+n(19)+") no-repeat 100% -22px, -webkit-gradient(linear, left bottom, left top, color-stop(0.85, #fff), color-stop(0.99, #eee));\n    background: url("+n(19)+") no-repeat 100% -22px, -webkit-linear-gradient(center bottom, #fff 85%, #eee 99%);\n    background: url("+n(19)+") no-repeat 100% -22px, -moz-linear-gradient(center bottom, #fff 85%, #eee 99%);\n    background: url("+n(19)+') no-repeat 100% -22px, linear-gradient(to bottom, #fff 85%, #eee 99%) 0 0;\n}\n\nhtml[dir="rtl"] .select2-search input {\n    padding: 4px 5px 4px 20px;\n\n    background: #fff url('+n(19)+") no-repeat -37px -22px;\n    background: url("+n(19)+") no-repeat -37px -22px, -webkit-gradient(linear, left bottom, left top, color-stop(0.85, #fff), color-stop(0.99, #eee));\n    background: url("+n(19)+") no-repeat -37px -22px, -webkit-linear-gradient(center bottom, #fff 85%, #eee 99%);\n    background: url("+n(19)+") no-repeat -37px -22px, -moz-linear-gradient(center bottom, #fff 85%, #eee 99%);\n    background: url("+n(19)+") no-repeat -37px -22px, linear-gradient(to bottom, #fff 85%, #eee 99%) 0 0;\n}\n\n.select2-drop.select2-drop-above .select2-search input {\n    margin-top: 4px;\n}\n\n.select2-search input.select2-active {\n    background: #fff url("+n(33)+") no-repeat 100%;\n    background: url("+n(33)+") no-repeat 100%, -webkit-gradient(linear, left bottom, left top, color-stop(0.85, #fff), color-stop(0.99, #eee));\n    background: url("+n(33)+") no-repeat 100%, -webkit-linear-gradient(center bottom, #fff 85%, #eee 99%);\n    background: url("+n(33)+") no-repeat 100%, -moz-linear-gradient(center bottom, #fff 85%, #eee 99%);\n    background: url("+n(33)+") no-repeat 100%, linear-gradient(to bottom, #fff 85%, #eee 99%) 0 0;\n}\n\n.select2-container-active .select2-choice,\n.select2-container-active .select2-choices {\n    border: 1px solid #5897fb;\n    outline: none;\n\n    -webkit-box-shadow: 0 0 5px rgba(0, 0, 0, .3);\n            box-shadow: 0 0 5px rgba(0, 0, 0, .3);\n}\n\n.select2-dropdown-open .select2-choice {\n    border-bottom-color: transparent;\n    -webkit-box-shadow: 0 1px 0 #fff inset;\n            box-shadow: 0 1px 0 #fff inset;\n\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n\n    background-color: #eee;\n    background-image: -webkit-gradient(linear, left bottom, left top, color-stop(0, #fff), color-stop(0.5, #eee));\n    background-image: -webkit-linear-gradient(center bottom, #fff 0%, #eee 50%);\n    background-image: -moz-linear-gradient(center bottom, #fff 0%, #eee 50%);\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#eeeeee', endColorstr='#ffffff', GradientType=0);\n    background-image: linear-gradient(to top, #fff 0%, #eee 50%);\n}\n\n.select2-dropdown-open.select2-drop-above .select2-choice,\n.select2-dropdown-open.select2-drop-above .select2-choices {\n    border: 1px solid #5897fb;\n    border-top-color: transparent;\n\n    background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #fff), color-stop(0.5, #eee));\n    background-image: -webkit-linear-gradient(center top, #fff 0%, #eee 50%);\n    background-image: -moz-linear-gradient(center top, #fff 0%, #eee 50%);\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#eeeeee', endColorstr='#ffffff', GradientType=0);\n    background-image: linear-gradient(to bottom, #fff 0%, #eee 50%);\n}\n\n.select2-dropdown-open .select2-choice .select2-arrow {\n    background: transparent;\n    border-left: none;\n    filter: none;\n}\nhtml[dir=\"rtl\"] .select2-dropdown-open .select2-choice .select2-arrow {\n    border-right: none;\n}\n\n.select2-dropdown-open .select2-choice .select2-arrow b {\n    background-position: -18px 1px;\n}\n\nhtml[dir=\"rtl\"] .select2-dropdown-open .select2-choice .select2-arrow b {\n    background-position: -16px 1px;\n}\n\n.select2-hidden-accessible {\n    border: 0;\n    clip: rect(0 0 0 0);\n    height: 1px;\n    margin: -1px;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    width: 1px;\n}\n\n/* results */\n.select2-results {\n    max-height: 200px;\n    padding: 0 0 0 4px;\n    margin: 4px 4px 4px 0;\n    position: relative;\n    overflow-x: hidden;\n    overflow-y: auto;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nhtml[dir=\"rtl\"] .select2-results {\n    padding: 0 4px 0 0;\n    margin: 4px 0 4px 4px;\n}\n\n.select2-results ul.select2-result-sub {\n    margin: 0;\n    padding-left: 0;\n}\n\n.select2-results li {\n    list-style: none;\n    display: list-item;\n    background-image: none;\n}\n\n.select2-results li.select2-result-with-children > .select2-result-label {\n    font-weight: bold;\n}\n\n.select2-results .select2-result-label {\n    padding: 3px 7px 4px;\n    margin: 0;\n    cursor: pointer;\n\n    min-height: 1em;\n\n    -webkit-touch-callout: none;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none;\n}\n\n.select2-results-dept-1 .select2-result-label { padding-left: 20px }\n.select2-results-dept-2 .select2-result-label { padding-left: 40px }\n.select2-results-dept-3 .select2-result-label { padding-left: 60px }\n.select2-results-dept-4 .select2-result-label { padding-left: 80px }\n.select2-results-dept-5 .select2-result-label { padding-left: 100px }\n.select2-results-dept-6 .select2-result-label { padding-left: 110px }\n.select2-results-dept-7 .select2-result-label { padding-left: 120px }\n\n.select2-results .select2-highlighted {\n    background: #3875d7;\n    color: #fff;\n}\n\n.select2-results li em {\n    background: #feffde;\n    font-style: normal;\n}\n\n.select2-results .select2-highlighted em {\n    background: transparent;\n}\n\n.select2-results .select2-highlighted ul {\n    background: #fff;\n    color: #000;\n}\n\n.select2-results .select2-no-results,\n.select2-results .select2-searching,\n.select2-results .select2-ajax-error,\n.select2-results .select2-selection-limit {\n    background: #f4f4f4;\n    display: list-item;\n    padding-left: 5px;\n}\n\n/*\ndisabled look for disabled choices in the results dropdown\n*/\n.select2-results .select2-disabled.select2-highlighted {\n    color: #666;\n    background: #f4f4f4;\n    display: list-item;\n    cursor: default;\n}\n.select2-results .select2-disabled {\n  background: #f4f4f4;\n  display: list-item;\n  cursor: default;\n}\n\n.select2-results .select2-selected {\n    display: none;\n}\n\n.select2-more-results.select2-active {\n    background: #f4f4f4 url("+n(33)+') no-repeat 100%;\n}\n\n.select2-results .select2-ajax-error {\n    background: rgba(255, 50, 50, .2);\n}\n\n.select2-more-results {\n    background: #f4f4f4;\n    display: list-item;\n}\n\n/* disabled styles */\n\n.select2-container.select2-container-disabled .select2-choice {\n    background-color: #f4f4f4;\n    background-image: none;\n    border: 1px solid #ddd;\n    cursor: default;\n}\n\n.select2-container.select2-container-disabled .select2-choice .select2-arrow {\n    background-color: #f4f4f4;\n    background-image: none;\n    border-left: 0;\n}\n\n.select2-container.select2-container-disabled .select2-choice abbr {\n    display: none;\n}\n\n\n/* multiselect */\n\n.select2-container-multi .select2-choices {\n    height: auto !important;\n    height: 1%;\n    margin: 0;\n    padding: 0 5px 0 0;\n    position: relative;\n\n    border: 1px solid #aaa;\n    cursor: text;\n    overflow: hidden;\n\n    background-color: #fff;\n    background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, color-stop(1%, #eee), color-stop(15%, #fff));\n    background-image: -webkit-linear-gradient(top, #eee 1%, #fff 15%);\n    background-image: -moz-linear-gradient(top, #eee 1%, #fff 15%);\n    background-image: linear-gradient(to bottom, #eee 1%, #fff 15%);\n}\n\nhtml[dir="rtl"] .select2-container-multi .select2-choices {\n    padding: 0 0 0 5px;\n}\n\n.select2-locked {\n  padding: 3px 5px 3px 5px !important;\n}\n\n.select2-container-multi .select2-choices {\n    min-height: 26px;\n}\n\n.select2-container-multi.select2-container-active .select2-choices {\n    border: 1px solid #5897fb;\n    outline: none;\n\n    -webkit-box-shadow: 0 0 5px rgba(0, 0, 0, .3);\n            box-shadow: 0 0 5px rgba(0, 0, 0, .3);\n}\n.select2-container-multi .select2-choices li {\n    float: left;\n    list-style: none;\n}\nhtml[dir="rtl"] .select2-container-multi .select2-choices li\n{\n    float: right;\n}\n.select2-container-multi .select2-choices .select2-search-field {\n    margin: 0;\n    padding: 0;\n    white-space: nowrap;\n}\n\n.select2-container-multi .select2-choices .select2-search-field input {\n    padding: 5px;\n    margin: 1px 0;\n\n    font-family: sans-serif;\n    font-size: 100%;\n    color: #666;\n    outline: 0;\n    border: 0;\n    -webkit-box-shadow: none;\n            box-shadow: none;\n    background: transparent !important;\n}\n\n.select2-container-multi .select2-choices .select2-search-field input.select2-active {\n    background: #fff url('+n(33)+") no-repeat 100% !important;\n}\n\n.select2-default {\n    color: #999 !important;\n}\n\n.select2-container-multi .select2-choices .select2-search-choice {\n    padding: 3px 5px 3px 18px;\n    margin: 3px 0 3px 5px;\n    position: relative;\n\n    line-height: 13px;\n    color: #333;\n    cursor: default;\n    border: 1px solid #aaaaaa;\n\n    border-radius: 3px;\n\n    -webkit-box-shadow: 0 0 2px #fff inset, 0 1px 0 rgba(0, 0, 0, 0.05);\n            box-shadow: 0 0 2px #fff inset, 0 1px 0 rgba(0, 0, 0, 0.05);\n\n    background-clip: padding-box;\n\n    -webkit-touch-callout: none;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none;\n\n    background-color: #e4e4e4;\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#eeeeee', endColorstr='#f4f4f4', GradientType=0);\n    background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, color-stop(20%, #f4f4f4), color-stop(50%, #f0f0f0), color-stop(52%, #e8e8e8), color-stop(100%, #eee));\n    background-image: -webkit-linear-gradient(top, #f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eee 100%);\n    background-image: -moz-linear-gradient(top, #f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eee 100%);\n    background-image: linear-gradient(to bottom, #f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eee 100%);\n}\nhtml[dir=\"rtl\"] .select2-container-multi .select2-choices .select2-search-choice\n{\n    margin: 3px 5px 3px 0;\n    padding: 3px 18px 3px 5px;\n}\n.select2-container-multi .select2-choices .select2-search-choice .select2-chosen {\n    cursor: default;\n}\n.select2-container-multi .select2-choices .select2-search-choice-focus {\n    background: #d4d4d4;\n}\n\n.select2-search-choice-close {\n    display: block;\n    width: 12px;\n    height: 13px;\n    position: absolute;\n    right: 3px;\n    top: 4px;\n\n    font-size: 1px;\n    outline: none;\n    background: url("+n(19)+') right top no-repeat;\n}\nhtml[dir="rtl"] .select2-search-choice-close {\n    right: auto;\n    left: 3px;\n}\n\n.select2-container-multi .select2-search-choice-close {\n    left: 3px;\n}\n\nhtml[dir="rtl"] .select2-container-multi .select2-search-choice-close {\n    left: auto;\n    right: 2px;\n}\n\n.select2-container-multi .select2-choices .select2-search-choice .select2-search-choice-close:hover {\n  background-position: right -11px;\n}\n.select2-container-multi .select2-choices .select2-search-choice-focus .select2-search-choice-close {\n    background-position: right -11px;\n}\n\n/* disabled styles */\n.select2-container-multi.select2-container-disabled .select2-choices {\n    background-color: #f4f4f4;\n    background-image: none;\n    border: 1px solid #ddd;\n    cursor: default;\n}\n\n.select2-container-multi.select2-container-disabled .select2-choices .select2-search-choice {\n    padding: 3px 5px 3px 5px;\n    border: 1px solid #ddd;\n    background-image: none;\n    background-color: #f4f4f4;\n}\n\n.select2-container-multi.select2-container-disabled .select2-choices .select2-search-choice .select2-search-choice-close {    display: none;\n    background: none;\n}\n/* end multiselect */\n\n\n.select2-result-selectable .select2-match,\n.select2-result-unselectable .select2-match {\n    text-decoration: underline;\n}\n\n.select2-offscreen, .select2-offscreen:focus {\n    clip: rect(0 0 0 0) !important;\n    width: 1px !important;\n    height: 1px !important;\n    border: 0 !important;\n    margin: 0 !important;\n    padding: 0 !important;\n    overflow: hidden !important;\n    position: absolute !important;\n    outline: 0 !important;\n    left: 0px !important;\n    top: 0px !important;\n}\n\n.select2-display-none {\n    display: none;\n}\n\n.select2-measure-scrollbar {\n    position: absolute;\n    top: -10000px;\n    left: -10000px;\n    width: 100px;\n    height: 100px;\n    overflow: scroll;\n}\n\n/* Retina-ize icons */\n\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min-resolution: 2dppx)  {\n    .select2-search input,\n    .select2-search-choice-close,\n    .select2-container .select2-choice abbr,\n    .select2-container .select2-choice .select2-arrow b {\n        background-image: url('+n(255)+") !important;\n        background-repeat: no-repeat !important;\n        background-size: 60px 40px !important;\n    }\n\n    .select2-search input {\n        background-position: 100% -21px !important;\n    }\n}\n",""])},function(e,t,n){e.exports=n.p+"49e3f006018662f60f1db2aec0b2cca9.png"},function(e,t,n){var a=n(257);"string"==typeof a&&(a=[[e.i,a,""]]);var i={};i.transform=void 0;n(42)(a,i);a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,'/*! Select2 Bootstrap 3 CSS v1.4.6 | MIT License | github.com/t0m/select2-bootstrap-css\nThis file has been modified by Brian Schrader.\n*/\n.select2-container.form-control {\n  background: transparent;\n  box-shadow: none;\n  display: block;\n  /* 1 */\n  margin: 0;\n  padding: 0;\n  height:100%;\n}\n\n/**\n * Adjust Select2 inputs to fit Bootstrap 3 default .form-control appearance.\n */\n.select2-container .select2-choices .select2-search-field input,\n.select2-container .select2-choice,\n.select2-container .select2-choices {\n  background: none;\n  padding: 0;\n  border:none;\n  border-radius: 0px;\n  color: #555555;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  background-color: white;\n  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n}\n\n.select2-search input {\n  border-color: #cccccc;\n  border-radius: 4px;\n  color: #555555;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  background-color: white;\n  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n}\n\n.select2-container .select2-choices .select2-search-field input {\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n/**\n * Adjust Select2 input heights to match the Bootstrap default.\n */\n.select2-container .select2-choice {\n  height: 34px;\n  line-height: 1.42857;\n}\n\n/**\n * Address Multi Select2\'s height which - depending on how many elements have been selected -\n * may grown higher than their initial size.\n */\n.select2-container.select2-container-multi.form-control {\n  height: auto;\n}\n\n/**\n * Address Bootstrap 3 control sizing classes\n * @see http://getbootstrap.com/css/#forms-control-sizes\n */\n.select2-container.input-sm .select2-choice,\n.input-group-sm .select2-container .select2-choice {\n  height: 30px;\n  line-height: 1.5;\n  border-radius: 3px;\n}\n\n.select2-container.input-lg .select2-choice,\n.input-group-lg .select2-container .select2-choice {\n  height: 46px;\n  line-height: 1.33333;\n  border-radius: 6px;\n}\n\n.select2-container-multi .select2-choices .select2-search-field input {\n  height: 32px;\n}\n\n.select2-container-multi.input-sm .select2-choices .select2-search-field input,\n.input-group-sm .select2-container-multi .select2-choices .select2-search-field input {\n  height: 28px;\n}\n\n.select2-container-multi.input-lg .select2-choices .select2-search-field input,\n.input-group-lg .select2-container-multi .select2-choices .select2-search-field input {\n  height: 44px;\n}\n\n/**\n * Adjust height and line-height for .select2-search-field amd multi-select Select2 widgets.\n *\n * 1. Class repetition to address missing .select2-chosen in Select2 < 3.3.2.\n */\n.select2-container-multi .select2-choices .select2-search-field input {\n  margin: 0;\n}\n\n.select2-chosen,\n.select2-choice > span:first-child,\n.select2-container .select2-choices .select2-search-field input {\n  padding: 6px 12px;\n}\n\n.input-sm .select2-chosen,\n.input-group-sm .select2-chosen,\n.input-sm .select2-choice > span:first-child,\n.input-group-sm .select2-choice > span:first-child,\n.input-sm .select2-choices .select2-search-field input,\n.input-group-sm .select2-choices .select2-search-field input {\n  padding: 5px 10px;\n}\n\n.input-lg .select2-chosen,\n.input-group-lg .select2-chosen,\n.input-lg .select2-choice > span:first-child,\n.input-group-lg .select2-choice > span:first-child,\n.input-lg .select2-choices .select2-search-field input,\n.input-group-lg .select2-choices .select2-search-field input {\n  padding: 10px 16px;\n}\n\n.select2-container-multi .select2-choices .select2-search-choice {\n  margin-top: 5px;\n  margin-bottom: 3px;\n}\n\n.select2-container-multi.input-sm .select2-choices .select2-search-choice,\n.input-group-sm .select2-container-multi .select2-choices .select2-search-choice {\n  margin-top: 3px;\n  margin-bottom: 2px;\n}\n\n.select2-container-multi.input-lg .select2-choices .select2-search-choice,\n.input-group-lg .select2-container-multi .select2-choices .select2-search-choice {\n  line-height: 24px;\n}\n\n/**\n * Adjust the single Select2\'s dropdown arrow button appearance.\n *\n * 1. For Select2 v.3.3.2.\n */\n.select2-container .select2-choice .select2-arrow,\n.select2-container .select2-choice div {\n  border-left: none;\n  background: none;\n  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);\n}\n\n.select2-dropdown-open .select2-choice .select2-arrow,\n.select2-dropdown-open .select2-choice div {\n  border-left-color: transparent;\n  background: none;\n  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);\n}\n\n/**\n * Adjust the dropdown arrow button icon position for the single-select Select2 elements\n * to make it line up vertically now that we increased the height of .select2-container.\n *\n * 1. Class repetition to address missing .select2-chosen in Select2 v.3.3.2.\n */\n.select2-container .select2-choice .select2-arrow b,\n.select2-container .select2-choice div b {\n  background-position: 0 3px;\n}\n\n.select2-dropdown-open .select2-choice .select2-arrow b,\n.select2-dropdown-open .select2-choice div b {\n  background-position: -18px 3px;\n}\n\n.select2-container.input-sm .select2-choice .select2-arrow b,\n.input-group-sm .select2-container .select2-choice .select2-arrow b,\n.select2-container.input-sm .select2-choice div b,\n.input-group-sm .select2-container .select2-choice div b {\n  background-position: 0 1px;\n}\n\n.select2-dropdown-open.input-sm .select2-choice .select2-arrow b,\n.input-group-sm .select2-dropdown-open .select2-choice .select2-arrow b,\n.select2-dropdown-open.input-sm .select2-choice div b,\n.input-group-sm .select2-dropdown-open .select2-choice div b {\n  background-position: -18px 1px;\n}\n\n.select2-container.input-lg .select2-choice .select2-arrow b,\n.input-group-lg .select2-container .select2-choice .select2-arrow b,\n.select2-container.input-lg .select2-choice div b,\n.input-group-lg .select2-container .select2-choice div b {\n  background-position: 0 9px;\n}\n\n.select2-dropdown-open.input-lg .select2-choice .select2-arrow b,\n.input-group-lg .select2-dropdown-open .select2-choice .select2-arrow b,\n.select2-dropdown-open.input-lg .select2-choice div b,\n.input-group-lg .select2-dropdown-open .select2-choice div b {\n  background-position: -18px 9px;\n}\n\n/**\n * Address Bootstrap\'s validation states and change Select2\'s border colors and focus states.\n * Apply .has-warning, .has-danger or .has-succes to #select2-drop to match Bootstraps\' colors.\n */\n.has-warning .select2-choice,\n.has-warning .select2-choices {\n  border-color: #8a6d3b;\n}\n.has-warning .select2-container-active .select2-choice,\n.has-warning .select2-container-multi.select2-container-active .select2-choices {\n  border-color: #66512c;\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;\n}\n.has-warning.select2-drop-active {\n  border-color: none;\n}\n.has-warning.select2-drop-active.select2-drop.select2-drop-above {\n  border-top-color: none;\n}\n\n.has-error .select2-choice,\n.has-error .select2-choices {\n  border-color: #a94442;\n}\n.has-error .select2-container-active .select2-choice,\n.has-error .select2-container-multi.select2-container-active .select2-choices {\n  border-color: #843534;\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;\n}\n.has-error.select2-drop-active {\n  border-color: #843534;\n}\n.has-error.select2-drop-active.select2-drop.select2-drop-above {\n  border-top-color: #843534;\n}\n\n.has-success .select2-choice,\n.has-success .select2-choices {\n  border-color: #3c763d;\n}\n.has-success .select2-container-active .select2-choice,\n.has-success .select2-container-multi.select2-container-active .select2-choices {\n  border-color: #2b542c;\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;\n}\n.has-success.select2-drop-active {\n  border-color: #2b542c;\n}\n.has-success.select2-drop-active.select2-drop.select2-drop-above {\n  border-top-color: #2b542c;\n}\n\n/**\n * Make Select2\'s active-styles - applied to .select2-container when the widget receives focus -\n * fit Bootstrap 3\'s .form-element:focus appearance.\n */\n.select2-container-active .select2-choice,\n.select2-container-multi.select2-container-active .select2-choices {\n  border-color: #66afe9;\n  outline: none;\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(102, 175, 233, 0.6);\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(102, 175, 233, 0.6);\n  -webkit-transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  -o-transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n}\n\n.select2-drop-active {\n  border-color: #aaa;\n}\n\n.select2-drop-auto-width,\n.select2-drop.select2-drop-above.select2-drop-active {\n  border-top-color: #66afe9;\n}\n\n/**\n * Select2 widgets in Bootstrap Input Groups\n *\n * When Select2 widgets are combined with other elements using Bootstrap 3\'s\n * "Input Group" component, we don\'t want specific edges of the Select2 container\n * to have a border-radius.\n *\n * In Bootstrap 2, input groups required a markup where these style adjustments\n * could be bound to a CSS-class identifying if the additional elements are appended,\n * prepended or both.\n *\n * Bootstrap 3 doesn\'t rely on these classes anymore, so we have to use our own.\n * Use .select2-bootstrap-prepend and .select2-bootstrap-append on a Bootstrap 3 .input-group\n * to let the contained Select2 widget know which edges should not be rounded as they are\n * directly followed by another element.\n *\n * @see http://getbootstrap.com/components/#input-groups\n */\n.input-group.select2-bootstrap-prepend [class^="select2-choice"] {\n  border-bottom-left-radius: 0 !important;\n  border-top-left-radius: 0 !important;\n}\n\n.input-group.select2-bootstrap-append [class^="select2-choice"] {\n  border-bottom-right-radius: 0 !important;\n  border-top-right-radius: 0 !important;\n}\n\n.select2-dropdown-open [class^="select2-choice"] {\n  border-bottom-right-radius: 0 !important;\n  border-bottom-left-radius: 0 !important;\n}\n\n.select2-dropdown-open.select2-drop-above [class^="select2-choice"] {\n  border-top-right-radius: 0 !important;\n  border-top-left-radius: 0 !important;\n  border-bottom-right-radius: 4px !important;\n  border-bottom-left-radius: 4px !important;\n  background: white;\n  filter: none;\n}\n.input-group.select2-bootstrap-prepend .select2-dropdown-open.select2-drop-above [class^="select2-choice"] {\n  border-bottom-left-radius: 0 !important;\n  border-top-left-radius: 0 !important;\n}\n.input-group.select2-bootstrap-append .select2-dropdown-open.select2-drop-above [class^="select2-choice"] {\n  border-bottom-right-radius: 0 !important;\n  border-top-right-radius: 0 !important;\n}\n.input-group.input-group-sm.select2-bootstrap-prepend .select2-dropdown-open.select2-drop-above [class^="select2-choice"] {\n  border-bottom-right-radius: 3px !important;\n}\n.input-group.input-group-lg.select2-bootstrap-prepend .select2-dropdown-open.select2-drop-above [class^="select2-choice"] {\n  border-bottom-right-radius: 6px !important;\n}\n.input-group.input-group-sm.select2-bootstrap-append .select2-dropdown-open.select2-drop-above [class^="select2-choice"] {\n  border-bottom-left-radius: 3px !important;\n}\n.input-group.input-group-lg.select2-bootstrap-append .select2-dropdown-open.select2-drop-above [class^="select2-choice"] {\n  border-bottom-left-radius: 6px !important;\n}\n\n/**\n * Adjust Select2\'s choices hover and selected styles to match Bootstrap 3\'s default dropdown styles.\n */\n.select2-results .select2-highlighted {\n  color: white;\n  background-color: #2c3e50;\n}\n\n/**\n * Adjust alignment of Bootstrap 3 buttons in Bootstrap 3 Input Groups to address\n * Multi Select2\'s height which - depending on how many elements have been selected -\n * may grown higher than their initial size.\n */\n.select2-bootstrap-append .select2-container-multiple,\n.select2-bootstrap-append .input-group-btn,\n.select2-bootstrap-append .input-group-btn .btn,\n.select2-bootstrap-prepend .select2-container-multiple,\n.select2-bootstrap-prepend .input-group-btn,\n.select2-bootstrap-prepend .input-group-btn .btn {\n  vertical-align: top;\n}\n\n/**\n * Make Multi Select2\'s choices match Bootstrap 3\'s default button styles.\n */\n.select2-container-multi .select2-choices .select2-search-choice {\n  color: #555555;\n  background: white;\n  border-color: #cccccc;\n  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.select2-container-multi .select2-choices .select2-search-choice-focus {\n  background: #ebebeb;\n  border-color: #adadad;\n  color: #333333;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n/**\n * Address Multi Select2\'s choice close-button vertical alignment.\n */\n.select2-search-choice-close {\n  margin-top: -7px;\n  top: 50%;\n}\n\n/**\n * Adjust the single Select2\'s clear button position (used to reset the select box\n * back to the placeholder value and visible once a selection is made\n * activated by Select2\'s "allowClear" option).\n */\n.select2-container .select2-choice abbr {\n  top: 50%;\n}\n\n/**\n * Adjust "no results" and "selection limit" messages to make use\n * of Bootstrap 3\'s default "Alert" style.\n *\n * @see http://getbootstrap.com/components/#alerts-default\n */\n.select2-results .select2-no-results,\n.select2-results .select2-searching,\n.select2-results .select2-selection-limit {\n  background-color: #fcf8e3;\n  color: #8a6d3b;\n}\n\n/**\n * Address disabled Select2 styles.\n *\n * 1. For Select2 v.3.3.2.\n * 2. Revert border-left:0 inherited from Select2\'s CSS to prevent the arrow\n *    from jumping when switching from disabled to enabled state and vice versa.\n */\n.select2-container.select2-container-disabled .select2-choice,\n.select2-container.select2-container-disabled .select2-choices {\n  cursor: not-allowed;\n  background-color: #eeeeee;\n  border-color: #cccccc;\n}\n.select2-container.select2-container-disabled .select2-choice .select2-arrow,\n.select2-container.select2-container-disabled .select2-choice div,\n.select2-container.select2-container-disabled .select2-choices .select2-arrow,\n.select2-container.select2-container-disabled .select2-choices div {\n  background-color: transparent;\n  border-left: 1px solid transparent;\n  /* 2 */\n}\n\n/**\n * Address Select2\'s loading indicator position - which should not stick\n * to the right edge of Select2\'s search input.\n *\n * 1. in .select2-search input\n * 2. in Multi Select2\'s .select2-search-field input\n * 3. in the status-message of infinite-scroll with remote data (@see http://ivaynberg.github.io/select2/#infinite)\n *\n * These styles alter Select2\'s default background-position of 100%\n * and supply the new background-position syntax to browsers which support it:\n *\n * 1. Android, Safari < 6/Mobile, IE<9: change to a relative background-position of 99%\n * 2. Chrome 25+, Firefox 13+, IE 9+, Opera 10.5+: use the new CSS3-background-position syntax\n *\n * @see http://www.w3.org/TR/css3-background/#background-position\n *\n * @todo Since both Select2 and Bootstrap 3 only support IE8 and above,\n * we could use the :after-pseudo-element to display the loading indicator.\n * Alternatively, we could supply an altered loading indicator image which already\n * contains an offset to the right.\n */\n.select2-search input.select2-active,\n.select2-container-multi .select2-choices .select2-search-field input.select2-active,\n.select2-more-results.select2-active {\n  background-position: 99%;\n  /* 4 */\n  background-position: right 4px center;\n  /* 5 */\n}\n\n/**\n * To support Select2 pre v3.4.2 in combination with Bootstrap v3.2.0,\n * ensure that .select2-offscreen width, height and position can not be overwritten.\n *\n * This adresses changes in Bootstrap somewhere after the initial v3.0.0 which -\n * in combination with Select2\'s pre-v3.4.2 CSS missing the "!important" after\n * the following rules - allow Bootstrap to overwrite the latter, which results in\n * the original <select> element Select2 is replacing not be properly being hidden\n * when used in a "Bootstrap Input Group with Addon".\n **/\n.select2-offscreen,\n.select2-offscreen:focus {\n  width: 1px !important;\n  height: 1px !important;\n  position: absolute !important;\n}\n',""])},function(e,t,n){"use strict";n(259),n(260),n(263),n(265),n(266)},function(e,t,n){"use strict";var a=n(0),i=n.n(a);i.a.components.register("image-picker",{viewModel:function(e){var t=this;t.cells=e.cells||i.a.observableArray(),t.selectedCells=e.selectedCells||i.a.observableArray(),t.multiselect=void 0==e.multiselect||e.multiselect,t.selectCell=function(e){-1==t.selectedCells().indexOf(e)?t.multiselect?t.selectedCells.push(e):t.selectedCells([e]):t.selectedCells.remove(e)},t.isActiveCSS=function(e){var n=t.selectedCells();return n&&n.indexOf(e)>-1?"active":""}},template:'        <div data-bind="foreach: cells" class="row row-padded">          <div class="col-md-3 col-xs-6 text-center col-padded">            <img data-bind="attr: { src: image }, css: $parent.isActiveCSS($data), click: $parent.selectCell"                width="80" height="80" class="img img-circle img-padded" /><br />            <p class="text-muted" data-bind="text: name"></p>          </div>        </div>    '})},function(e,t,n){"use strict";n(261);var a=n(0),i=n.n(a);i.a.components.register("markdown-edit-preview",{viewModel:function(e){var t=this;t.text=e.text,t.rows=e.rows||i.a.observable(20),t.placeholder=e.placeholder||i.a.observable(),t.previewHeight=e.previewHeight||i.a.observable(0),t.previewTabStatus=i.a.observable(""),t.editTabStatus=i.a.observable(""),t.selectPreviewTab=function(){t.previewTabStatus("active"),t.editTabStatus("")},t.selectEditTab=function(){t.editTabStatus("active"),t.previewTabStatus("")},i.a.unwrap(t.text)||"preview"===i.a.unwrap(e.defaultActiveTab)?t.selectPreviewTab():t.selectEditTab()},template:'    \x3c!-- Begin Tabs --\x3e    <ul class="nav nav-tabs tabs">      <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">        <a href="#" role="tab" data-toggle="tab">            <b>Preview</b>        </a>      </li>      <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">        <a href="#" role="tab" data-toggle="tab">            <b>Edit</b>        </a>      </li>    </ul>    <div class="tab-content">      <div role="tabpanel" data-bind="css: previewTabStatus"         class="tab-pane">            <div class="row row-padded">                <div class="col-xs-12 col-padded">                    <div data-bind="markdownPreview: text"></div>                </div>            </div>      </div>      <div role="tabpanel" data-bind="css: editTabStatus"         class="tab-pane">        <div class="form-horizontal">          <textarea class="form-control dark-area" rows="20"            data-bind="textInput: text, markdownEditor: true,               attr: { placeholder: placeholder }"></textarea>        </div>      </div>      <small class="text-muted">Text in this panel can be styled using Markdown. Click         <a target="_blank" href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">here</a>        to see a guide.      </small>    </div>'})},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(262),o=(n.n(r),n(52)),s=n.n(o);i.a.bindingHandlers.markdownEditor={editors:{},init:function(e,t,n){i.a.unwrap(t()),$(e).markdownEditor()}},i.a.bindingHandlers.markdownPreview={init:function(e,t,n){var a=i.a.unwrap(t())||"";$(e).html(s()(a))},update:function(e,t,n){var a=i.a.unwrap(t())||"";$(e).html(s()(a))}}},function(e,t){(function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};e={tab:9,enter:13,ctrl:17,space:32,b:66,i:73,u:85,q:81},t=function(){function t(t,a){var i,r;for(this.el=t,this.options=a,this.onPressTab=n(this.onPressTab,this),this.$el=$(this.el),this.selectionBegin=this.selectionEnd=0,this.tabSpaces="",i=0,r=this.options.tabSize;0<=r?i<r:i>r;0<=r?++i:--i)this.tabSpaces+=" ";this.$el.on("keydown.markdownEditor",function(t){return function(n){var a,i;if(n.keyCode!==e.enter||n.shiftKey||(t.options.list&&t.supportInputListFormat(n),t.options.table&&t.supportInputTableFormat(n),t.options.codeblock&&t.supportCodeblockFormat(n)),n.keyCode!==e.space||!n.shiftKey||n.ctrlKey||n.metaKey||(i=t.getTextArray(),a=t.getCurrentLine(i),t.options.list&&t.toggleCheck(n,i,a),t.options.autoTable&&t.makeTable(n,i,a),t.options.csvToTable&&t.csvToTable(n,i,a),t.options.sortTable&&t.sortTable(n,i,a),t.options.tableFunction&&t.tableFunction(n,i,a)),n.keyCode===e.tab&&t.onPressTab(n),n.ctrlKey&&!n.metaKey&&!n.shiftKey&&n.which!==e.ctrl)return t.withCtrl(n)}}(this))}var a,i,r,o,s,c,l,d,u,p,f;return c=/^(\s*(-|\*|\+|\d+?\.)\s+(\[(\s|x)\]\s+)?)(\S*)/,s=/^\s{0,3}\s*((-\s+-\s+-(\s+-)*)|(\*\s+\*\s+\*(\s+\*)*))\s*$/,u=/^\s{0,3}\|(.*?\|)+\s*$/,p=/^\s{0,3}\|(\s*:?---+:?\s*\|)+\s*$/,i=/^\s{0,3}\|(\s*?\|)+\s*$/,a=/^\s{0,3}((```+)|(~~~+))(\S*\s*)$/,r=/^\s{0,3}((```+)|(~~~+))$/,l=/^(:?)(\d+)x(\d+)(:?)$/,d=/^-?\d+[\d\.]*$/,o=/^=\s*(\S+)\s*$/,f=["sum","average","max","min","count"],t.prototype.getTextArray=function(){return this.getText().split("")},t.prototype.getText=function(){return this.el.value},t.prototype.supportInputListFormat=function(e){var t,n,a,i,r,o;if(o=this.getTextArray(),!(n=this.getCurrentLine(o)).match(s)&&(i=n.match(c))&&(r=this.getSelectionStart(),!o[r]||"\n"===o[r])){if(!(i[5].length<=0))return a=e.ctrlKey?this.tabSpaces:"",this.insert(o,"\n"+a+i[1]),e.preventDefault(),"function"==typeof(t=this.options).onInsertedList?t.onInsertedList(e):void 0;this.removeCurrentLine(o)}},t.prototype.toggleCheck=function(e,t,n){var a,i,r;if((i=n.match(c))&&i[4])return a="",a="x"===i[4]?n.replace("[x]","[ ]"):n.replace("[ ]","[x]"),r=this.getSelectionStart(),this.replaceCurrentLine(t,r,n,a),e.preventDefault()},t.prototype.replaceCurrentLine=function(e,t,n,a){var i;return i=this.getPosBeginningOfLine(e,t),e.splice(i,n.length,a),this.el.value=e.join(""),this.setSelectionRange(t,t)},t.prototype.supportInputTableFormat=function(e){var t,n,a,r,o,s,c,l,d,p,f,h,m,b,v;if(v=this.getTextArray(),n=this.replaceEscapedPipe(this.getCurrentLine(v)),m=this.getSelectionStart(),n.match(u)&&!this.isTableHeader(v)&&m!==this.getPosBeginningOfLine(v,m)){if(!n.match(i)||!this.isTableBody(v)){for(e.preventDefault(),h=-1,a=0,o=n.length;a<o;a++)"|"===n[a]&&h++;if(l=this.getPosEndOfLine(v),b="",!this.isTableBody(v))for(b="\n|",r=0,d=h;0<=d?r<d:r>d;0<=d?++r:--r)b+=" "+this.options.tableSeparator+" |";for(f="\n|",s=0,p=h;0<=p?s<p:s>p;0<=p?++s:--s)f+="  |";return v=this.insert(v,b+f,l),c=l+b.length+f.length-3*h+1,this.setSelectionRange(c,c),"function"==typeof(t=this.options).onInsertedTable?t.onInsertedTable(e):void 0}this.removeCurrentLine(v)}},t.prototype.supportCodeblockFormat=function(e){var t,n,i,r,o;if(o=this.getTextArray(),r=this.getSelectionStart(),n=this.getCurrentLine(o),i=n.match(a),(!o[r+1]||"\n"===o[r+1])&&i&&this.requireCodeblockEnd(o,r))return e.preventDefault(),this.insert(o,"\n\n"+i[1]),this.setSelectionRange(r+1,r+1),"function"==typeof(t=this.options).onInsertedCodeblock?t.onInsertedCodeblock(e):void 0},t.prototype.requireCodeblockEnd=function(e,t){var n,i,o;if(n=this.isInnerCodeblock(e,t))return!1;for(o=this.getPosBeginningOfLine(e,t);o<=e.length;){if(i=this.getCurrentLine(e,o),n&&i.match(r))return!1;!n&&i.match(a)&&(n=!0),o+=i.length+1}return!0},t.prototype.isInnerCodeblock=function(e,t){var n,i,o,s;for(null==t&&(t=this.getSelectionStart()),i=!1,s=0,n=this.getPosBeginningOfLine(e,t)-1;s<n;)o=this.getCurrentLine(e,s),i&&o.match(r)?i=!1:!i&&o.match(a)&&(i=!0),s+=o.length+1;return i},t.prototype.makeTable=function(e,t,n){var a,i,r,o,s,c;if(!this.isSelectRange()&&(o=n.match(l)))return e.preventDefault(),a=!!o[1].length,i=!!o[4].length,c=this.buildTable(o[2],o[3],{alignLeft:a,alignRight:i}),s=this.getPosBeginningOfLine(t),this.replaceCurrentLine(t,s,n,c),this.setSelectionRange(s+2,s+2),"function"==typeof(r=this.options).onMadeTable?r.onMadeTable(e):void 0},t.prototype.buildTable=function(e,t,n){var a,i,r,o,s,c,l,d,u,p;for(null==n&&(n={}),u="---",n.alignLeft&&(u=":"+u),n.alignRight&&(u+=":"),p="|",a=0,s=e;0<=s?a<s:a>s;0<=s?++a:--a)p+="  |";for(p+="\n|",i=0,c=e;0<=c?i<c:i>c;0<=c?++i:--i)p+=" "+u+" |";for(r=0,l=t-1;0<=l?r<l:r>l;0<=l?++r:--r)for(p+="\n|",o=0,d=e;0<=d?o<d:o>d;0<=d?++o:--o)p+="  |";return p},t.prototype.csvToTable=function(e,t,n){var a,i,r,o,s,c,l,d,u,p,f,h,m,b,v,g,y,x,w;if(y=this.getSelectedText(),!((h=y.split("\n")).length<=1)){for(x=null,o=this.getSelectionStart(),r=[],c=0,d=h.length;c<d;c++){if(f=h[c],(g=f.split(",")).length>1)r.push(g),null==x&&(x=o);else if(r.length>0)break;o+=f.length+1}if(!(r<=1)){for(e.preventDefault(),w="",s=l=0,u=r.length;l<u;s=++l){for(w+="|",m=0,p=(f=r[s]).length;m<p;m++)i=f[m],w+=" "+this.trim(i)+" |";if(w+="\n",0===s){for(w+="|",b=0,v=f.length;0<=v?b<v:b>v;0<=v?++b:--b)w+=" "+this.options.tableSeparator+" |";w+="\n"}}return t.splice(x,o-x,w),this.el.value=t.join(""),"function"==typeof(a=this.options).onMadeTable?a.onMadeTable(e):void 0}}},t.prototype.tableFunction=function(e,t,n){var a,i,r,s,c,l,d,u,p,h,m;if(!this.isSelectRange()&&(a=this.getCurrentCol(t,n)-1,h=this.getCurrentRow(t),!(a<0)&&null!=h&&(e.preventDefault(),r=this.getCurrentTableData(t),"string"==typeof(i=r.lines[h].values[a])&&(u=i.match(o)))))for(c=u[1],s=new RegExp("^"+c+"$","i"),l=0,d=f.length;l<d;l++)if((m=f[l]).match(s))return void(null!=(p=this[m+"TableFunction"](r,a,h))&&this.replaceCurrentCol(t,p))},t.prototype.countTableFunction=function(e,t,n){return e.lines.length-1},t.prototype.maxTableFunction=function(e,t,n){var a,i,r,o,s,c;for(o=-1/0,a=0,i=(c=e.lines).length;a<i;a++)"number"==typeof(r=c[a]).values[t]&&o<r.values[t]?o=r.values[t]:null!=(s=parseFloat(r.values[t]))&&!isNaN(s)&&o<s&&(o=s);return o===-1/0?null:o},t.prototype.round=function(e){var t;return t=Math.pow(10,this.options.significantFigures),Math.round(e*t)/t},t.prototype.minTableFunction=function(e,t,n){var a,i,r,o,s,c;for(o=1/0,a=0,i=(c=e.lines).length;a<i;a++)"number"==typeof(r=c[a]).values[t]&&o>r.values[t]?o=r.values[t]:null!=(s=parseFloat(r.values[t]))&&!isNaN(s)&&o>s&&(o=s);return o===1/0?null:o},t.prototype.averageTableFunction=function(e,t,n){return this.round(this.sumTableFunction(e,t,n)/this.countTableFunction(e,t,n))},t.prototype.sumTableFunction=function(e,t,n){var a,i,r,o,s,c;for(c=0,a=0,i=(s=e.lines).length;a<i;a++)"number"==typeof(r=s[a]).values[t]?c+=r.values[t]:null==(o=parseFloat(r.values[t]))||isNaN(o)||(c+=o);return this.round(c)},t.prototype.replaceCurrentCol=function(e,t,n){var a,i;for(null==n&&(n=this.getSelectionStart()),i=n,a=n;i>0&&"|"!==e[i-1];)i--;for(;e[a]&&"|"!==e[a];)a++;return e.splice(i,a-i," "+t+" "),this.el.value=e.join(""),this.setSelectionRange(i+1,i+(""+t).length+1)},t.prototype.sortTable=function(e,t,n){var a,i,r,o,s,c,l,d,u,p,f,h;if(!this.isSelectRange()&&this.isTableHeader(t)){for(e.preventDefault(),p=this.getSelectionStart(),o=this.getCurrentCol(t,n)-1,s=this.getCurrentTableData(t),a=!1,c=l=1,f=s.lines.length;1<=f?l<f:l>f;c=1<=f?++l:--l)if(0<this.compare(s.lines[c-1].values[o],s.lines[c].values[o])){a=!0;break}for(s.lines.sort(function(e){return function(t,n){return e.compare(t.values[o],n.values[o],a)}}(this)),r="",d=0,u=(h=s.lines).length;d<u;d++)r+=h[d].text+"\n";return t.splice(s.bodyStart,r.length,r),this.el.value=t.join(""),this.setSelectionRange(p,p),"function"==typeof(i=this.options).onSortedTable?i.onSortedTable(e):void 0}},t.prototype.compare=function(e,t,n){var a;return null==n&&(n=!0),a=n?1:-1,this.isEmpty(e)?-1*a:this.isEmpty(t)?1*a:e===t?0:(e<t?-1:1)*a},t.prototype.getCurrentCol=function(e,t){var n,a,i,r,o,s;for(s=this.replaceEscapedPipe(t),r=this.getSelectionStart()-this.getPosBeginningOfLine(e,this.getSelectionStart()),n=0,a=i=0,o=Math.min(r,s.length);0<=o?i<o:i>o;a=0<=o?++i:--i)"|"===s[a]&&n++;return n},t.prototype.getCurrentRow=function(e,t){var n,a;for(null==t&&(t=this.getSelectionStart()),t=this.getPosEndOfLine(e,t)-1,a=0,n=this.getCurrentLine(e,t);this.replaceEscapedPipe(n).match(u);)t-=n.length+1,n=this.getCurrentLine(e,t),a++;return a<3?null:a-3},t.prototype.isEmpty=function(e){return null===e||void 0===e||""===e},t.prototype.getTableStart=function(e,t){var n;for(null==t&&(t=this.getSelectionStart()),t=this.getPosEndOfLine(e,t)-1,n=this.getCurrentLine(e,t);this.replaceEscapedPipe(n).match(u);)t-=n.length+1,n=this.getCurrentLine(e,t);return t+2},t.prototype.isTableLine=function(e){return e.match(u)},t.prototype.getCurrentTableData=function(e,t){var n,a,i,r,o,s,c,l,u;for(null==t&&(t=this.getSelectionStart()),t=this.getTableStart(e,t),c=2;c>0&&null!=e[t];)"\n"===e[t]&&c--,t++;for(a={bodyStart:t,lines:[]};null!=e[t]&&this.isTableBody(e,t)&&!((s=this.getCurrentLine(e,t-1)).length<=0);){for(i=r=0,o=(u=this.replaceEscapedPipe(s.slice(1,-1)).split("|")).length;r<o;i=++r)l=u[i],u[i]=this.trim(l),("function"==typeof(n=u[i]).match?n.match(d):void 0)&&(u[i]=+u[i]);a.lines.push({text:s,values:u}),t+=s.length+1}return a.bodyEnd=t,a},t.prototype.trim=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},t.prototype.isSelectRange=function(){return this.getSelectionStart()!==this.getSelectionEnd()},t.prototype.getSelectedText=function(){return this.getText().slice(this.getSelectionStart(),this.getSelectionEnd())},t.prototype.setSelectionRange=function(e,t){return this.selectionBegin=e,this.selectionEnd=t,this.el.setSelectionRange(this.selectionBegin,this.selectionEnd)},t.prototype.replaceEscapedPipe=function(e){return e.replace(/\\\|/g,"..")},t.prototype.isTableHeader=function(e,t){return null==e&&(e=this.getTextArray()),null==t&&(t=this.getSelectionStart()),t=this.getPosEndOfLine(e,t),!!this.getCurrentLine(e,t).match(p)},t.prototype.isTableBody=function(e,t){var n;for(null==e&&(e=this.getTextArray()),null==t&&(t=this.getSelectionStart()-1),n=this.replaceEscapedPipe(this.getCurrentLine(e,t));n.match(u)&&t>0;){if(n.match(p))return!0;t=this.getPosBeginningOfLine(e,t)-2,n=this.replaceEscapedPipe(this.getCurrentLine(e,t))}return!1},t.prototype.getPrevLine=function(e,t){return null==t&&(t=this.getSelectionStart()-1),t=this.getPosBeginningOfLine(e,t),this.getCurrentLine(e,t-2)},t.prototype.getPosEndOfLine=function(e,t){for(null==t&&(t=this.getSelectionStart());e[t]&&"\n"!==e[t];)t++;return t},t.prototype.getPosBeginningOfLine=function(e,t){for(null==t&&(t=this.getSelectionStart());e[t-1]&&"\n"!==e[t-1];)t--;return t},t.prototype.getPosBeginningOfLines=function(e,t,n){var a,i,r,o,s;if(null==t&&(t=this.getSelectionStart()),null==n&&(n=this.getSelectionEnd()),a=[this.getPosBeginningOfLine(e,t)],(t=this.getPosEndOfLine(t)+1)<n)for(r=i=o=t,s=n;(o<=s?i<=s:i>=s)&&e[r];r=o<=s?++i:--i)r>0&&"\n"===e[r-1]&&a.push(r);return a},t.prototype.getCurrentLine=function(e,t){var n,a,i;for(null==e&&(e=this.getText()),null==t&&(t=this.getSelectionStart()-1),i=t,a="";e[i]&&"\n"!==e[i];)a=""+e[i]+a,i--;for(i=t+1,n="";e[i]&&"\n"!==e[i];)n=""+n+e[i],i++;return""+a+n},t.prototype.removeCurrentLine=function(e){var t,n,a;return n=this.getPosEndOfLine(e),t=this.getPosBeginningOfLine(e),a=n-t,e.splice(t,a),this.el.value=e.join(""),this.setSelectionRange(t,t)},t.prototype.onPressTab=function(e){if(e.preventDefault(),!this.options.table||!this.moveCursorOnTableCell(e))return this.options.tabToSpace?this.tabToSpace(e):void 0},t.prototype.withCtrl=function(t){if(this.options.fontDecorate)return null!=function(){switch(t.which){case e.b:return this.wrap("**");case e.i:return this.wrap("_");case e.u:return this.wrap("~~");case e.q:return this.wrap("`")}}.call(this)?t.preventDefault():void 0},t.prototype.wrap=function(e){var t,n,a;if(n=this.getSelectionStart(),t=this.getSelectionEnd(),n!==t)return a=this.getTextArray(),!(this.getPosBeginningOfLines(a,n,t).length>1)&&(a.splice(t,0,e),a.splice(n,0,e),this.el.value=a.join(""),this.setSelectionRange(n+e.length,t+e.length),!0)},t.prototype.moveCursorOnTableCell=function(e){var t;return t=this.replaceEscapedPipe(this.getText()),!!this.getCurrentLine(t).match(u)&&(e.shiftKey?this.moveToPrevCell(t):this.moveToNextCell(t),!0)},t.prototype.tabToSpace=function(e){var t,n,a,i;return i=this.getTextArray(),a=this.getSelectionStart(),(t=this.getPosBeginningOfLines(i,a)).length<=1?(n=this.getCurrentLine(i,t[0]),this.options.list&&n.match(c)&&!n.match(s)?this.insertSpacesToBeginningOfLines(i,a,t,e.shiftKey):e.shiftKey?void 0:this.insert(i,this.tabSpaces)):this.insertSpacesToBeginningOfLines(i,a,t,e.shiftKey)},t.prototype.insertSpacesToBeginningOfLines=function(e,t,n,a){var i,r,o,s,c,l,d,u,p,f,h,m;for(u=[],o=0,c=0,d=n.length;c<d;c++)if(f=n[c],f+=o,r=this.getCurrentLine(e,f),u.push(f),a)0===r.indexOf(this.tabSpaces)&&(e.splice(f,this.options.tabSize),o-=this.options.tabSize);else{for(s=l=0,h=this.options.tabSize;0<=h?l<h:l>h;s=0<=h?++l:--l)e.splice(f,0," ");o+=this.options.tabSize}if(this.el.value=e.join(""),u.length>1)return this.setSelectionRange(u[0],this.getPosEndOfLine(e,u[u.length-1]));if(o<0)for(i=this.getPosBeginningOfLine(e,t+o),s=p=-1,m=-this.options.tabSize;-1<=m?p<=m:p>=m;s=-1<=m?++p:--p)if((!e[t+s]||"\n"===e[t+s])&&u[0]>i){t=u[0]-o;break}return this.setSelectionRange(t+o,t+o)},t.prototype.moveToPrevCell=function(e,t){var n,a,i,r,o,s;for(null==t&&(t=this.getSelectionStart()-1),i=!1,r=!1,n=t;e[n];){if(i&&n<0||!i&&n<=0)return!1;if(r&&" "!==e[n]&&"|"!==e[n])return!1;if(i){if(" "!==e[n]){if("\n"!==e[n]){"|"===e[n]&&n++," "===e[n]&&n++;break}i=!1,r=!0}}else"|"===e[n]&&(i=!0,r=!1);n--}if(n<0)return!1;for(s=o=n,a=!1;e[o]&&"|"!==e[o];)" "!==e[o]&&(s=o,a||(n++,a=!0)),o--;return this.setSelectionRange(s,n),!0},t.prototype.moveToNextCell=function(e,t){var n,a,i,r,o;for(null==t&&(t=this.getSelectionStart()),i=!1,r=!1,n=null,o=t;e[o];){if(o>0&&"\n"===e[o-1]&&"|"!==e[o]){n=--o;break}if(i)if(" "!==e[o]){if("\n"!==e[o])break;i=!1}else{if(r)break;r=!0}else"|"===e[o]&&(i=!0);o++}if(e[o]||(n=--o),!n)for(n=a=o;e[a]&&"|"!==e[a];)" "!==e[a]&&(n=a+1),a++;return this.setSelectionRange(o,n),!0},t.prototype.insertSpaces=function(e,t){var n;return n=this.getSelectionStart()+this.tabSpaces.length,this.insert(e,this.tabSpaces,t),this.setSelectionRange(n,n)},t.prototype.insert=function(e,t,n){return null==n&&(n=this.getSelectionStart()),e.splice(n,0,t),this.el.value=e.join(""),n+=t.length,this.setSelectionRange(n,n)},t.prototype.getSelectionStart=function(){return this.el.selectionStart},t.prototype.getSelectionEnd=function(){return this.el.selectionEnd},t.prototype.destroy=function(){return this.$el.off("keydown.markdownEditor").data("markdownEditor",null),this.$el=null},t.prototype.startUpload=function(e){var t,n,a;return a=this.getTextArray(),n=this.getSelectionStart(),t=this.buildUploadingText(e),n>0&&"\n"!==a[n-1]&&(t="\n"+t),n<a.length-1&&"\n"!==a[n]&&(t+="\n"),this.insert(a,t,n)},t.prototype.cancelUpload=function(e){return this.el.value=this.getText().replace(this.buildUploadingText(e),"")},t.prototype.buildUploadingText=function(e){return this.options.uploadingFormat(e)},t.prototype.finishUpload=function(e,t){var n,a,i,r,o;return null==t&&(t={}),r=this.getText(),((n=t.text||"").length<=0&&t.url||t.alt)&&(n="!["+(t.alt||"")+"]("+(t.url||"")+")",null!=t.href&&(n="["+n+"]("+t.href+")")),o=this.buildUploadingText(e),r.indexOf(o)>=0?(i=this.getSelectionStart(),this.getSelectionEnd(),this.el.value=r.replace(o,n),a=i+(n.length-o.length),this.setSelectionRange(a,a)):this.insert(this.getTextArray(),n)},t}(),$.fn.markdownEditor=function(e){var n,a,i;return null==e&&(e={}),"string"==typeof e?(n=Array.prototype.slice.call(arguments).slice(1),a=this.data("markdownEditor"),null!=(i=a[e])?i.apply(a,n):void 0):(e=$.extend({tabSize:4,onInsertedList:null,onInsertedTable:null,onInsertedCodeblock:null,onSortedTable:null,onMadeTable:null,tabToSpace:!0,list:!0,table:!0,fontDecorate:!0,codeblock:!0,autoTable:!0,tableSeparator:"---",csvToTable:!0,sortTable:!0,tableFunction:!0,significantFigures:4,uploadingFormat:function(e){return"![Uploading... "+e+"]()"}},e),this.each(function(){return $(this).data("markdownEditor",new t(this,e))}),this)}}).call(this)},function(e,t,n){"use strict";n(264);var a=n(0),i=n.n(a);i.a.components.register("nested-list",{viewModel:function(e){var t=this;t.cells=e.cells||i.a.observableArray(),t.selectedCell=e.selectedCell||i.a.observable(),t.onselect=e.onselect,t.ondelete=e.ondelete,t.onadd=e.onadd,null!==e.levels&&void 0!==e.levels?t.levels=e.levels:t.levels=4,t.selectCell=function(e){t.selectedCell(e),t.onselect&&t.onselect(e)},t.deleteCell=function(e){t.ondelete&&t.ondelete(e)},t.addCell=function(e){t.onadd&&t.onadd(e)},t.isActiveCSS=function(e){var n=t.selectedCell();if(n)return e.id()===n.id()?"active":""},t.isSelected=function(e){return!!t.selectedCell()&&t.selectedCell().id()===e.id()},t.shouldShowDelete=function(e){return!!e.shouldShowDelete&&e.shouldShowDelete()}},template:'        <div data-bind="foreach: cells" class="list-group no-bottom-margin master-list">            <a href="#" class="list-group-item"                 data-bind="css: $parent.isActiveCSS($data),                     click: $parent.selectCell">                \x3c!-- ko if: $data.children && $parent.levels > 0  && children().length > 0 --\x3e                <div class="toggle-arrow-container" data-bind="click: toggleIsOpen">                    <i data-bind="css: arrowIconClass" aria-hidden="true"></i>&nbsp;                 </div>                \x3c!-- /ko --\x3e                <span data-bind="html: name"></span>&nbsp;&nbsp;                \x3c!-- ko if: $data.badge --\x3e                <span class="badge" style="float:none;" data-bind="text: badge"></span>                \x3c!-- /ko --\x3e                <span class="pull-right">                     \x3c!-- ko if: $parent.isSelected($data) --\x3e                    \x3c!-- ko if: $data.children && $parent.levels > 0 --\x3e                    <span class="fa fa-plus fa-lg"                         data-bind="click: $parent.addCell"></span>&nbsp;&nbsp;                     \x3c!-- /ko --\x3e                    \x3c!-- ko if: $parent.shouldShowDelete($data) --\x3e                    <span class="fa fa-trash-o fa-color-white-hover fa-lg"                         data-bind="click: $parent.deleteCell"></span>                    \x3c!-- /ko --\x3e                \x3c!-- /ko --\x3e                </span>             </a>            \x3c!-- ko if: $data.children && $parent.levels > 0  && children().length > 0 --\x3e            <div class="row collapse" data-bind="well: { open: isOpen }">                <div class="col-sm-offset-1 col-sm-11">                    <nested-list params="cells: children,                         levels: $parent.levels - 1,                         selectedCell: $parent.selectedCell,                         onadd: $parent.onadd,                         ondelete: $parent.ondelete,                         onselect: $parent.onselect"></nested-list>                </div>            </div>            \x3c!-- /ko --\x3e        </div>    '})},function(e,t,n){"use strict";var a=n(0),i=n.n(a);i.a.bindingHandlers.well={init:function(e,t,n){var a=t(),r=i.a.utils.unwrapObservable(a.open),o=i.a.utils.unwrapObservable(a.callback);$(e).collapse({toggle:!1}),o&&($(e).on("hidden.bs.collapse",o),$(e).on("shown.bs.collapse",o)),i.a.bindingHandlers.well.toggle(r,e)},update:function(e,t){var n=t(),a=i.a.utils.unwrapObservable(n.open);i.a.bindingHandlers.well.toggle(a,e)},toggle:function(e,t){var n=e?"show":"hide";$(t).collapse(n)}}},function(e,t,n){"use strict";var a=n(0),i=n.n(a);i.a.components.register("plus-minus",{viewModel:function(e){var t=this;t.value=e.value,t.max=e.max||i.a.observable(1e6),t.min=e.min||i.a.observable(0),t.increase=function(){parseInt(t.value())<parseInt(t.max())&&t.value(parseInt(t.value())+1)},t.decrease=function(){parseInt(t.value())>parseInt(t.min())&&t.value(parseInt(t.value())-1)}},template:'    <div class="visible-lg-inline-block input-group ac-plus-minus">      <div>        <button type="button" class="btn btn-default"             data-bind="click: increase">                <i class="fa fa-plus fa-color"> </i>        </button>        <span data-bind="text: value" class="used-slot-span"></span>        <button type="button" class="btn btn-default"         data-bind="click: decrease">            <i class="fa fa-minus fa-color"> </i>        </button>      </div>    </div>     <div class="hidden-lg input-group ac-plus-minus">      <div>        <button type="button" class="btn btn-default btn-sm"             data-bind="click: increase">                <i class="fa fa-plus fa-color"> </i>        </button>        <span data-bind="text: value" class="used-slot-span"></span>        <button type="button" class="btn btn-default btn-sm"         data-bind="click: decrease">            <i class="fa fa-minus fa-color"> </i>        </button>      </div>    </div>'})},function(e,t,n){"use strict";function a(e){var t=this;t.proficiency=e.proficiency,t.profTypeHTML=r.a.computed(function(){var e=r.a.utils.unwrapObservable(t.proficiency);try{e=e.toLowerCase()}catch(e){return""}return"expertise"===e?a.EXPERT_TEMPLATE:"proficient"===e?a.NORMAL_TEMPLATE:"half"===e?a.HALF_TEMPLATE:""})}var i=n(0),r=n.n(i);a.EXPERT_TEMPLATE='    <span data-bind="css: proficiencyLabel" class="fa fa-check close-check"></span>    <span data-bind="css: proficiencyLabel" class="fa fa-check"></span>',a.NORMAL_TEMPLATE='    <span data-bind="css: proficiencyLabel" class="fa fa-check"></span>',a.HALF_TEMPLATE='    <span data-bind="css: proficiencyLabel" class="fa fa-adjust"></span>',r.a.components.register("prof-marker",{viewModel:a,template:'<span data-bind="html: profTypeHTML"></span>'})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(2),i={name:"Skills Proficiency Value Migration",version:"1.1.0",migration:function(){var e=a.a.findAllObjs("Skill");for(var t in e){var n=e[t].id,i=e[t].data;i.proficiency?i.proficiency="proficient":i.proficiency="not",a.a.saveObj("Skill",n,i)}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(2),i={name:"Spell Values Migration",version:"1.1.0",migration:function(){var e=a.a.findAllObjs("Spell");for(var t in e){var n=e[t].id,i=e[t].data;"Attack Roll"===i.spellType&&(i.spellType=""),"Cantrip"===i.spellSchool&&(i.spellSchool=""),"1 min"===i.spellDuration&&(i.spellDuration="1 minute"),"10 min"===i.spellDuration&&(i.spellDuration="10 minutes"),"Concentration, 1 min"===i.spellDuration&&(i.spellDuration="Concentration, up to 1 minute"),"Concentration, 10 min"===i.spellDuration&&(i.spellDuration="Concentration, up to 10 minutes"),"Concentration, 1 hour"===i.spellDuration&&(i.spellDuration="Concentration, up to 1 hour"),"Concentration, 8 hours"===i.spellDuration&&(i.spellDuration="Concentration, up to 8 hours"),"Concentration, 24 hours"===i.spellDuration&&(i.spellDuration="Concentration, up to 24 hours"),"5 ft"===i.spellRange&&(i.spellRange="5 feet"),"10 ft"===i.spellRange&&(i.spellRange="10 feet"),"30 ft"===i.spellRange&&(i.spellRange="30 feet"),"60 ft"===i.spellRange&&(i.spellRange="60 feet"),"90 ft"===i.spellRange&&(i.spellRange="90 feet"),"100 ft"===i.spellRange&&(i.spellRange="100 feet"),"120 ft"===i.spellRange&&(i.spellRange="120 feet"),"150 ft"===i.spellRange&&(i.spellRange="150 feet"),"300 ft"===i.spellRange&&(i.spellRange="300 feet"),"500 ft"===i.spellRange&&(i.spellRange="500 feet"),a.a.saveObj("Spell",n,i)}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(2),i={name:"Stats Proficiency Values Migration",version:"1.1.0",migration:function(){var e=a.a.findAllObjs("OtherStats");for(var t in e){var n=e[t].id,i=e[t].data;i.proficiency=0,a.a.saveObj("OtherStats",n,i)}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(2),i={name:"Weapon Light Handedness to Blank Migration",version:"1.2.0",migration:function(){var e=a.a.findAllObjs("Weapon");for(var t in e){var n=e[t].id,i=e[t].data;"light"===i.weaponHandedness.toLowerCase().trim()&&(i.weaponHandedness=""),a.a.saveObj("Weapon",n,i)}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(2),i={name:"Armor type migration",version:"1.3.0",migration:function(){var e=a.a.findAllObjs("Armor");e.forEach(function(t,n,i){var r=e[n].id,o=e[n].data;"shields"===o.armorType.toLowerCase().trim()&&(o.armorType="Shield"),a.a.saveObj("Armor",r,o)})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(104),i=n(105),r=n(69),o=n(2),s=n(106),c=n(107),l=n(22),d=n.n(l),u={name:"Feats, Features, Proficiencies, and Daily Features to new models migration",version:"1.3.0",migration:function(){var e=o.a.findAllObjs("FeatsProf"),t=o.a.findAllObjs("DailyFeature");e.forEach(function(e,t,n){var r=e.data.characterId,c=e.data.proficiencies,l=e.data.feats,d=e.data.specialAbilities;if(c){var u=new s.a;u.characterId(r),u.name("Archived Proficiencies"),u.description(c),u.save()}if(l){var p=new a.a;p.characterId(r),p.name("Archived Feats"),p.description(l),p.save()}if(d){var f=new i.a;f.characterId(r),f.name("Archived Features"),f.description(d),f.save()}o.a._delete("FeatsProf",e.id)}),t.forEach(function(e,t,n){var a=e.data.characterId,s=o.a.findBy(c.a,"characterId",a),l=new i.a;l.name(e.data.featureName),l.characterId(a),l.description(e.data.featureDescription),l.isTracked(!0),l.trackedId(d.a.v4());var u=new c.a;u.maxUses(e.data.featureMaxUses),u.used(e.data.featureUsed),u.trackedId(l.trackedId()),u.characterId(a),u.resetsOn(e.data.featureResetsOn),u.type(i.a),u.color(r.a.general.colorList[s.length%r.a.general.colorList.length]),l.save(),u.save(),o.a._delete("DailyFeature",e.id)})}}},function(e,t,n){"use strict";function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return o[e>>18&63]+o[e>>12&63]+o[e>>6&63]+o[63&e]}function r(e,t,n){for(var a,r=[],o=t;o<n;o+=3)a=(e[o]<<16)+(e[o+1]<<8)+e[o+2],r.push(i(a));return r.join("")}t.byteLength=function(e){return 3*e.length/4-a(e)},t.toByteArray=function(e){var t,n,i,r,o,l=e.length;r=a(e),o=new c(3*l/4-r),n=r>0?l-4:l;var d=0;for(t=0;t<n;t+=4)i=s[e.charCodeAt(t)]<<18|s[e.charCodeAt(t+1)]<<12|s[e.charCodeAt(t+2)]<<6|s[e.charCodeAt(t+3)],o[d++]=i>>16&255,o[d++]=i>>8&255,o[d++]=255&i;return 2===r?(i=s[e.charCodeAt(t)]<<2|s[e.charCodeAt(t+1)]>>4,o[d++]=255&i):1===r&&(i=s[e.charCodeAt(t)]<<10|s[e.charCodeAt(t+1)]<<4|s[e.charCodeAt(t+2)]>>2,o[d++]=i>>8&255,o[d++]=255&i),o},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,i="",s=[],c=0,l=n-a;c<l;c+=16383)s.push(r(e,c,c+16383>l?l:c+16383));return 1===a?(t=e[n-1],i+=o[t>>2],i+=o[t<<4&63],i+="=="):2===a&&(t=(e[n-2]<<8)+e[n-1],i+=o[t>>10],i+=o[t>>4&63],i+=o[t<<2&63],i+="="),s.push(i),s.join("")};for(var o=[],s=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,u=l.length;d<u;++d)o[d]=l[d],s[l.charCodeAt(d)]=d;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,a,i){var r,o,s=8*i-a-1,c=(1<<s)-1,l=c>>1,d=-7,u=n?i-1:0,p=n?-1:1,f=e[t+u];for(u+=p,r=f&(1<<-d)-1,f>>=-d,d+=s;d>0;r=256*r+e[t+u],u+=p,d-=8);for(o=r&(1<<-d)-1,r>>=-d,d+=a;d>0;o=256*o+e[t+u],u+=p,d-=8);if(0===r)r=1-l;else{if(r===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,a),r-=l}return(f?-1:1)*o*Math.pow(2,r-a)},t.write=function(e,t,n,a,i,r){var o,s,c,l=8*r-i-1,d=(1<<l)-1,u=d>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:r-1,h=a?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+u>=1?p/c:p*Math.pow(2,1-u))*c>=2&&(o++,c/=2),o+u>=d?(s=0,o=d):o+u>=1?(s=(t*c-1)*Math.pow(2,i),o+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+f]=255&o,f+=h,o/=256,l-=8);e[n+f-h]|=128*m}},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(36),t.createHash=t.Hash=n(43),t.createHmac=t.Hmac=n(116);var a=n(292),i=Object.keys(a),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return r};var o=n(118);t.pbkdf2=o.pbkdf2,t.pbkdf2Sync=o.pbkdf2Sync;var s=n(294);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var c=n(312);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var l=n(317);t.createSign=l.createSign,t.Sign=l.Sign,t.createVerify=l.createVerify,t.Verify=l.Verify,t.createECDH=n(355);var d=n(356);t.publicEncrypt=d.publicEncrypt,t.privateEncrypt=d.privateEncrypt,t.publicDecrypt=d.publicDecrypt,t.privateDecrypt=d.privateDecrypt;var u=n(359);t.randomFill=u.randomFill,t.randomFillSync=u.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,n){"use strict";(function(t){var n=4,a=new t(n);a.fill(0);e.exports=function(e,i){var r=i(function(e){if(e.length%n!=0){var i=e.length+(n-e.length%n);e=t.concat([e,a],i)}for(var r=new Array(e.length>>>2),o=0,s=0;o<e.length;o+=n,s++)r[s]=e.readInt32LE(o);return r}(e),8*e.length);e=new t(16);for(var o=0;o<r.length;o++)e.writeInt32LE(r[o],o<<2,!0);return e}}).call(t,n(8).Buffer)},function(e,t){},function(e,t,n){"use strict";function a(e,t,n){e.copy(t,n)}var i=n(7).Buffer;e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)a(n.data,t,r),r+=n.data.length,n=n.next;return t},e}()},function(e,t,n){function a(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new a(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(280),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function a(e){delete s[e]}function i(e){if(c)setTimeout(i,0,e);else{var t=s[e];if(t){c=!0;try{!function(e){var t=e.callback,a=e.args;switch(a.length){case 0:t();break;case 1:t(a[0]);break;case 2:t(a[0],a[1]);break;case 3:t(a[0],a[1],a[2]);break;default:t.apply(n,a)}}(t)}finally{a(e),c=!1}}}}if(!e.setImmediate){var r,o=1,s={},c=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){i(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){i(e.data)},r=function(t){e.port2.postMessage(t)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var e=l.documentElement;r=function(t){var n=l.createElement("script");n.onreadystatechange=function(){i(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(i,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return s[o]=a,r(o),o++},d.clearImmediate=a}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(26),n(29))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var a=!1;return function(){if(!a){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),a=!0}return e.apply(this,arguments)}}}).call(t,n(26))},function(e,t,n){"use strict";function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}e.exports=a;var i=n(113),r=n(44);r.inherits=n(3),r.inherits(a,i),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(75)},function(e,t,n){e.exports=n(34)},function(e,t,n){e.exports=n(74).Transform},function(e,t,n){e.exports=n(74).PassThrough},function(e,t,n){function a(){this.init(),this._w=u,c.call(this,64,56)}function i(e){return e<<5|e>>>27}function r(e){return e<<30|e>>>2}function o(e,t,n,a){return 0===e?t&n|~t&a:2===e?t&n|t&a|n&a:t^n^a}var s=n(3),c=n(37),l=n(7).Buffer,d=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);s(a,c),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},a.prototype._update=function(e){for(var t=this._w,n=0|this._a,a=0|this._b,s=0|this._c,c=0|this._d,l=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var p=0;p<80;++p){var f=~~(p/20),h=i(n)+o(f,a,s,c)+l+t[p]+d[f]|0;l=c,c=s,s=r(a),a=n,n=h}this._a=n+this._a|0,this._b=a+this._b|0,this._c=s+this._c|0,this._d=c+this._d|0,this._e=l+this._e|0},a.prototype._hash=function(){var e=l.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=a},function(e,t,n){function a(){this.init(),this._w=p,l.call(this,64,56)}function i(e){return e<<1|e>>>31}function r(e){return e<<5|e>>>27}function o(e){return e<<30|e>>>2}function s(e,t,n,a){return 0===e?t&n|~t&a:2===e?t&n|t&a|n&a:t^n^a}var c=n(3),l=n(37),d=n(7).Buffer,u=[1518500249,1859775393,-1894007588,-899497514],p=new Array(80);c(a,l),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},a.prototype._update=function(e){for(var t=this._w,n=0|this._a,a=0|this._b,c=0|this._c,l=0|this._d,d=0|this._e,p=0;p<16;++p)t[p]=e.readInt32BE(4*p);for(;p<80;++p)t[p]=i(t[p-3]^t[p-8]^t[p-14]^t[p-16]);for(var f=0;f<80;++f){var h=~~(f/20),m=r(n)+s(h,a,c,l)+d+t[f]+u[h]|0;d=l,l=c,c=o(a),a=n,n=m}this._a=n+this._a|0,this._b=a+this._b|0,this._c=c+this._c|0,this._d=l+this._d|0,this._e=d+this._e|0},a.prototype._hash=function(){var e=d.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=a},function(e,t,n){function a(){this.init(),this._w=c,o.call(this,64,56)}var i=n(3),r=n(114),o=n(37),s=n(7).Buffer,c=new Array(64);i(a,r),a.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},a.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=a},function(e,t,n){function a(){this.init(),this._w=c,o.call(this,128,112)}var i=n(3),r=n(115),o=n(37),s=n(7).Buffer,c=new Array(160);i(a,r),a.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},a.prototype._hash=function(){function e(e,n,a){t.writeInt32BE(e,a),t.writeInt32BE(n,a+4)}var t=s.allocUnsafe(48);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},e.exports=a},function(e,t,n){"use strict";function a(e,t){o.call(this,"digest"),"string"==typeof t&&(t=r.from(t)),this._alg=e,this._key=t,t.length>c?t=e(t):t.length<c&&(t=r.concat([t,s],c));for(var n=this._ipad=r.allocUnsafe(c),a=this._opad=r.allocUnsafe(c),i=0;i<c;i++)n[i]=54^t[i],a[i]=92^t[i];this._hash=[n]}var i=n(3),r=n(7).Buffer,o=n(30),s=r.alloc(128),c=64;i(a,o),a.prototype._update=function(e){this._hash.push(e)},a.prototype._final=function(){var e=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,e]))},e.exports=a},function(e,t,n){e.exports=n(117)},function(e,t,n){(function(t,a){function i(e,t,n,a,i){return d.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return d.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,a<<3)}).then(function(e){return l.from(e)})}var r,o=n(119),s=n(120),c=n(121),l=n(7).Buffer,d=t.crypto&&t.crypto.subtle,u={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];e.exports=function(e,n,f,h,m,b){if(l.isBuffer(e)||(e=l.from(e,s)),l.isBuffer(n)||(n=l.from(n,s)),o(f,h),"function"==typeof m&&(b=m,m=void 0),"function"!=typeof b)throw new Error("No callback provided to pbkdf2");var v=u[(m=m||"sha1").toLowerCase()];if(!v||"function"!=typeof t.Promise)return a.nextTick(function(){var t;try{t=c(e,n,f,h,m)}catch(e){return b(e)}b(null,t)});!function(e,t){e.then(function(e){a.nextTick(function(){t(null,e)})},function(e){a.nextTick(function(){t(e)})})}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(void 0!==p[e])return p[e];var n=i(r=r||l.alloc(8),r,10,128,e).then(function(){return!0}).catch(function(){return!1});return p[e]=n,n}(v).then(function(t){return t?i(e,n,f,h,v):c(e,n,f,h,m)}),b)}}).call(t,n(26),n(29))},function(e,t,n){function a(e,t,n){if(e=e.toLowerCase(),l[e])return o.createCipheriv(e,t,n);if(c[e])return new s({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function i(e,t,n){if(e=e.toLowerCase(),l[e])return o.createDecipheriv(e,t,n);if(c[e])return new s({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}var r=n(54),o=n(78),s=n(305),c=n(311),l=n(79);t.createCipher=t.Cipher=function(e,t){var n,i;if(e=e.toLowerCase(),l[e])n=l[e].key,i=l[e].iv;else{if(!c[e])throw new TypeError("invalid suite type");n=8*c[e].key,i=c[e].iv}var o=r(t,!1,n,i);return a(e,o.key,o.iv)},t.createCipheriv=t.Cipheriv=a,t.createDecipher=t.Decipher=function(e,t){var n,a;if(e=e.toLowerCase(),l[e])n=l[e].key,a=l[e].iv;else{if(!c[e])throw new TypeError("invalid suite type");n=8*c[e].key,a=c[e].iv}var o=r(t,!1,n,a);return i(e,o.key,o.iv)},t.createDecipheriv=t.Decipheriv=i,t.listCiphers=t.getCiphers=function(){return Object.keys(c).concat(o.getCiphers())}},function(e,t,n){"use strict";(function(t){function a(){d.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function i(e,t){return e<<t|e>>>32-t}function r(e,t,n,a,r,o,s){return i(e+(t&n|~t&a)+r+o|0,s)+t|0}function o(e,t,n,a,r,o,s){return i(e+(t&a|n&~a)+r+o|0,s)+t|0}function s(e,t,n,a,r,o,s){return i(e+(t^n^a)+r+o|0,s)+t|0}function c(e,t,n,a,r,o,s){return i(e+(n^(t|~a))+r+o|0,s)+t|0}var l=n(3),d=n(109),u=new Array(16);l(a,d),a.prototype._update=function(){for(var e=u,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,a=this._b,i=this._c,l=this._d;a=c(a=c(a=c(a=c(a=s(a=s(a=s(a=s(a=o(a=o(a=o(a=o(a=r(a=r(a=r(a=r(a,i=r(i,l=r(l,n=r(n,a,i,l,e[0],3614090360,7),a,i,e[1],3905402710,12),n,a,e[2],606105819,17),l,n,e[3],3250441966,22),i=r(i,l=r(l,n=r(n,a,i,l,e[4],4118548399,7),a,i,e[5],1200080426,12),n,a,e[6],2821735955,17),l,n,e[7],4249261313,22),i=r(i,l=r(l,n=r(n,a,i,l,e[8],1770035416,7),a,i,e[9],2336552879,12),n,a,e[10],4294925233,17),l,n,e[11],2304563134,22),i=r(i,l=r(l,n=r(n,a,i,l,e[12],1804603682,7),a,i,e[13],4254626195,12),n,a,e[14],2792965006,17),l,n,e[15],1236535329,22),i=o(i,l=o(l,n=o(n,a,i,l,e[1],4129170786,5),a,i,e[6],3225465664,9),n,a,e[11],643717713,14),l,n,e[0],3921069994,20),i=o(i,l=o(l,n=o(n,a,i,l,e[5],3593408605,5),a,i,e[10],38016083,9),n,a,e[15],3634488961,14),l,n,e[4],3889429448,20),i=o(i,l=o(l,n=o(n,a,i,l,e[9],568446438,5),a,i,e[14],3275163606,9),n,a,e[3],4107603335,14),l,n,e[8],1163531501,20),i=o(i,l=o(l,n=o(n,a,i,l,e[13],2850285829,5),a,i,e[2],4243563512,9),n,a,e[7],1735328473,14),l,n,e[12],2368359562,20),i=s(i,l=s(l,n=s(n,a,i,l,e[5],4294588738,4),a,i,e[8],2272392833,11),n,a,e[11],1839030562,16),l,n,e[14],4259657740,23),i=s(i,l=s(l,n=s(n,a,i,l,e[1],2763975236,4),a,i,e[4],1272893353,11),n,a,e[7],4139469664,16),l,n,e[10],3200236656,23),i=s(i,l=s(l,n=s(n,a,i,l,e[13],681279174,4),a,i,e[0],3936430074,11),n,a,e[3],3572445317,16),l,n,e[6],76029189,23),i=s(i,l=s(l,n=s(n,a,i,l,e[9],3654602809,4),a,i,e[12],3873151461,11),n,a,e[15],530742520,16),l,n,e[2],3299628645,23),i=c(i,l=c(l,n=c(n,a,i,l,e[0],4096336452,6),a,i,e[7],1126891415,10),n,a,e[14],2878612391,15),l,n,e[5],4237533241,21),i=c(i,l=c(l,n=c(n,a,i,l,e[12],1700485571,6),a,i,e[3],2399980690,10),n,a,e[10],4293915773,15),l,n,e[1],2240044497,21),i=c(i,l=c(l,n=c(n,a,i,l,e[8],1873313359,6),a,i,e[15],4264355552,10),n,a,e[6],2734768916,15),l,n,e[13],1309151649,21),i=c(i,l=c(l,n=c(n,a,i,l,e[4],4149444226,6),a,i,e[11],3174756917,10),n,a,e[2],718787259,15),l,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+a|0,this._c=this._c+i|0,this._d=this._d+l|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a}).call(t,n(8).Buffer)},function(e,t,n){function a(e,t,n){d.call(this),this._cache=new i,this._cipher=new u.AES(t),this._prev=c.from(n),this._mode=e,this._autopadding=!0}function i(){this.cache=c.allocUnsafe(0)}function r(e,t,n){var i=o[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=c.from(t)),t.length!==i.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=c.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===i.type?new l(i.module,t,n):"auth"===i.type?new s(i.module,t,n):new a(i.module,t,n)}var o=n(79),s=n(125),c=n(7).Buffer,l=n(126),d=n(30),u=n(55),p=n(54);n(3)(a,d),a.prototype._update=function(e){this._cache.add(e);for(var t,n,a=[];t=this._cache.get();)n=this._mode.encrypt(this,t),a.push(n);return c.concat(a)};var f=c.alloc(16,16);a.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},i.prototype.add=function(e){this.cache=c.concat([this.cache,e])},i.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},i.prototype.flush=function(){for(var e=16-this.cache.length,t=c.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return c.concat([this.cache,t])},t.createCipheriv=r,t.createCipher=function(e,t){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var a=p(t,!1,n.key,n.iv);return r(e,a.key,a.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var a=n(45);t.encrypt=function(e,t){var n=a(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return a(i,n)}},function(e,t,n){function a(e,t,n){var a=t.length,o=r(t,e._cache);return e._cache=e._cache.slice(a),e._prev=i.concat([e._prev,n?t:o]),o}var i=n(7).Buffer,r=n(45);t.encrypt=function(e,t,n){for(var r,o=i.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=i.allocUnsafe(0)),!(e._cache.length<=t.length)){o=i.concat([o,a(e,t,n)]);break}r=e._cache.length,o=i.concat([o,a(e,t.slice(0,r),n)]),t=t.slice(r)}return o}},function(e,t,n){function a(e,t,n){var a=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=i.concat([e._prev.slice(1),i.from([n?t:a])]),a}var i=n(7).Buffer;t.encrypt=function(e,t,n){for(var r=t.length,o=i.allocUnsafe(r),s=-1;++s<r;)o[s]=a(e,t[s],n);return o}},function(e,t,n){function a(e,t,n){for(var a,r,o,s=-1,c=0;++s<8;)a=e._cipher.encryptBlock(e._prev),r=t&1<<7-s?128:0,c+=(128&(o=a[0]^r))>>s%8,e._prev=function(e,t){var n=e.length,a=-1,r=i.allocUnsafe(e.length);e=i.concat([e,i.from([t])]);for(;++a<n;)r[a]=e[a]<<1|e[a+1]>>7;return r}(e._prev,n?r:o);return c}var i=n(7).Buffer;t.encrypt=function(e,t,n){for(var r=t.length,o=i.allocUnsafe(r),s=-1;++s<r;)o[s]=a(e,t[s],n);return o}},function(e,t,n){(function(e){function a(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var i=n(45);t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,a(t)]);var r=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),i(n,r)}}).call(t,n(8).Buffer)},function(e,t,n){function a(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function i(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}var r=n(7).Buffer,o=r.alloc(16,0);i.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},i.prototype._multiply=function(){for(var e,t,n=function(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}(this.h),i=[0,0,0,0],r=-1;++r<128;){for(0!=(this.state[~~(r/8)]&1<<7-r%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),t=0!=(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,t&&(n[0]=n[0]^225<<24)}this.state=a(i)},i.prototype.update=function(e){this.cache=r.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},i.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,o],16)),this.ghash(a([0,e,0,t])),this.state},e.exports=i},function(e,t,n){function a(e,t,n){d.call(this),this._cache=new i,this._last=void 0,this._cipher=new u.AES(t),this._prev=s.from(n),this._mode=e,this._autopadding=!0}function i(){this.cache=s.allocUnsafe(0)}function r(e,t,n){var i=c[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=s.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=s.from(t)),t.length!==i.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===i.type?new l(i.module,t,n,!0):"auth"===i.type?new o(i.module,t,n,!0):new a(i.module,t,n)}var o=n(125),s=n(7).Buffer,c=n(79),l=n(126),d=n(30),u=n(55),p=n(54);n(3)(a,d),a.prototype._update=function(e){this._cache.add(e);for(var t,n,a=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),a.push(n);return s.concat(a)},a.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){for(var t=e[15],n=-1;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},i.prototype.add=function(e){this.cache=s.concat([this.cache,e])},i.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},i.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=c[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var a=p(t,!1,n.key,n.iv);return r(e,a.key,a.iv)},t.createDecipheriv=r},function(e,t,n){(function(t){function a(e){i.call(this);var n,a=e.mode.toLowerCase(),r=s[a];n=e.decrypt?"decrypt":"encrypt";var o=e.key;"des-ede"!==a&&"des-ede-cbc"!==a||(o=t.concat([o,o.slice(0,8)]));var c=e.iv;this._des=r.create({key:o,iv:c,type:n})}var i=n(30),r=n(80),o=n(3),s={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=a,o(a,i),a.prototype._update=function(e){return new t(this._des.update(e))},a.prototype._final=function(){return new t(this._des.final())}}).call(t,n(8).Buffer)},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,a){for(var i=0,r=0,o=6;o>=0;o-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+o&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+o&1}for(o=6;o>=0;o-=2){for(s=1;s<=25;s+=8)r<<=1,r|=t>>>s+o&1;for(s=1;s<=25;s+=8)r<<=1,r|=e>>>s+o&1}n[a+0]=i>>>0,n[a+1]=r>>>0},t.rip=function(e,t,n,a){for(var i=0,r=0,o=0;o<4;o++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+o&1,i<<=1,i|=e>>>s+o&1;for(o=4;o<8;o++)for(s=24;s>=0;s-=8)r<<=1,r|=t>>>s+o&1,r<<=1,r|=e>>>s+o&1;n[a+0]=i>>>0,n[a+1]=r>>>0},t.pc1=function(e,t,n,a){for(var i=0,r=0,o=7;o>=5;o--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+o&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+o&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+o&1;for(o=1;o<=3;o++){for(s=0;s<=24;s+=8)r<<=1,r|=t>>s+o&1;for(s=0;s<=24;s+=8)r<<=1,r|=e>>s+o&1}for(s=0;s<=24;s+=8)r<<=1,r|=e>>s+o&1;n[a+0]=i>>>0,n[a+1]=r>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var r=0,o=0,s=a.length>>>1,c=0;c<s;c++)r<<=1,r|=e>>>a[c]&1;for(c=s;c<a.length;c++)o<<=1,o|=t>>>a[c]&1;n[i+0]=r>>>0,n[i+1]=o>>>0},t.expand=function(e,t,n){var a=0,i=0;a=(1&e)<<5|e>>>27;for(var r=23;r>=15;r-=4)a<<=6,a|=e>>>r&63;for(r=11;r>=3;r-=4)i|=e>>>r&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=a>>>0,t[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,a=0;a<4;a++){n<<=4,n|=i[64*a+(e>>>18-6*a&63)]}for(a=0;a<4;a++){n<<=4,n|=i[256+64*a+(t>>>18-6*a&63)]}return n>>>0};var r=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<r.length;n++)t<<=1,t|=e>>>r[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var a=e.toString(2);a.length<t;)a="0"+a;for(var i=[],r=0;r<t;r+=n)i.push(a.slice(r,r+n));return i.join(" ")}},function(e,t,n){"use strict";function a(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var i=n(21);e.exports=a,a.prototype._init=function(){},a.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},a.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),a=0;a<n;a++)this.buffer[this.bufferOff+a]=e[t+a];return this.bufferOff+=n,n},a.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(e){var t=0,n=0,a=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(a*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var r=e.length-(e.length-t)%this.blockSize;t<r;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},a.prototype._updateDecrypt=function(e){for(var t=0,n=0,a=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(a*this.blockSize);a>0;a--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},a.prototype.final=function(e){var t;e&&(t=this.update(e));var n;return n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},a.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},a.prototype._unpad=function(e){return e},a.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){"use strict";function a(e){c.call(this,e);var t=new function(){this.tmp=new Array(2),this.keys=null};this._desState=t,this.deriveKeys(t,e.key)}var i=n(21),r=n(3),o=n(80),s=o.utils,c=o.Cipher;r(a,c),e.exports=a,a.create=function(e){return new a(e)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];a.prototype.deriveKeys=function(e,t){e.keys=new Array(32),i.equal(t.length,this.blockSize,"Invalid key length");var n=s.readUInt32BE(t,0),a=s.readUInt32BE(t,4);s.pc1(n,a,e.tmp,0),n=e.tmp[0],a=e.tmp[1];for(var r=0;r<e.keys.length;r+=2){var o=l[r>>>1];n=s.r28shl(n,o),a=s.r28shl(a,o),s.pc2(n,a,e.keys,r)}},a.prototype._update=function(e,t,n,a){var i=this._desState,r=s.readUInt32BE(e,t),o=s.readUInt32BE(e,t+4);s.ip(r,o,i.tmp,0),r=i.tmp[0],o=i.tmp[1],"encrypt"===this.type?this._encrypt(i,r,o,i.tmp,0):this._decrypt(i,r,o,i.tmp,0),r=i.tmp[0],o=i.tmp[1],s.writeUInt32BE(n,r,a),s.writeUInt32BE(n,o,a+4)},a.prototype._pad=function(e,t){for(var n=e.length-t,a=t;a<e.length;a++)e[a]=n;return!0},a.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)i.equal(e[n],t);return e.slice(0,e.length-t)},a.prototype._encrypt=function(e,t,n,a,i){for(var r=t,o=n,c=0;c<e.keys.length;c+=2){var l=e.keys[c],d=e.keys[c+1];s.expand(o,e.tmp,0),l^=e.tmp[0],d^=e.tmp[1];var u=s.substitute(l,d),p=o;o=(r^s.permute(u))>>>0,r=p}s.rip(o,r,a,i)},a.prototype._decrypt=function(e,t,n,a,i){for(var r=n,o=t,c=e.keys.length-2;c>=0;c-=2){var l=e.keys[c],d=e.keys[c+1];s.expand(r,e.tmp,0),l^=e.tmp[0],d^=e.tmp[1];var u=s.substitute(l,d),p=r;r=(o^s.permute(u))>>>0,o=p}s.rip(r,o,a,i)}},function(e,t,n){"use strict";var a=n(21),i=n(3),r={};t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var n=Object.keys(r),a=0;a<n.length;a++){var o=n[a];t.prototype[o]=r[o]}return t.create=function(e){return new t(e)},t},r._cbcInit=function(){var e=new function(e){a.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}(this.options.iv);this._cbcState=e},r._update=function(e,t,n,a){var i=this._cbcState,r=this.constructor.super_.prototype,o=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)o[s]^=e[t+s];r._update.call(this,o,0,n,a);for(s=0;s<this.blockSize;s++)o[s]=n[a+s]}else{r._update.call(this,e,t,n,a);for(s=0;s<this.blockSize;s++)n[a+s]^=o[s];for(s=0;s<this.blockSize;s++)o[s]=e[t+s]}}},function(e,t,n){"use strict";function a(e){s.call(this,e);var t=new function(e,t){i.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),a=t.slice(8,16),r=t.slice(16,24);this.ciphers="encrypt"===e?[c.create({type:"encrypt",key:n}),c.create({type:"decrypt",key:a}),c.create({type:"encrypt",key:r})]:[c.create({type:"decrypt",key:r}),c.create({type:"encrypt",key:a}),c.create({type:"decrypt",key:n})]}(this.type,this.options.key);this._edeState=t}var i=n(21),r=n(3),o=n(80),s=o.Cipher,c=o.DES;r(a,s),e.exports=a,a.create=function(e){return new a(e)},a.prototype._update=function(e,t,n,a){var i=this._edeState;i.ciphers[0]._update(e,t,n,a),i.ciphers[1]._update(n,a,n,a),i.ciphers[2]._update(n,a,n,a)},a.prototype._pad=c.prototype._pad,a.prototype._unpad=c.prototype._unpad},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){(function(e){function a(t,n,r,c){return e.isBuffer(n)||void 0===s[n]?a(t,"binary",n,r):(n=n||"binary",c=c||"binary",r=r||new e([2]),e.isBuffer(r)||(r=new e(r,c)),"number"==typeof t?new o(i(t,r),r,!0):(e.isBuffer(t)||(t=new e(t,n)),new o(t,r,!0)))}var i=n(127),r=n(315),o=n(316),s={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(r[t].prime,"hex"),a=new e(r[t].gen,"hex");return new o(n,a)},t.createDiffieHellman=t.DiffieHellman=a}).call(t,n(8).Buffer)},function(e,t){},function(e,t){},function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(e,t,n){(function(t){function a(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new s(e),this}function i(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new s(e),this}function r(e,t,n){this.setGenerator(t),this.__prime=new s(e),this._prime=s.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=a,this.setPrivateKey=i):this._primeCode=8}function o(e,n){var a=new t(e.toArray());return n?a.toString(n):a}var s=n(13),c=new(n(129)),l=new s(24),d=new s(11),u=new s(10),p=new s(3),f=new s(7),h=n(127),m=n(36);e.exports=r;var b={};Object.defineProperty(r.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),a=[n,e.toString(16)].join("_");if(a in b)return b[a];var i=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!c.test(e))return i+=1,i+="02"===n||"05"===n?8:4,b[a]=i,i;c.test(e.shrn(1))||(i+=2);var r;switch(n){case"02":e.mod(l).cmp(d)&&(i+=8);break;case"05":(r=e.mod(u)).cmp(p)&&r.cmp(f)&&(i+=8);break;default:i+=4}return b[a]=i,i}(this.__prime,this.__gen)),this._primeCode}}),r.prototype.generateKeys=function(){return this._priv||(this._priv=new s(m(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},r.prototype.computeSecret=function(e){var n=(e=(e=new s(e)).toRed(this._prime)).redPow(this._priv).fromRed(),a=new t(n.toArray()),i=this.getPrime();if(a.length<i.length){var r=new t(i.length-a.length);r.fill(0),a=t.concat([r,a])}return a},r.prototype.getPublicKey=function(e){return o(this._pub,e)},r.prototype.getPrivateKey=function(e){return o(this._priv,e)},r.prototype.getPrime=function(e){return o(this.__prime,e)},r.prototype.getGenerator=function(e){return o(this._gen,e)},r.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new s(e),this}}).call(t,n(8).Buffer)},function(e,t,n){(function(t){function a(e){c.Writable.call(this);var t=p[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function i(e){c.Writable.call(this);var t=p[e];if(!t)throw new Error("Unknown message digest");this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function r(e){return new a(e)}function o(e){return new i(e)}var s=n(43),c=n(72),l=n(3),d=n(318),u=n(354),p=n(117);Object.keys(p).forEach(function(e){p[e].id=new t(p[e].id,"hex"),p[e.toLowerCase()]=p[e]}),l(a,c.Writable),a.prototype._write=function(e,t,n){this._hash.update(e),n()},a.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},a.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),a=d(n,e,this._hashType,this._signType,this._tag);return t?a.toString(t):a},l(i,c.Writable),i.prototype._write=function(e,t,n){this._hash.update(e),n()},i.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},i.prototype.verify=function(e,n,a){"string"==typeof n&&(n=new t(n,a)),this.end();var i=this._hash.digest();return u(n,i,e,this._signType,this._tag)},e.exports={Sign:r,Verify:o,createSign:r,createVerify:o}}).call(t,n(8).Buffer)},function(e,t,n){(function(t){function a(e,n,a,r){if((e=new t(e.toArray())).length<n.byteLength()){var s=new t(n.byteLength()-e.length);s.fill(0),e=t.concat([s,e])}var c=a.length,l=function(e,n){e=(e=i(e,n)).mod(n);var a=new t(e.toArray());if(a.length<n.byteLength()){var r=new t(n.byteLength()-a.length);r.fill(0),a=t.concat([r,a])}return a}(a,n),d=new t(c);d.fill(1);var u=new t(c);return u.fill(0),u=o(r,u).update(d).update(new t([0])).update(e).update(l).digest(),d=o(r,u).update(d).digest(),u=o(r,u).update(d).update(new t([1])).update(e).update(l).digest(),d=o(r,u).update(d).digest(),{k:u,v:d}}function i(e,t){var n=new l(e),a=(e.length<<3)-t.bitLength();return a>0&&n.ishrn(a),n}function r(e,n,a){var r,s;do{for(r=new t(0);8*r.length<e.bitLength();)n.v=o(a,n.k).update(n.v).digest(),r=t.concat([r,n.v]);s=i(r,e),n.k=o(a,n.k).update(n.v).update(new t([0])).digest(),n.v=o(a,n.k).update(n.v).digest()}while(-1!==s.cmp(e));return s}var o=n(116),s=n(81),c=n(16).ec,l=n(13),d=n(57),u=n(139);e.exports=function(e,n,o,p,f){var h=d(n);if(h.curve){if("ecdsa"!==p&&"ecdsa/rsa"!==p)throw new Error("wrong private key type");return function(e,n){var a=u[n.curve.join(".")];if(!a)throw new Error("unknown curve "+n.curve.join("."));var i=new c(a).keyFromPrivate(n.privateKey).sign(e);return new t(i.toDER())}(e,h)}if("dsa"===h.type){if("dsa"!==p)throw new Error("wrong private key type");return function(e,n,o){for(var s,c=n.params.priv_key,d=n.params.p,u=n.params.q,p=n.params.g,f=new l(0),h=i(e,u).mod(u),m=!1,b=a(c,u,e,o);!1===m;)s=r(u,b,o),f=function(e,t,n,a){return e.toRed(l.mont(n)).redPow(t).fromRed().mod(a)}(p,s,d,u),0===(m=s.invm(u).imul(h.add(c.mul(f))).mod(u)).cmpn(0)&&(m=!1,f=new l(0));return function(e,n){e=e.toArray(),n=n.toArray(),128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n));var a=[48,e.length+n.length+4,2,e.length];return a=a.concat(e,[2,n.length],n),new t(a)}(f,m)}(e,h,o)}if("rsa"!==p&&"ecdsa/rsa"!==p)throw new Error("wrong private key type");e=t.concat([f,e]);for(var m=h.modulus.byteLength(),b=[0,1];e.length+b.length+1<m;)b.push(255);b.push(0);for(var v=-1;++v<e.length;)b.push(e[v]);return s(b,h)},e.exports.getKey=a,e.exports.makeKey=r}).call(t,n(8).Buffer)},function(e,t){e.exports={name:"elliptic",version:"6.4.0",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}},function(e,t,n){"use strict";var a=t,i=n(13),r=n(21),o=n(131);a.assert=r,a.toArray=o.toArray,a.zero2=o.zero2,a.toHex=o.toHex,a.encode=o.encode,a.getNAF=function(e,t){for(var n=[],a=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var r;if(i.isOdd()){var o=i.andln(a-1);r=o>(a>>1)-1?(a>>1)-o:o,i.isubn(r)}else r=0;n.push(r);for(var s=0!==i.cmpn(0)&&0===i.andln(a-1)?t+1:1,c=1;c<s;c++)n.push(0);i.iushrn(s)}return n},a.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var a=0,i=0;e.cmpn(-a)>0||t.cmpn(-i)>0;){var r=e.andln(3)+a&3,o=t.andln(3)+i&3;3===r&&(r=-1),3===o&&(o=-1);var s;s=0==(1&r)?0:3!=(l=e.andln(7)+a&7)&&5!==l||2!==o?r:-r,n[0].push(s);var c;if(0==(1&o))c=0;else{var l;c=3!=(l=t.andln(7)+i&7)&&5!==l||2!==r?o:-o}n[1].push(c),2*a===s+1&&(a=1-a),2*i===c+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return n},a.cachedProperty=function(e,t,n){var a="_"+t;e.prototype[t]=function(){return void 0!==this[a]?this[a]:this[a]=n.call(this)}},a.parseBytes=function(e){return"string"==typeof e?a.toArray(e,"hex"):e},a.intFromLE=function(e){return new i(e,"hex","le")}},function(e,t,n){"use strict";function a(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function i(e,t){this.curve=e,this.type=t,this.precomputed=null}var r=n(13),o=n(16).utils,s=o.getNAF,c=o.getJSF,l=o.assert;e.exports=a,a.prototype.point=function(){throw new Error("Not implemented")},a.prototype.validate=function(){throw new Error("Not implemented")},a.prototype._fixedNafMul=function(e,t){l(e.precomputed);var n=e._getDoubles(),a=s(t,1),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;for(var r=[],o=0;o<a.length;o+=n.step){var c=0;for(t=o+n.step-1;t>=o;t--)c=(c<<1)+a[t];r.push(c)}for(var d=this.jpoint(null,null,null),u=this.jpoint(null,null,null),p=i;p>0;p--){for(o=0;o<r.length;o++){(c=r[o])===p?u=u.mixedAdd(n.points[o]):c===-p&&(u=u.mixedAdd(n.points[o].neg()))}d=d.add(u)}return d.toP()},a.prototype._wnafMul=function(e,t){var n=4,a=e._getNAFPoints(n);n=a.wnd;for(var i=a.points,r=s(t,n),o=this.jpoint(null,null,null),c=r.length-1;c>=0;c--){for(t=0;c>=0&&0===r[c];c--)t++;if(c>=0&&t++,o=o.dblp(t),c<0)break;var d=r[c];l(0!==d),o="affine"===e.type?d>0?o.mixedAdd(i[d-1>>1]):o.mixedAdd(i[-d-1>>1].neg()):d>0?o.add(i[d-1>>1]):o.add(i[-d-1>>1].neg())}return"affine"===e.type?o.toP():o},a.prototype._wnafMulAdd=function(e,t,n,a,i){for(var r=this._wnafT1,o=this._wnafT2,l=this._wnafT3,d=0,u=0;u<a;u++){var p=(I=t[u])._getNAFPoints(e);r[u]=p.wnd,o[u]=p.points}for(u=a-1;u>=1;u-=2){var f=u-1,h=u;if(1===r[f]&&1===r[h]){var m=[t[f],null,null,t[h]];0===t[f].y.cmp(t[h].y)?(m[1]=t[f].add(t[h]),m[2]=t[f].toJ().mixedAdd(t[h].neg())):0===t[f].y.cmp(t[h].y.redNeg())?(m[1]=t[f].toJ().mixedAdd(t[h]),m[2]=t[f].add(t[h].neg())):(m[1]=t[f].toJ().mixedAdd(t[h]),m[2]=t[f].toJ().mixedAdd(t[h].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=c(n[f],n[h]);d=Math.max(v[0].length,d),l[f]=new Array(d),l[h]=new Array(d);for(var g=0;g<d;g++){var y=0|v[0][g],x=0|v[1][g];l[f][g]=b[3*(y+1)+(x+1)],l[h][g]=0,o[f]=m}}else l[f]=s(n[f],r[f]),l[h]=s(n[h],r[h]),d=Math.max(l[f].length,d),d=Math.max(l[h].length,d)}var w=this.jpoint(null,null,null),k=this._wnafT4;for(u=d;u>=0;u--){for(var S=0;u>=0;){var C=!0;for(g=0;g<a;g++)k[g]=0|l[g][u],0!==k[g]&&(C=!1);if(!C)break;S++,u--}if(u>=0&&S++,w=w.dblp(S),u<0)break;for(g=0;g<a;g++){var I,_=k[g];0!==_&&(_>0?I=o[g][_-1>>1]:_<0&&(I=o[g][-_-1>>1].neg()),w="affine"===I.type?w.mixedAdd(I):w.add(I))}}for(u=0;u<a;u++)o[u]=null;return i?w:w.toP()},a.BasePoint=i,i.prototype.eq=function(){throw new Error("Not implemented")},i.prototype.validate=function(){return this.curve.validate(this)},a.prototype.decodePoint=function(e,t){e=o.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n){6===e[0]?l(e[e.length-1]%2==0):7===e[0]&&l(e[e.length-1]%2==1);return this.point(e.slice(1,1+n),e.slice(1+n,1+2*n))}if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},i.prototype.encodeCompressed=function(e){return this.encode(e,!0)},i.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},i.prototype.encode=function(e,t){return o.encode(this._encode(t),e)},i.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},i.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},i.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],a=this,i=0;i<t;i+=e){for(var r=0;r<e;r++)a=a.dbl();n.push(a)}return{step:e,points:n}},i.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,a=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(a);return{wnd:e,points:t}},i.prototype._getBeta=function(){return null},i.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){"use strict";function a(e){d.call(this,"short",e),this.a=new c(e.a,16).toRed(this.red),this.b=new c(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function i(e,t,n,a){d.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new c(t,16),this.y=new c(n,16),a&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function r(e,t,n,a){d.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===a?(this.x=this.curve.one,this.y=this.curve.one,this.z=new c(0)):(this.x=new c(t,16),this.y=new c(n,16),this.z=new c(a,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var o=n(56),s=n(16),c=n(13),l=n(3),d=o.base,u=s.utils.assert;l(a,d),e.exports=a,a.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new c(e.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);t=(t=a[0].cmp(a[1])<0?a[0]:a[1]).toRed(this.red)}if(e.lambda)n=new c(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?n=i[0]:(n=i[1],u(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}var r;return r=e.basis?e.basis.map(function(e){return{a:new c(e.a,16),b:new c(e.b,16)}}):this._getEndoBasis(n),{beta:t,lambda:n,basis:r}}},a.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:c.mont(e),n=new c(2).toRed(t).redInvm(),a=n.redNeg(),i=new c(3).toRed(t).redNeg().redSqrt().redMul(n);return[a.redAdd(i).fromRed(),a.redSub(i).fromRed()]},a.prototype._getEndoBasis=function(e){for(var t,n,a,i,r,o,s,l,d,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),p=e,f=this.n.clone(),h=new c(1),m=new c(0),b=new c(0),v=new c(1),g=0;0!==p.cmpn(0);){var y=f.div(p);l=f.sub(y.mul(p)),d=b.sub(y.mul(h));var x=v.sub(y.mul(m));if(!a&&l.cmp(u)<0)t=s.neg(),n=h,a=l.neg(),i=d;else if(a&&2==++g)break;s=l,f=p,p=l,b=h,h=d,v=m,m=x}r=l.neg(),o=d;var w=a.sqr().add(i.sqr());return r.sqr().add(o.sqr()).cmp(w)>=0&&(r=t,o=n),a.negative&&(a=a.neg(),i=i.neg()),r.negative&&(r=r.neg(),o=o.neg()),[{a:a,b:i},{a:r,b:o}]},a.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],a=t[1],i=a.b.mul(e).divRound(this.n),r=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),s=r.mul(a.a),c=i.mul(n.b),l=r.mul(a.b);return{k1:e.sub(o).sub(s),k2:c.add(l).neg()}},a.prototype.pointFromX=function(e,t){(e=new c(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),a=n.redSqrt();if(0!==a.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=a.fromRed().isOdd();return(t&&!i||!t&&i)&&(a=a.redNeg()),this.point(e,a)},a.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,a=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(a).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},a.prototype._endoWnafMulAdd=function(e,t,n){for(var a=this._endoWnafT1,i=this._endoWnafT2,r=0;r<e.length;r++){var o=this._endoSplit(t[r]),s=e[r],c=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),a[2*r]=s,a[2*r+1]=c,i[2*r]=o.k1,i[2*r+1]=o.k2}for(var l=this._wnafMulAdd(1,a,i,2*r,n),d=0;d<2*r;d++)a[d]=null,i[d]=null;return l},l(i,d.BasePoint),a.prototype.point=function(e,t,n){return new i(this,e,t,n)},a.prototype.pointFromJSON=function(e,t){return i.fromJSON(this,e,t)},i.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,a=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(a)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(a)}}}return t}},i.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},i.fromJSON=function(e,t,n){function a(t){return e.point(t[0],t[1],n)}"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;var r=t[2];return i.precomputed={beta:null,doubles:r.doubles&&{step:r.doubles.step,points:[i].concat(r.doubles.points.map(a))},naf:r.naf&&{wnd:r.naf.wnd,points:[i].concat(r.naf.points.map(a))}},i},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.inf},i.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),a=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,a)},i.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),a=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(a),r=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,o)},i.prototype.getX=function(){return this.x.fromRed()},i.prototype.getY=function(){return this.y.fromRed()},i.prototype.mul=function(e){return e=new c(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},i.prototype.mulAdd=function(e,t,n){var a=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,i):this.curve._wnafMulAdd(1,a,i,2)},i.prototype.jmulAdd=function(e,t,n){var a=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,i,!0):this.curve._wnafMulAdd(1,a,i,2,!0)},i.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},i.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,a=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(a)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(a)}}}return t},i.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);return this.curve.jpoint(this.x,this.y,this.curve.one)},l(r,d.BasePoint),a.prototype.jpoint=function(e,t,n){return new r(this,e,t,n)},r.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),a=this.y.redMul(t).redMul(e);return this.curve.point(n,a)},r.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},r.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),a=this.x.redMul(t),i=e.x.redMul(n),r=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),s=a.redSub(i),c=r.redSub(o);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),d=l.redMul(s),u=a.redMul(l),p=c.redSqr().redIAdd(d).redISub(u).redISub(u),f=c.redMul(u.redISub(p)).redISub(r.redMul(d)),h=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(p,f,h)},r.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,a=e.x.redMul(t),i=this.y,r=e.y.redMul(t).redMul(this.z),o=n.redSub(a),s=i.redSub(r);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),d=n.redMul(c),u=s.redSqr().redIAdd(l).redISub(d).redISub(d),p=s.redMul(d.redISub(u)).redISub(i.redMul(l)),f=this.z.redMul(o);return this.curve.jpoint(u,p,f)},r.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}var a=this.curve.a,i=this.curve.tinv,r=this.x,o=this.y,s=this.z,c=s.redSqr().redSqr(),l=o.redAdd(o);for(n=0;n<e;n++){var d=r.redSqr(),u=l.redSqr(),p=u.redSqr(),f=d.redAdd(d).redIAdd(d).redIAdd(a.redMul(c)),h=r.redMul(u),m=f.redSqr().redISub(h.redAdd(h)),b=h.redISub(m),v=f.redMul(b);v=v.redIAdd(v).redISub(p);var g=l.redMul(s);n+1<e&&(c=c.redMul(p)),r=m,s=g,l=v}return this.curve.jpoint(r,l.redMul(i),s)},r.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},r.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var a=this.x.redSqr(),i=this.y.redSqr(),r=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(a).redISub(r);o=o.redIAdd(o);var s=a.redAdd(a).redIAdd(a),c=s.redSqr().redISub(o).redISub(o),l=r.redIAdd(r);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=s.redMul(o.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),u=this.y.redSqr(),p=u.redSqr(),f=this.x.redAdd(u).redSqr().redISub(d).redISub(p);f=f.redIAdd(f);var h=d.redAdd(d).redIAdd(d),m=h.redSqr(),b=p.redIAdd(p);b=(b=b.redIAdd(b)).redIAdd(b),e=m.redISub(f).redISub(f),t=h.redMul(f.redISub(e)).redISub(b),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},r.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var a=this.x.redSqr(),i=this.y.redSqr(),r=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(a).redISub(r);o=o.redIAdd(o);var s=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),c=s.redSqr().redISub(o).redISub(o);e=c;var l=r.redIAdd(r);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(o.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),u=this.y.redSqr(),p=this.x.redMul(u),f=this.x.redSub(d).redMul(this.x.redAdd(d));f=f.redAdd(f).redIAdd(f);var h=p.redIAdd(p),m=(h=h.redIAdd(h)).redAdd(h);e=f.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(u).redISub(d);var b=u.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=f.redMul(h.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,n)},r.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,a=this.z,i=a.redSqr().redSqr(),r=t.redSqr(),o=n.redSqr(),s=r.redAdd(r).redIAdd(r).redIAdd(e.redMul(i)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(o),d=s.redSqr().redISub(l.redAdd(l)),u=l.redISub(d),p=o.redSqr();p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var f=s.redMul(u).redISub(p),h=n.redAdd(n).redMul(a);return this.curve.jpoint(d,f,h)},r.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),a=t.redSqr(),i=e.redAdd(e).redIAdd(e),r=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(a),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(r)).redSqr(),c=a.redIAdd(a);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(o).redSqr().redISub(r).redISub(s).redISub(c),d=t.redMul(l);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.x.redMul(s).redISub(d);u=(u=u.redIAdd(u)).redIAdd(u);var p=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(s)));p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var f=this.z.redAdd(o).redSqr().redISub(n).redISub(s);return this.curve.jpoint(u,p,f)},r.prototype.mul=function(e,t){return e=new c(e,t),this.curve._wnafMul(this,e)},r.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var a=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(a)).cmpn(0)},r.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var a=e.clone(),i=this.curve.redN.redMul(t);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}return!1},r.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},r.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){"use strict";function a(e){c.call(this,"mont",e),this.a=new o(e.a,16).toRed(this.red),this.b=new o(e.b,16).toRed(this.red),this.i4=new o(4).toRed(this.red).redInvm(),this.two=new o(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function i(e,t,n){c.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new o(t,16),this.z=new o(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var r=n(56),o=n(13),s=n(3),c=r.base,l=n(16).utils;s(a,c),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),a=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===a.redSqrt().redSqr().cmp(a)},s(i,c.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(l.toArray(e,t),1)},a.prototype.point=function(e,t){return new i(this,e,t)},a.prototype.pointFromJSON=function(e){return i.fromJSON(this,e)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(e,t){return new i(e,t[0],t[1]||e.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},i.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),a=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(a,i)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),a=this.x.redSub(this.z),i=e.x.redAdd(e.z),r=e.x.redSub(e.z).redMul(n),o=i.redMul(a),s=t.z.redMul(r.redAdd(o).redSqr()),c=t.x.redMul(r.redISub(o).redSqr());return this.curve.point(s,c)},i.prototype.mul=function(e){for(var t=e.clone(),n=this,a=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var r=i.length-1;r>=0;r--)0===i[r]?(n=n.diffAdd(a,this),a=a.dbl()):(a=n.diffAdd(a,this),n=n.dbl());return a},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";function a(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,l.call(this,"edwards",e),this.a=new s(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),d(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function i(e,t,n,a,i){l.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===a?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(t,16),this.y=new s(n,16),this.z=a?new s(a,16):this.curve.one,this.t=i&&new s(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var r=n(56),o=n(16),s=n(13),c=n(3),l=r.base,d=o.utils.assert;c(a,l),e.exports=a,a.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},a.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},a.prototype.jpoint=function(e,t,n,a){return this.point(e,t,n,a)},a.prototype.pointFromX=function(e,t){(e=new s(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),a=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),r=a.redMul(i.redInvm()),o=r.redSqrt();if(0!==o.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},a.prototype.pointFromY=function(e,t){(e=new s(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),a=n.redSub(this.one),i=n.redMul(this.d).redAdd(this.one),r=a.redMul(i.redInvm());if(0===r.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=r.redSqrt();if(0!==o.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");return o.isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},a.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),a=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===a.cmp(i)},c(i,l.BasePoint),a.prototype.pointFromJSON=function(e){return i.fromJSON(this,e)},a.prototype.point=function(e,t,n,a){return new i(this,e,t,n,a)},i.fromJSON=function(e,t){return new i(e,t[0],t[1],t[2])},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},i.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var a=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),r=a.redAdd(t),o=r.redSub(n),s=a.redSub(t),c=i.redMul(o),l=r.redMul(s),d=i.redMul(s),u=o.redMul(r);return this.curve.point(c,l,u,d)},i.prototype._projDbl=function(){var e,t,n,a=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),r=this.y.redSqr();if(this.curve.twisted){var o=(l=this.curve._mulA(i)).redAdd(r);if(this.zOne)e=a.redSub(i).redSub(r).redMul(o.redSub(this.curve.two)),t=o.redMul(l.redSub(r)),n=o.redSqr().redSub(o).redSub(o);else{var s=this.z.redSqr(),c=o.redSub(s).redISub(s);e=a.redSub(i).redISub(r).redMul(c),t=o.redMul(l.redSub(r)),n=o.redMul(c)}}else{var l=i.redAdd(r);s=this.curve._mulC(this.c.redMul(this.z)).redSqr(),c=l.redSub(s).redSub(s);e=this.curve._mulC(a.redISub(l)).redMul(c),t=this.curve._mulC(l).redMul(i.redISub(r)),n=l.redMul(c)}return this.curve.point(e,t,n)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},i.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),a=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),r=n.redSub(t),o=i.redSub(a),s=i.redAdd(a),c=n.redAdd(t),l=r.redMul(o),d=s.redMul(c),u=r.redMul(c),p=o.redMul(s);return this.curve.point(l,d,p,u)},i.prototype._projAdd=function(e){var t,n,a=this.z.redMul(e.z),i=a.redSqr(),r=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(r).redMul(o),c=i.redSub(s),l=i.redAdd(s),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(r).redISub(o),u=a.redMul(c).redMul(d);return this.curve.twisted?(t=a.redMul(l).redMul(o.redSub(this.curve._mulA(r))),n=c.redMul(l)):(t=a.redMul(l).redMul(o.redSub(r)),n=this.curve._mulC(c).redMul(l)),this.curve.point(u,t,n)},i.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},i.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},i.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},i.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},i.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},i.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},i.prototype.getY=function(){return this.normalize(),this.y.fromRed()},i.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},i.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),a=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(a),0===this.x.cmp(t))return!0}return!1},i.prototype.toP=i.prototype.normalize,i.prototype.mixedAdd=i.prototype.add},function(e,t,n){"use strict";function a(e){"short"===e.type?this.curve=new s.curve.short(e):"edwards"===e.type?this.curve=new s.curve.edwards(e):this.curve=new s.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function i(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new a(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}var r=t,o=n(82),s=n(16),c=s.utils.assert;r.PresetCurve=a,i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=n(332)}catch(e){l=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})},function(e,t,n){"use strict";t.sha1=n(327),t.sha224=n(328),t.sha256=n(133),t.sha384=n(329),t.sha512=n(134)},function(e,t,n){"use strict";function a(){if(!(this instanceof a))return new a;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}var i=n(27),r=n(46),o=n(132),s=i.rotl32,c=i.sum32,l=i.sum32_5,d=o.ft_1,u=r.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];i.inherits(a,u),e.exports=a,a.blockSize=512,a.outSize=160,a.hmacStrength=80,a.padLength=64,a.prototype._update=function(e,t){for(var n=this.W,a=0;a<16;a++)n[a]=e[t+a];for(;a<n.length;a++)n[a]=s(n[a-3]^n[a-8]^n[a-14]^n[a-16],1);var i=this.h[0],r=this.h[1],o=this.h[2],u=this.h[3],f=this.h[4];for(a=0;a<n.length;a++){var h=~~(a/20),m=l(s(i,5),d(h,r,o,u),f,n[a],p[h]);f=u,u=o,o=s(r,30),r=i,i=m}this.h[0]=c(this.h[0],i),this.h[1]=c(this.h[1],r),this.h[2]=c(this.h[2],o),this.h[3]=c(this.h[3],u),this.h[4]=c(this.h[4],f)},a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){"use strict";function a(){if(!(this instanceof a))return new a;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}var i=n(27),r=n(133);i.inherits(a,r),e.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";function a(){if(!(this instanceof a))return new a;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}var i=n(27),r=n(134);i.inherits(a,r),e.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";function a(){if(!(this instanceof a))return new a;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function i(e,t,n,a){return e<=15?t^n^a:e<=31?t&n|~t&a:e<=47?(t|~n)^a:e<=63?t&a|n&~a:t^(n|~a)}var r=n(27),o=n(46),s=r.rotl32,c=r.sum32,l=r.sum32_3,d=r.sum32_4,u=o.BlockHash;r.inherits(a,u),t.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(e,t){for(var n=this.h[0],a=this.h[1],r=this.h[2],o=this.h[3],u=this.h[4],b=n,v=a,g=r,y=o,x=u,w=0;w<80;w++){var k=c(s(d(n,i(w,a,r,o),e[p[w]+t],function(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}(w)),h[w]),u);n=u,u=o,o=s(r,10),r=a,a=k,k=c(s(d(b,i(79-w,v,g,y),e[f[w]+t],function(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}(w)),m[w]),x),b=x,x=y,y=s(g,10),g=v,v=k}k=l(this.h[1],r,y),this.h[1]=l(this.h[2],o,x),this.h[2]=l(this.h[3],u,b),this.h[3]=l(this.h[4],n,v),this.h[4]=l(this.h[0],a,g),this.h[0]=k},a.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,n))}var i=n(27),r=n(21);e.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),r(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,n){"use strict";function a(e){if(!(this instanceof a))return new a(e);"string"==typeof e&&(s(o.curves.hasOwnProperty(e),"Unknown curve "+e),e=o.curves[e]),e instanceof o.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var i=n(13),r=n(334),o=n(16),s=o.utils.assert,c=n(335),l=n(336);e.exports=a,a.prototype.keyPair=function(e){return new c(this,e)},a.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},a.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},a.prototype.genKeyPair=function(e){e||(e={});for(var t=new r({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),a=this.n.sub(new i(2));;){var s=new i(t.generate(n));if(!(s.cmp(a)>0))return s.iaddn(1),this.keyFromPrivate(s)}},a.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},a.prototype.sign=function(e,t,n,a){"object"==typeof n&&(a=n,n=null),a||(a={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new i(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),c=e.toArray("be",o),d=new r({hash:this.hash,entropy:s,nonce:c,pers:a.pers,persEnc:a.persEnc||"utf8"}),u=this.n.sub(new i(1)),p=0;;p++){var f=a.k?a.k(p):new i(d.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var m=h.getX(),b=m.umod(this.n);if(0!==b.cmpn(0)){var v=f.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var g=(h.getY().isOdd()?1:0)|(0!==m.cmp(b)?2:0);return a.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),g^=1),new l({r:b,s:v,recoveryParam:g})}}}}}},a.prototype.verify=function(e,t,n,a){e=this._truncateToN(new i(e,16)),n=this.keyFromPublic(n,a);var r=(t=new l(t,"hex")).r,o=t.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),c=s.mul(e).umod(this.n),d=s.mul(r).umod(this.n);if(!this.curve._maxwellTrick){return!(u=this.g.mulAdd(c,n.getPublic(),d)).isInfinity()&&0===u.getX().umod(this.n).cmp(r)}var u;return!(u=this.g.jmulAdd(c,n.getPublic(),d)).isInfinity()&&u.eqXToP(r)},a.prototype.recoverPubKey=function(e,t,n,a){s((3&n)===n,"The recovery param is more than two bits"),t=new l(t,a);var r=this.n,o=new i(e),c=t.r,d=t.s,u=1&n,p=n>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");c=p?this.curve.pointFromX(c.add(this.curve.n),u):this.curve.pointFromX(c,u);var f=t.r.invm(r),h=r.sub(o).mul(f).umod(r),m=d.mul(f).umod(r);return this.g.mulAdd(h,c,m)},a.prototype.getKeyRecoveryParam=function(e,t,n,a){if(null!==(t=new l(t,a)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var r;try{r=this.recoverPubKey(e,t,i)}catch(e){continue}if(r.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=r.toArray(e.entropy,e.entropyEnc||"hex"),n=r.toArray(e.nonce,e.nonceEnc||"hex"),i=r.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,i)}var i=n(82),r=n(131),o=n(21);e.exports=a,a.prototype._init=function(e,t,n){var a=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(a),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,a){"string"!=typeof t&&(a=n,n=t,t=null),e=r.toArray(e,t),n=r.toArray(n,a),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(a=n,n=t,t=null),n&&(n=r.toArray(n,a||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(n),this._reseed++,r.encode(o,t)}},function(e,t,n){"use strict";function a(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var i=n(13),r=n(16).utils.assert;e.exports=a,a.fromPublic=function(e,t,n){return t instanceof a?t:new a(e,{pub:t,pubEnc:n})},a.fromPrivate=function(e,t,n){return t instanceof a?t:new a(e,{priv:t,privEnc:n})},a.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},a.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?r(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||r(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},a.prototype.derive=function(e){return e.mul(this.priv).getX()},a.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},a.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(l(e.r&&e.s,"Signature without r or s"),this.r=new s(e.r,16),this.s=new s(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function i(e,t){var n=e[t.place++];if(!(128&n))return n;for(var a=15&n,i=0,r=0,o=t.place;r<a;r++,o++)i<<=8,i|=e[o];return t.place=o,i}function r(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function o(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}var s=n(13),c=n(16).utils,l=c.assert;e.exports=a,a.prototype._importDER=function(e,t){e=c.toArray(e,t);var n=new function(){this.place=0};if(48!==e[n.place++])return!1;if(i(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=i(e,n),r=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var o=i(e,n);if(e.length!==o+n.place)return!1;var l=e.slice(n.place,o+n.place);return 0===r[0]&&128&r[1]&&(r=r.slice(1)),0===l[0]&&128&l[1]&&(l=l.slice(1)),this.r=new s(r),this.s=new s(l),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=r(t),n=r(n);!(n[0]||128&n[1]);)n=n.slice(1);var a=[2];o(a,t.length),(a=a.concat(t)).push(2),o(a,n.length);var i=a.concat(n),s=[48];return o(s,i.length),s=s.concat(i),c.encode(s,e)}},function(e,t,n){"use strict";function a(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof a))return new a(e);e=r.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}var i=n(82),r=n(16),o=r.utils,s=o.assert,c=o.parseBytes,l=n(338),d=n(339);e.exports=a,a.prototype.sign=function(e,t){e=c(e);var n=this.keyFromSecret(t),a=this.hashInt(n.messagePrefix(),e),i=this.g.mul(a),r=this.encodePoint(i),o=this.hashInt(r,n.pubBytes(),e).mul(n.priv()),s=a.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:r})},a.prototype.verify=function(e,t,n){e=c(e),t=this.makeSignature(t);var a=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),a.pubBytes(),e),r=this.g.mul(t.S());return t.R().add(a.pub().mul(i)).eq(r)},a.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(e){return l.fromPublic(this,e)},a.prototype.keyFromSecret=function(e){return l.fromSecret(this,e)},a.prototype.makeSignature=function(e){return e instanceof d?e:new d(this,e)},a.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},a.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),a=0!=(128&e[t]),i=o.intFromLE(n);return this.curve.pointFromY(i,a)},a.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(e){return o.intFromLE(e)},a.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}var i=n(16).utils,r=i.assert,o=i.parseBytes,s=i.cachedProperty;a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,a=t.slice(0,e.encodingLength);return a[0]&=248,a[n]&=127,a[n]|=64,a}),s(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(e){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return r(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},a.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},e.exports=a},function(e,t,n){"use strict";function a(e,t){this.eddsa=e,"object"!=typeof t&&(t=c(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var i=n(13),r=n(16).utils,o=r.assert,s=r.cachedProperty,c=r.parseBytes;s(a,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(a,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(a,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(a,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},a.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},e.exports=a},function(e,t,n){"use strict";var a=n(47);t.certificate=n(351);var i=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=i;var r=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=r;var o=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=o;var s=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=c;var l=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=l;var d=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=d,t.DSAparam=a.define("DSAparam",function(){this.int()});var u=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=u;var p=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(e,t,n){function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var i=n(47),r=n(3);t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){var t;try{t=n(342).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return r(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i.decoders[e])),this.decoders[e]},a.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i.encoders[e])),this.encoders[e]},a.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(343),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,a=n.eval,i=n.execScript;!a&&i&&(i.call(n,"null"),a=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var r=Object_keys(n),o=a.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(r,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var a=0;a<e.length;++a)if(e[a]===t)return a;return-1}},function(e,t,n){function a(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function i(e,t){this.path=e,this.rethrow(t)}var r=n(3);t.Reporter=a,a.prototype.isError=function(e){return e instanceof i},a.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},a.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},a.prototype.enterKey=function(e){return this._reporterState.path.push(e)},a.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},a.prototype.leaveKey=function(e,t,n){var a=this._reporterState;this.exitKey(e),null!==a.obj&&(a.obj[t]=n)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},a.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},a.prototype.error=function(e){var t,n=this._reporterState,a=e instanceof i;if(t=a?e:new i(n.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw t;return a||n.errors.push(t),t},a.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(i,Error),i.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,n){function a(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var i=n(48).Reporter,r=n(48).EncoderBuffer,o=n(48).DecoderBuffer,s=n(21),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);e.exports=a;var d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];a.prototype.clone=function(){var e=this._baseState,t={};d.forEach(function(n){t[n]=e[n]});var n=new this.constructor(t.parent);return n._baseState=t,n},a.prototype._wrap=function(){var e=this._baseState;l.forEach(function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},a.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),s.equal(t.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(e){var t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(s(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);var a=e[n];t[a]=n}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){a.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),c.forEach(function(e){a.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(n),this}}),a.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},a.prototype.optional=function(){return this._baseState.optional=!0,this},a.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},a.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},a.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},a.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},a.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},a.prototype.any=function(){return this._baseState.any=!0,this},a.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},a.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},a.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var a=n.default,i=!0,r=null;if(null!==n.key&&(r=e.enterKey(n.key)),n.optional){var s=null;if(null!==n.explicit?s=n.explicit:null!==n.implicit?s=n.implicit:null!==n.tag&&(s=n.tag),null!==s||n.any){if(i=this._peekTag(e,s,n.any),e.isError(i))return i}else{var c=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),i=!0}catch(e){i=!1}e.restore(c)}}var l;if(n.obj&&i&&(l=e.enterObject()),i){if(null!==n.explicit){var d=this._decodeTag(e,n.explicit);if(e.isError(d))return d;e=d}var u=e.offset;if(null===n.use&&null===n.choice){if(n.any)c=e.save();var p=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(p))return p;n.any?a=e.raw(c):e=p}if(t&&t.track&&null!==n.tag&&t.track(e.path(),u,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),a=n.any?a:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(a))return a;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(e,t)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var f=new o(a);a=this._getUse(n.contains,e._reporterState.obj)._decode(f,t)}}return n.obj&&i&&(a=e.leaveObject(l)),null===n.key||null===a&&!0!==i?null!==r&&e.exitKey(r):e.leaveKey(r,n.key,a),a},a.prototype._decodeGeneric=function(e,t,n){var a=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,a.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&a.args?this._decodeObjid(t,a.args[0],a.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,a.args&&a.args[0],n):null!==a.use?this._getUse(a.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},a.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),s(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},a.prototype._decodeChoice=function(e,t){var n=this._baseState,a=null,i=!1;return Object.keys(n.choice).some(function(r){var o=e.save(),s=n.choice[r];try{var c=s._decode(e,t);if(e.isError(c))return!1;a={type:r,value:c},i=!0}catch(t){return e.restore(o),!1}return!0},this),i?a:e.error("Choice not matched")},a.prototype._createEncoderBuffer=function(e){return new r(e,this.reporter)},a.prototype._encode=function(e,t,n){var a=this._baseState;if(null===a.default||a.default!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},a.prototype._encodeValue=function(e,t,n){var a=this._baseState;if(null===a.parent)return a.children[0]._encode(e,t||new i);var r=null;if(this.reporter=t,a.optional&&void 0===e){if(null===a.default)return;e=a.default}var o=null,s=!1;if(a.any)r=this._createEncoderBuffer(e);else if(a.choice)r=this._encodeChoice(e,t);else if(a.contains)o=this._getUse(a.contains,n)._encode(e,t),s=!0;else if(a.children)o=a.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var a=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(a),i},this).filter(function(e){return e}),o=this._createEncoderBuffer(o);else if("seqof"===a.tag||"setof"===a.tag){if(!a.args||1!==a.args.length)return t.error("Too many args for : "+a.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(n){var a=this._baseState;return this._getUse(a.args[0],e)._encode(n,t)},c))}else null!==a.use?r=this._getUse(a.use,n)._encode(e,t):(o=this._encodePrimitive(a.tag,e),s=!0);if(!a.any&&null===a.choice){var l=null!==a.implicit?a.implicit:a.tag,d=null===a.implicit?"universal":"context";null===l?null===a.use&&t.error("Tag could be omitted only for .use()"):null===a.use&&(r=this._encodeComposite(l,s,d,o))}return null!==a.explicit&&(r=this._encodeComposite(a.explicit,!1,"context",r)),r},a.prototype._encodeChoice=function(e,t){var n=this._baseState,a=n.choice[e.type];return a||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),a._encode(e.value,t)},a.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},a.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},a.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,n){var a=n(136);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=a._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=a._reverse(t.tag)},function(e,t,n){var a=t;a.der=n(137),a.pem=n(348)},function(e,t,n){function a(e){o.call(this,e),this.enc="pem"}var i=n(3),r=n(8).Buffer,o=n(137);i(a,o),e.exports=a,a.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),a=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1,l=0;l<n.length;l++){var d=n[l].match(i);if(null!==d&&d[2]===a){if(-1!==s){if("END"!==d[1])break;c=l;break}if("BEGIN"!==d[1])break;s=l}}if(-1===s||-1===c)throw new Error("PEM section not found for: "+a);var u=n.slice(s+1,c).join("");u.replace(/[^a-z0-9\+\/=]+/gi,"");var p=new r(u,"base64");return o.prototype.decode.call(this,p,t)}},function(e,t,n){var a=t;a.der=n(138),a.pem=n(350)},function(e,t,n){function a(e){r.call(this,e),this.enc="pem"}var i=n(3),r=n(138);i(a,r),e.exports=a,a.prototype.encode=function(e,t){for(var n=r.prototype.encode.call(this,e).toString("base64"),a=["-----BEGIN "+t.label+"-----"],i=0;i<n.length;i+=64)a.push(n.slice(i,i+64));return a.push("-----END "+t.label+"-----"),a.join("\n")}},function(e,t,n){"use strict";var a=n(47),i=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),r=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),s=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),c=a.define("RelativeDistinguishedName",function(){this.setof(r)}),l=a.define("RDNSequence",function(){this.seqof(c)}),d=a.define("Name",function(){this.choice({rdnSequence:this.use(l)})}),u=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),p=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(d),this.key("validity").use(u),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),h=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});e.exports=h},function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(e,t,n){(function(t){var a=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m,r=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m,o=n(54),s=n(78);e.exports=function(e,n){var c,l=e.toString(),d=l.match(a);if(d){var u="aes"+d[1],p=new t(d[2],"hex"),f=new t(d[3].replace(/\r?\n/g,""),"base64"),h=o(n,p.slice(0,8),parseInt(d[1],10)).key,m=[],b=s.createDecipheriv(u,h,p);m.push(b.update(f)),m.push(b.final()),c=t.concat(m)}else{var v=l.match(r);c=new t(v[2].replace(/\r?\n/g,""),"base64")}return{tag:l.match(i)[1],data:c}}}).call(t,n(8).Buffer)},function(e,t,n){(function(t){function a(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}var i=n(13),r=n(16).ec,o=n(57),s=n(139);e.exports=function(e,n,c,l,d){var u=o(c);if("ec"===u.type){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");return function(e,t,n){var a=s[n.data.algorithm.curve.join(".")];if(!a)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new r(a),o=n.data.subjectPrivateKey.data;return i.verify(t,e,o)}(e,n,u)}if("dsa"===u.type){if("dsa"!==l)throw new Error("wrong public key type");return function(e,t,n){var r=n.data.p,s=n.data.q,c=n.data.g,l=n.data.pub_key,d=o.signature.decode(e,"der"),u=d.s,p=d.r;a(u,s),a(p,s);var f=i.mont(r),h=u.invm(s);return 0===c.toRed(f).redPow(new i(t).mul(h).mod(s)).fromRed().mul(l.toRed(f).redPow(p.mul(h).mod(s)).fromRed()).mod(r).mod(s).cmp(p)}(e,n,u)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");n=t.concat([d,n]);for(var p=u.modulus.byteLength(),f=[1],h=0;n.length+f.length+2<p;)f.push(255),h++;f.push(0);for(var m=-1;++m<n.length;)f.push(n[m]);f=new t(f);var b=i.mont(u.modulus);e=(e=new i(e).toRed(b)).redPow(new i(u.publicExponent)),e=new t(e.fromRed().toArray());var v=h<8?1:0;for(p=Math.min(e.length,f.length),e.length!==f.length&&(v=1),m=-1;++m<p;)v|=e[m]^f[m];return 0===v}}).call(t,n(8).Buffer)},function(e,t,n){(function(t){function a(e){this.curveType=s[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function i(e,n,a){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(a&&i.length<a){var r=new t(a-i.length);r.fill(0),i=t.concat([r,i])}return n?i.toString(n):i}var r=n(16),o=n(13);e.exports=function(e){return new a(e)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,n,a){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));return i(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),a,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),i(n,e)},a.prototype.getPrivateKey=function(e){return i(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var a=new o(e);return a=a.toString(16),this.keys._importPrivate(a),this}}).call(t,n(8).Buffer)},function(e,t,n){t.publicEncrypt=n(357),t.privateDecrypt=n(358),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){(function(t){function a(e,n,a){var i=n.length,o=e.modulus.byteLength();if(i>o-11)throw new Error("message too long");var s;return a?(s=new t(o-i-3)).fill(255):s=function(e,n){var a,i=new t(e),o=0,s=r(2*e),c=0;for(;o<e;)c===s.length&&(s=r(2*e),c=0),(a=s[c++])&&(i[o++]=a);return i}(o-i-3),new l(t.concat([new t([0,a?1:2]),s,new t([0]),n],o))}var i=n(57),r=n(36),o=n(43),s=n(140),c=n(141),l=n(13),d=n(142),u=n(81);e.exports=function(e,n,p){var f;f=e.padding?e.padding:p?1:4;var h,m=i(e);if(4===f)h=function(e,n){var a=e.modulus.byteLength(),i=n.length,d=o("sha1").update(new t("")).digest(),u=d.length,p=2*u;if(i>a-p-2)throw new Error("message too long");var f=new t(a-i-p-2);f.fill(0);var h=a-u-1,m=r(u),b=c(t.concat([d,f,new t([1]),n],h),s(m,h)),v=c(m,s(b,u));return new l(t.concat([new t([0]),v,b],a))}(m,n);else if(1===f)h=a(m,n,p);else{if(3!==f)throw new Error("unknown padding");if((h=new l(n)).cmp(m.modulus)>=0)throw new Error("data too long for modulus")}return p?u(h,m):d(h,m)}}).call(t,n(8).Buffer)},function(e,t,n){(function(t){function a(e,n){e.modulus;var a=e.modulus.byteLength(),i=(n.length,l("sha1").update(new t("")).digest()),s=i.length;if(0!==n[0])throw new Error("decryption error");var c=n.slice(1,s+1),d=n.slice(s+1),u=o(c,r(d,s)),p=o(d,r(u,a-s-1));if(function(e,n){e=new t(e),n=new t(n);var a=0,i=e.length;e.length!==n.length&&(a++,i=Math.min(e.length,n.length));var r=-1;for(;++r<i;)a+=e[r]^n[r];return a}(i,p.slice(0,s)))throw new Error("decryption error");for(var f=s;0===p[f];)f++;if(1!==p[f++])throw new Error("decryption error");return p.slice(f)}var i=n(57),r=n(140),o=n(141),s=n(13),c=n(81),l=n(43),d=n(142);e.exports=function(e,n,r){var o;o=e.padding?e.padding:r?1:4;var l=i(e),u=l.modulus.byteLength();if(n.length>u||new s(n).cmp(l.modulus)>=0)throw new Error("decryption error");var p;p=r?d(new s(n),l):c(n,l);var f=new t(u-p.length);if(f.fill(0),p=t.concat([f,p],u),4===o)return a(l,p);if(1===o)return function(e,t,n){for(var a=t.slice(0,2),i=2,r=0;0!==t[i++];)if(i>=t.length){r++;break}var o=t.slice(2,i-1);if(t.slice(i-1,i),("0002"!==a.toString("hex")&&!n||"0001"!==a.toString("hex")&&n)&&r++,o.length<8&&r++,r)throw new Error("decryption error");return t.slice(i)}(0,p,r);if(3===o)return p;throw new Error("unknown padding")}}).call(t,n(8).Buffer)},function(e,t,n){"use strict";(function(e,a){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function r(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>m||e<0)throw new TypeError("offset must be a uint32");if(e>f||e>t)throw new RangeError("offset out of range")}function o(e,t,n){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>m||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>f)throw new RangeError("buffer too small")}function s(t,n,a,i){if(!(p.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)i=n,n=0,a=t.length;else if("function"==typeof a)i=a,a=t.length-n;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return r(n,t.length),o(a,n,t.length),c(t,n,a,i)}function c(e,t,n,i){if(a.browser){var r=e.buffer,o=new Uint8Array(r,t,n);return h.getRandomValues(o),i?void a.nextTick(function(){i(null,e)}):e}if(!i){return u(n).copy(e,t),e}u(n,function(n,a){if(n)return i(n);a.copy(e,t),i(null,e)})}function l(t,n,a){if(void 0===n&&(n=0),!(p.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return r(n,t.length),void 0===a&&(a=t.length-n),o(a,n,t.length),c(t,n,a)}var d=n(7),u=n(36),p=d.Buffer,f=d.kMaxLength,h=e.crypto||e.msCrypto,m=Math.pow(2,32)-1;h&&h.getRandomValues||!a.browser?(t.randomFill=s,t.randomFillSync=l):(t.randomFill=i,t.randomFillSync=i)}).call(t,n(26),n(29))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(143),i=n(2),r={name:"Migrate Campaign Notes to new DM Notes",version:"1.5.0",migration:function(){i.a.findAllObjs("Campaign").forEach(function(e,t,n){var i=e.data.characterId;if(e.data.notes&&""!==e.data.notes){var r=new a.a;r.characterId(i),r.text("Archived Notes\n\n"+e.data.notes),r.save()}})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(2);const i="MonsterAbilityScore";var r={name:"Remove redundant monster ability scores.",version:"1.5.2",migration:()=>{const e=(e=>{const t=e.map((e,t,n)=>[e.data,(e=>`${e.characterId}_${e.monsterId}_${e.encounterId}_${e.name}`)(e.data)]);for(var n=[],a=[],i=t.length-1;i>=0;i--){const[e,r]=t[i];-1===a.indexOf(r)&&(a.push(r),n.push(e))}return n})(a.a.findAllObjs(i));a.a.drop(i);for(var t=0;t<e.length;t++){const n=e[t];a.a._saveObj(i,t,n)}}}},function(e,t,n){"use strict";n(363),n(477),n(186)},function(e,t,n){"use strict";n(364),n(374),n(376),n(383),n(395),n(397),n(399),n(401),n(421),n(423),n(425),n(427),n(429),n(451),n(453),n(455),n(457),n(459),n(461),n(464),n(466),n(468),n(470),n(472),n(474)},function(e,t,n){"use strict";n(14);var a=n(28),i=n(1),r=n(2),o=n(0),s=n.n(o),c=n(373),l=n.n(c);s.a.components.register("ability-scores",{viewModel:function(){var e=this;e.abilityScores=s.a.observable(new a.a),e.modalStatus=s.a.observable(!1),e.editItem=s.a.observable(),e.firstModalElementHasFocus=s.a.observable(!1),e.load=function(){i.f.global.save.add(e.save);var t=i.a.activeCharacter().key(),n=r.a.findBy(a.a,"characterId",t);n.length>0?e.abilityScores(n[0]):e.abilityScores(new a.a),e.abilityScores().characterId(t),e.abilityScores().str.subscribe(e.dataHasChanged),e.abilityScores().dex.subscribe(e.dexterityHasChanged),e.abilityScores().con.subscribe(e.dataHasChanged),e.abilityScores().int.subscribe(e.intelligenceHasChanged),e.abilityScores().wis.subscribe(e.dataHasChanged),e.abilityScores().cha.subscribe(e.dataHasChanged)},e.unload=function(){e.save(),i.f.global.save.remove(e.save)},e.save=function(){e.abilityScores().save()},e.dataHasChanged=function(){e.abilityScores().save(),i.f.abilityScores.changed.dispatch()},e.intelligenceHasChanged=function(){e.abilityScores().save(),i.f.abilityScores.intelligence.changed.dispatch(),i.f.abilityScores.changed.dispatch()},e.dexterityHasChanged=function(){e.abilityScores().save(),i.f.abilityScores.dexterity.changed.dispatch(),i.f.abilityScores.changed.dispatch()},e.openModal=function(){e.editItem(new a.a),e.editItem().importValues(e.abilityScores().exportValues()),e.modalStatus(!0),e.modalStatus.valueHasMutated()},e.modalFinishedAnimating=function(){e.firstModalElementHasFocus(!0),e.firstModalElementHasFocus.valueHasMutated()},e.modalFinishedClosing=function(){e.modalStatus()&&e.abilityScores().importValues(e.editItem().exportValues()),e.modalStatus(!1),e.abilityScores().save()}},template:l.a})},function(e,t){e.exports=Dropbox},function(e,t,n){var a;!function(i){function r(e,t,n,a,i){this._listener=t,this._isOnce=n,this.context=a,this._signal=e,this._priority=i||0}function o(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function s(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){s.prototype.dispatch.apply(e,arguments)}}r.prototype={active:!0,params:null,execute:function(e){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,t,n,a){var i,o=this._indexOfListener(e,n);if(-1!==o){if((i=this._bindings[o]).isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else i=new r(this,e,t,n,a),this._addBinding(i);return this.memorize&&this._prevParams&&i.execute(this._prevParams),i},_addBinding:function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,a=this._bindings.length;a--;)if((n=this._bindings[a])._listener===e&&n.context===t)return a;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,n){return o(e,"add"),this._registerListener(e,!1,t,n)},addOnce:function(e,t,n){return o(e,"addOnce"),this._registerListener(e,!0,t,n)},remove:function(e,t){o(e,"remove");var n=this._indexOfListener(e,t);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,n=Array.prototype.slice.call(arguments),a=this._bindings.length;if(this.memorize&&(this._prevParams=n),a){t=this._bindings.slice(),this._shouldPropagate=!0;do{a--}while(t[a]&&this._shouldPropagate&&!1!==t[a].execute(n))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var c=s;c.Signal=s,void 0===(a=function(){return c}.call(t,n,t,e))||(e.exports=a)}()},function(e,t,n){var a;!function(i){"use strict";function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,n,a,i,o){return r(function(e,t){return e<<t|e>>>32-t}(r(r(t,e),r(a,o)),i),n)}function s(e,t,n,a,i,r,s){return o(t&n|~t&a,e,t,i,r,s)}function c(e,t,n,a,i,r,s){return o(t&a|n&~a,e,t,i,r,s)}function l(e,t,n,a,i,r,s){return o(t^n^a,e,t,i,r,s)}function d(e,t,n,a,i,r,s){return o(n^(t|~a),e,t,i,r,s)}function u(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,a,i,o,u,p=1732584193,f=-271733879,h=-1732584194,m=271733878;for(n=0;n<e.length;n+=16)a=p,i=f,o=h,u=m,f=d(f=d(f=d(f=d(f=l(f=l(f=l(f=l(f=c(f=c(f=c(f=c(f=s(f=s(f=s(f=s(f,h=s(h,m=s(m,p=s(p,f,h,m,e[n],7,-680876936),f,h,e[n+1],12,-389564586),p,f,e[n+2],17,606105819),m,p,e[n+3],22,-1044525330),h=s(h,m=s(m,p=s(p,f,h,m,e[n+4],7,-176418897),f,h,e[n+5],12,1200080426),p,f,e[n+6],17,-1473231341),m,p,e[n+7],22,-45705983),h=s(h,m=s(m,p=s(p,f,h,m,e[n+8],7,1770035416),f,h,e[n+9],12,-1958414417),p,f,e[n+10],17,-42063),m,p,e[n+11],22,-1990404162),h=s(h,m=s(m,p=s(p,f,h,m,e[n+12],7,1804603682),f,h,e[n+13],12,-40341101),p,f,e[n+14],17,-1502002290),m,p,e[n+15],22,1236535329),h=c(h,m=c(m,p=c(p,f,h,m,e[n+1],5,-165796510),f,h,e[n+6],9,-1069501632),p,f,e[n+11],14,643717713),m,p,e[n],20,-373897302),h=c(h,m=c(m,p=c(p,f,h,m,e[n+5],5,-701558691),f,h,e[n+10],9,38016083),p,f,e[n+15],14,-660478335),m,p,e[n+4],20,-405537848),h=c(h,m=c(m,p=c(p,f,h,m,e[n+9],5,568446438),f,h,e[n+14],9,-1019803690),p,f,e[n+3],14,-187363961),m,p,e[n+8],20,1163531501),h=c(h,m=c(m,p=c(p,f,h,m,e[n+13],5,-1444681467),f,h,e[n+2],9,-51403784),p,f,e[n+7],14,1735328473),m,p,e[n+12],20,-1926607734),h=l(h,m=l(m,p=l(p,f,h,m,e[n+5],4,-378558),f,h,e[n+8],11,-2022574463),p,f,e[n+11],16,1839030562),m,p,e[n+14],23,-35309556),h=l(h,m=l(m,p=l(p,f,h,m,e[n+1],4,-1530992060),f,h,e[n+4],11,1272893353),p,f,e[n+7],16,-155497632),m,p,e[n+10],23,-1094730640),h=l(h,m=l(m,p=l(p,f,h,m,e[n+13],4,681279174),f,h,e[n],11,-358537222),p,f,e[n+3],16,-722521979),m,p,e[n+6],23,76029189),h=l(h,m=l(m,p=l(p,f,h,m,e[n+9],4,-640364487),f,h,e[n+12],11,-421815835),p,f,e[n+15],16,530742520),m,p,e[n+2],23,-995338651),h=d(h,m=d(m,p=d(p,f,h,m,e[n],6,-198630844),f,h,e[n+7],10,1126891415),p,f,e[n+14],15,-1416354905),m,p,e[n+5],21,-57434055),h=d(h,m=d(m,p=d(p,f,h,m,e[n+12],6,1700485571),f,h,e[n+3],10,-1894986606),p,f,e[n+10],15,-1051523),m,p,e[n+1],21,-2054922799),h=d(h,m=d(m,p=d(p,f,h,m,e[n+8],6,1873313359),f,h,e[n+15],10,-30611744),p,f,e[n+6],15,-1560198380),m,p,e[n+13],21,1309151649),h=d(h,m=d(m,p=d(p,f,h,m,e[n+4],6,-145523070),f,h,e[n+11],10,-1120210379),p,f,e[n+2],15,718787259),m,p,e[n+9],21,-343485551),p=r(p,a),f=r(f,i),h=r(h,o),m=r(m,u);return[p,f,h,m]}function p(e){var t,n="",a=32*e.length;for(t=0;t<a;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function f(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var a=8*e.length;for(t=0;t<a;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){var t,n,a="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),a+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return a}function m(e){return unescape(encodeURIComponent(e))}function b(e){return function(e){return p(u(f(e),8*e.length))}(m(e))}function v(e,t){return function(e,t){var n,a,i=f(e),r=[],o=[];for(r[15]=o[15]=void 0,i.length>16&&(i=u(i,8*e.length)),n=0;n<16;n+=1)r[n]=909522486^i[n],o[n]=1549556828^i[n];return a=u(r.concat(f(t)),512+8*t.length),p(u(o.concat(a),640))}(m(e),m(t))}function g(e,t,n){return t?n?v(t,e):function(e,t){return h(v(e,t))}(t,e):n?b(e):function(e){return h(b(e))}(e)}void 0===(a=function(){return g}.call(t,n,t,e))||(e.exports=a)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.saveAs=window.saveAs||function(e){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in n,i=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),r=e.webkitRequestFileSystem,o=e.requestFileSystem||r||e.mozRequestFileSystem,s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",l=0,d=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},u=function(e,t,n){for(var a=(t=[].concat(t)).length;a--;){var i=e["on"+t[a]];if("function"==typeof i)try{i.call(e,n||e)}catch(e){s(e)}}},p=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},f=function s(f,h,m){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),m||(f=p(f));var b,v,g,y=this,x=f.type,w=!1,k=function(){u(y,"writestart progress write writeend".split(" "))},S=function(){if(v&&i&&"undefined"!=typeof FileReader){var n=new FileReader;return n.onloadend=function(){var e=n.result;v.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),y.readyState=y.DONE,k()},n.readAsDataURL(f),void(y.readyState=y.INIT)}if(!w&&b||(b=t().createObjectURL(f)),v)v.location.href=b;else{void 0===e.open(b,"_blank")&&i&&(e.location.href=b)}y.readyState=y.DONE,k(),d(b)},C=function(e){return function(){if(y.readyState!==y.DONE)return e.apply(this,arguments)}},I={create:!0,exclusive:!1};if(y.readyState=y.INIT,h||(h="download"),a)return b=t().createObjectURL(f),void setTimeout(function(){n.href=b,n.download=h,function(e){var t=new MouseEvent("click");e.dispatchEvent(t)}(n),k(),d(b),y.readyState=y.DONE});e.chrome&&x&&x!==c&&(g=f.slice||f.webkitSlice,f=g.call(f,0,f.size,c),w=!0),r&&"download"!==h&&(h+=".download"),(x===c||r)&&(v=e),o?(l+=f.size,o(e.TEMPORARY,l,C(function(e){e.root.getDirectory("saved",I,C(function(e){var t=function(){e.getFile(h,I,C(function(e){e.createWriter(C(function(t){t.onwriteend=function(t){v.location.href=e.toURL(),y.readyState=y.DONE,u(y,"writeend",t),d(e)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&S()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=y["on"+e]}),t.write(f),y.abort=function(){t.abort(),y.readyState=y.DONE},y.readyState=y.WRITING}),S)}),S)};e.getFile(h,{create:!1},C(function(e){e.remove(),t()}),C(function(e){e.code===e.NOT_FOUND_ERR?t():S()}))}),S)}),S)):S()},h=f.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=p(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(h.abort=function(){this.readyState=this.DONE,u(this,"abort")},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(e,t,n){return new f(e,t,n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);t.default=a},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={filterBy:function(e,t,n){return a[e].filter(function(e,a,i){return e[t]===n})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(371),i=n.n(a),r={configuration:{compression:{"lz-string":{compress:function(e){return i.a.compressToUTF16(e)},decompress:function(e){return i.a.decompressFromUTF16(e)}}}},getContents:function(e){var t=null;if("true"==e.attr("compressed").toLowerCase()){var n=e.attr("compression").toLowerCase();t=r.configuration.compression[n].decompress(e.text())}else t=e.text();return JSON.parse(t)},getElement:function(e,t){var n=JSON.stringify(e);return t.compressed&&(n=r.configuration.compression[t.compression].compress(n)),$build("json",t).t(n)}}},function(e,t,n){var a,i=function(){function e(e,t){if(!i[e]){i[e]={};for(var n=0;n<e.length;n++)i[e][e.charAt(n)]=n}return i[e][t]}var t=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={},r={compressToBase64:function(e){if(null==e)return"";var t=r._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:r._decompress(t.length,32,function(a){return e(n,t.charAt(a))})},compressToUTF16:function(e){return null==e?"":r._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:r._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=r.compress(e),n=new Uint8Array(2*t.length),a=0,i=t.length;a<i;a++){var o=t.charCodeAt(a);n[2*a]=o>>>8,n[2*a+1]=o%256}return n},decompressFromUint8Array:function(e){if(null===e||void 0===e)return r.decompress(e);for(var n=new Array(e.length/2),a=0,i=n.length;a<i;a++)n[a]=256*e[2*a]+e[2*a+1];var o=[];return n.forEach(function(e){o.push(t(e))}),r.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":r._compress(e,6,function(e){return a.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),r._decompress(t.length,32,function(n){return e(a,t.charAt(n))}))},compress:function(e){return r._compress(e,16,function(e){return t(e)})},_compress:function(e,t,n){if(null==e)return"";var a,i,r,o={},s={},c="",l="",d="",u=2,p=3,f=2,h=[],m=0,b=0;for(r=0;r<e.length;r+=1)if(c=e.charAt(r),Object.prototype.hasOwnProperty.call(o,c)||(o[c]=p++,s[c]=!0),l=d+c,Object.prototype.hasOwnProperty.call(o,l))d=l;else{if(Object.prototype.hasOwnProperty.call(s,d)){if(d.charCodeAt(0)<256){for(a=0;a<f;a++)m<<=1,b==t-1?(b=0,h.push(n(m)),m=0):b++;for(i=d.charCodeAt(0),a=0;a<8;a++)m=m<<1|1&i,b==t-1?(b=0,h.push(n(m)),m=0):b++,i>>=1}else{for(i=1,a=0;a<f;a++)m=m<<1|i,b==t-1?(b=0,h.push(n(m)),m=0):b++,i=0;for(i=d.charCodeAt(0),a=0;a<16;a++)m=m<<1|1&i,b==t-1?(b=0,h.push(n(m)),m=0):b++,i>>=1}0==--u&&(u=Math.pow(2,f),f++),delete s[d]}else for(i=o[d],a=0;a<f;a++)m=m<<1|1&i,b==t-1?(b=0,h.push(n(m)),m=0):b++,i>>=1;0==--u&&(u=Math.pow(2,f),f++),o[l]=p++,d=String(c)}if(""!==d){if(Object.prototype.hasOwnProperty.call(s,d)){if(d.charCodeAt(0)<256){for(a=0;a<f;a++)m<<=1,b==t-1?(b=0,h.push(n(m)),m=0):b++;for(i=d.charCodeAt(0),a=0;a<8;a++)m=m<<1|1&i,b==t-1?(b=0,h.push(n(m)),m=0):b++,i>>=1}else{for(i=1,a=0;a<f;a++)m=m<<1|i,b==t-1?(b=0,h.push(n(m)),m=0):b++,i=0;for(i=d.charCodeAt(0),a=0;a<16;a++)m=m<<1|1&i,b==t-1?(b=0,h.push(n(m)),m=0):b++,i>>=1}0==--u&&(u=Math.pow(2,f),f++),delete s[d]}else for(i=o[d],a=0;a<f;a++)m=m<<1|1&i,b==t-1?(b=0,h.push(n(m)),m=0):b++,i>>=1;0==--u&&(u=Math.pow(2,f),f++)}for(i=2,a=0;a<f;a++)m=m<<1|1&i,b==t-1?(b=0,h.push(n(m)),m=0):b++,i>>=1;for(;;){if(m<<=1,b==t-1){h.push(n(m));break}b++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:r._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,n,a){var i,r,o,s,c,l,d,u=[],p=4,f=4,h=3,m="",b=[],v={val:a(0),position:n,index:1};for(i=0;i<3;i+=1)u[i]=i;for(o=0,c=Math.pow(2,2),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;switch(o){case 0:for(o=0,c=Math.pow(2,8),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;d=t(o);break;case 1:for(o=0,c=Math.pow(2,16),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;d=t(o);break;case 2:return""}for(u[3]=d,r=d,b.push(d);;){if(v.index>e)return"";for(o=0,c=Math.pow(2,h),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;switch(d=o){case 0:for(o=0,c=Math.pow(2,8),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;u[f++]=t(o),d=f-1,p--;break;case 1:for(o=0,c=Math.pow(2,16),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;u[f++]=t(o),d=f-1,p--;break;case 2:return b.join("")}if(0==p&&(p=Math.pow(2,h),h++),u[d])m=u[d];else{if(d!==f)return null;m=r+r.charAt(0)}b.push(m),u[f++]=r+m.charAt(0),r=m,0==--p&&(p=Math.pow(2,h),h++)}}};return r}();void 0===(a=function(){return i}.call(t,n,t,e))||(e.exports=a)},function(e,t,n){"use strict"},function(e,t){e.exports='<div class="panel panel-default bio">\n  <div class="panel-body">\n    <div class="row" data-bind="click: openModal, with: abilityScores"\n         title="Click to edit Ability Scores.">\n      <div class="table-responsive">\n        <table class="table table-hover table-no-margin">\n          <thead>\n            <tr class="clickable">\n              <th width="16%" class="text-center">Strength</th>\n              <th width="16%" class="text-center">Dexterity</th>\n              <th width="16%" class="text-center">Constitution</th>\n              <th width="16%" class="text-center">Intelligence</th>\n              <th width="16%" class="text-center">Wisdom</th>\n              <th width="16%" class="text-center">Charisma</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr class="clickable">\n              <td class="text-center">\n                <span data-bind=\'text: str\'></span>\n                <sup>\n                  <span class="badge" data-bind="text: strModifier"></span>\n                </sup>\n              </td>\n              <td class="text-center">\n                <span data-bind=\'text: dex\'></span>\n                <sup>\n                  <span class="badge" data-bind="text: dexModifier"></span>\n                </sup>\n              </td>\n              <td class="text-center">\n                <span data-bind=\'text: con\'></span>\n                <sup>\n                  <span class="badge" data-bind="text: conModifier"></span>\n                </sup>\n              </td>\n              <td class="text-center">\n                <span data-bind=\'text: int\'></span>\n                <sup>\n                  <span class="badge" data-bind="text: intModifier"></span>\n                </sup>\n              </td>\n              <td class="text-center">\n                <span data-bind=\'text: wis\'></span>\n                <sup>\n                  <span class="badge" data-bind="text: wisModifier"></span>\n                </sup>\n              </td>\n              <td class="text-center">\n                <span data-bind=\'text: cha\'></span>\n                <sup>\n                  <span class="badge" data-bind="text: chaModifier"></span>\n                </sup>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade" tabindex="-1" role="dialog"\n   data-bind="modal: {\n      open: modalStatus,\n      onopen: modalFinishedAnimating,\n      onclose: modalFinishedClosing\n    }, with: editItem">\n  <div class="modal-dialog modal-sm" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close"> <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">\n          Edit Ability Scores\n        </h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Strength</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input pull-left"\n                     min="0"\n                     data-bind=\'value: str,\n                      hasFocus: $parent.firstModalElementHasFocus\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Dexterity</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input"\n                     min="0"\n                     data-bind=\'value: dex\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Constitution</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input"\n                     min="0"\n                     data-bind=\'value: con\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Intelligence</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input"\n                     min="0"\n                     data-bind=\'value: int\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Wisdom</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input"\n                     min="0"\n                     data-bind=\'value: wis\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Charisma</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input"\n                     min="0"\n                     data-bind=\'value: cha\'>\n            </div>\n          </div>\n          <div class="modal-footer-ability-scores">\n            <div class="form-group">\n              <div class="col-xs-offset-7 col-xs-5">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n             </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n(23);var a=n(1),i=n(39),r=n.n(i),o=n(0),s=n.n(o),c=n(40),l=n.n(c),d=n(375),u=n.n(d);s.a.components.register("actions-toolbar",{viewModel:function(e){var t=this;t.wellOpen=e.wellState,t.meditation=l.a,t.campingTent=r.a,t.load=function(){a.f.actionsToolbar.toggle.add(t.toggleWellOpen)},t.unload=function(){a.f.actionsToolbar.toggle.remove(t.toggleWellOpen)},t.shortRestButton=function(){a.f.events.shortRest.dispatch(),a.f.userNotification.infoNotification.dispatch(a.c.resting.shortRestMessage,"Short Rest")},t.longRestButton=function(){a.f.events.longRest.dispatch(),a.f.userNotification.infoNotification.dispatch(a.c.resting.longRestMessage,"Long Rest")},t.arrowIconClass=s.a.pureComputed(function(){return t.wellOpen()?"fa fa-caret-up":"fa fa-caret-down"}),t.toggleWellOpen=function(){t.wellOpen(!t.wellOpen())}},template:u.a})},function(e,t){e.exports='<div class="collapse" data-bind="well: { open: wellOpen }">\n  <div class="well well-no-padding well-top-shadow">\n    <div class="row">\n      <div class="col-sm-offset-3 col-sm-6">\n        <div class="h3 no-top-margin">\n          Resting<br />\n          <small><span class="text-primary">Take a break to replenish your abilities and hit points.</span></small>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-offset-3 col-sm-6">\n        <button type="button" class="btn btn-sm btn-default" style="width:49%;"\n         data-bind="click: shortRestButton">\n         <img class="action-bar-icon" data-bind="attr: { src: meditation }"></img>\n        &nbsp;&nbsp;&nbsp;Short Rest\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" style="width:49%;"\n         data-bind="click: longRestButton">\n         <img class="action-bar-icon" data-bind="attr: { src: campingTent }"></img>\n         &nbsp;&nbsp;&nbsp;Long Rest\n        </button>\n     </div>\n   </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n(23);var a=n(17),i=n(1),r=n(2),o=n(0),s=n.n(o),c=n(382),l=n.n(c);s.a.components.register("appearance",{viewModel:function(){var e=this;e.appearance=s.a.observable(new a.b),e.load=function(){i.f.global.save.add(e.save);var t=i.a.activeCharacter().key(),n=r.a.findBy(a.b,"characterId",t);n.length>0?e.appearance(n[0]):e.appearance(new a.b),e.appearance().characterId(t),e.appearance().height.subscribe(e.dataHasChanged),e.appearance().weight.subscribe(e.dataHasChanged),e.appearance().hairColor.subscribe(e.dataHasChanged),e.appearance().eyeColor.subscribe(e.dataHasChanged),e.appearance().skinColor.subscribe(e.dataHasChanged)},e.dataHasChanged=function(){e.appearance().save()},e.save=function(){e.appearance().save()},e.clear=function(){e.appearance().clear()}},template:l.a})},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","height","weight","hairColor","eyeColor","skinColor"]},e.characterId=s.a.observable(null),e.height=s.a.observable(""),e.weight=s.a.observable(""),e.hairColor=s.a.observable(""),e.eyeColor=s.a.observable(""),e.skinColor=s.a.observable(""),e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="CharacterAppearance",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","deathSaveSuccess","deathSaveFailure"]},e.characterId=s.a.observable(null),e.deathSaveSuccess=s.a.observable(!1),e.deathSaveFailure=s.a.observable(!1),e.deathSaveSuccessHandler=function(){!0===e.deathSaveSuccess()?e.deathSaveSuccess(!1):!1===e.deathSaveSuccess()&&e.deathSaveSuccess(!0)},e.deathSaveFailureHandler=function(){!0===e.deathSaveFailure()?e.deathSaveFailure(!1):!1===e.deathSaveFailure()&&e.deathSaveFailure(!0)},e.deathSaveSuccessIcon=s.a.pureComputed(function(){var t;return!0===e.deathSaveSuccess()?t="ds-success-full":!1===e.deathSaveSuccess()&&(t="ds-success-empty"),t}),e.deathSaveFailureIcon=s.a.pureComputed(function(){var t;return!0===e.deathSaveFailure()?t="ds-failure-full":!1===e.deathSaveFailure()&&(t="ds-failure-empty"),t}),e.clear=function(){var t=s.a.mapping.autoignore(e,e.mapping),n=(new a).exportValues();s.a.mapping.fromJS(n,t,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="DeathSave",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","background","ideals","flaws","bonds"]},e.characterId=s.a.observable(null),e.background=s.a.observable(""),e.ideals=s.a.observable(""),e.flaws=s.a.observable(""),e.bonds=s.a.observable(""),e.save=function(){e.ps.save()},e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="FeaturesTraits",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=s.a.register(a,e),e.mapping={include:["characterId","name","modifier","proficiency"]},e.characterId=d.a.observable(null),e.name=d.a.observable(""),e.modifier=d.a.observable(null),e.proficiency=d.a.observable(!1),e.proficiencyScore=function(){return c.a.sharedService().proficiency()},e.abilityScoreModifier=function(){var t=null;try{var n=o.a.activeCharacter().key();t=s.a.findBy(r.a,"characterId",n)[0].modifierFor(e._abilityScore())}catch(e){}return null===t?null:parseInt(t)},e.bonus=d.a.pureComputed(function(){var t=e.modifier()?parseInt(e.modifier()):null;return e.proficiency()?t+=e.proficiencyScore()+e.abilityScoreModifier():e.abilityScoreModifier()?t+=e.abilityScoreModifier():t=null!=t?t:null,t}),e.modifierLabel=d.a.pureComputed(function(){if(null===e.bonus())return"+ 0";return e.bonus()>=0?"+ "+e.bonus():"- "+Math.abs(e.bonus())}),e.proficiencyLabel=d.a.pureComputed(function(){return!0===e.proficiency()?"fa fa-check":""}),e._abilityScore=function(){return e.name().toLowerCase().substring(0,3)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.updateValues=function(){e.modifier.notifySubscribers(),e.proficiency.notifySubscribers()},e.clear=function(){var t=(new a).exportValues(),n=d.a.mapping.autoignore(e,e.mapping);d.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=d.a.mapping.autoignore(e,e.mapping);d.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=d.a.mapping.autoignore(e,e.mapping);return d.a.mapping.toJS(e,t)}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(28)),o=n(1),s=n(2),c=n(64),l=n(0),d=n.n(l);a.__name="SavingThrows",s.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","name","race","description","trackedId","isTracked","tracked"]},e.characterId=s.a.observable(null),e.name=s.a.observable(""),e.race=s.a.observable(""),e.description=s.a.observable(""),e.trackedId=s.a.observable(null),e.isTracked=s.a.observable(!1),e.tracked=s.a.observable(null),e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="Trait",r.a.addToRegistry(a)},function(e,t){e.exports='<div class="panel panel-default">\n  <div class="panel-body" data-bind="with: appearance">\n  \t\x3c!-- Names --\x3e\n\t  <div class="row">\n      <div class="col-md-6 col-padded">\n    \t  <div class="input-group">\n\t      \t<span class="input-group-addon" id="basic-addon2">Height</span>\n      \t\t<input type="text" class="form-control" aria-describedby="basic-addon2"\n\t\t      \tdata-bind=\'textInput: height\'>\n  \t    </div>\n\t    </div>\n      <div class="col-md-6 col-padded">\n        <div class="input-group">\n          <span class="input-group-addon" id="basic-addon2">Weight</span>\n          <input type="number"\n                 class="form-control"\n                 aria-describedby="basic-addon2"\n                 min="1"\n                 max="1500"\n                 data-bind=\'textInput: weight\'>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-md-6 col-padded">\n    \t  <div class="input-group">\n\t      \t<span class="input-group-addon" id="basic-addon2">Hair Color</span>\n      \t\t<input type="text" class="form-control" aria-describedby="basic-addon2"\n\t\t      \tdata-bind=\'textInput: hairColor\'>\n  \t    </div>\n\t    </div>\n      <div class="col-md-6 col-padded">\n        <div class="input-group">\n          <span class="input-group-addon" id="basic-addon2">Eye Color</span>\n          <input type="text" class="form-control" aria-describedby="basic-addon2"\n            data-bind=\'textInput: eyeColor\'>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-md-6 col-padded">\n    \t  <div class="input-group">\n\t      \t<span class="input-group-addon" id="basic-addon2">Skin Color</span>\n      \t\t<input type="text" class="form-control" aria-describedby="basic-addon2"\n\t\t      \tdata-bind=\'textInput: skinColor\'>\n  \t    </div>\n\t    </div>\n\t  </div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(6),r=n(11),o=n(0),s=n.n(o),c=n(394),l=n.n(c);s.a.components.register("armor",{viewModel:function(){var e=this;e.blankArmor=s.a.observable(new r.a),e.armors=s.a.observableArray([]),e.modalOpen=s.a.observable(!1),e.editItemIndex=null,e.currentEditItem=s.a.observable(),e.shouldShowDisclaimer=s.a.observable(!1),e.previewTabStatus=s.a.observable("active"),e.editTabStatus=s.a.observable(""),e.firstModalElementHasFocus=s.a.observable(!1),e.editFirstModalElementHasFocus=s.a.observable(!1),e.currencyDenominationList=s.a.observableArray(a.c.general.currencyDenominationList),e.sorts={"armorName asc":{field:"armorName",direction:"asc"},"armorName desc":{field:"armorName",direction:"desc"},"armorType asc":{field:"armorType",direction:"asc"},"armorType desc":{field:"armorType",direction:"desc"}},e.filter=s.a.observable(""),e.sort=s.a.observable(e.sorts["armorName asc"]),e.load=function(){a.f.global.save.add(e.save),e.armors.subscribe(function(){a.f.armor.changed.dispatch()});var t=a.a.activeCharacter().key();e.armors(i.l.findBy(r.a,"characterId",t)),a.f.abilityScores.changed.add(e.valueHasChanged)},e.unload=function(){e.save(),a.f.abilityScores.changed.remove(e.valueHasChanged),a.f.global.save.remove(e.save)},e.save=function(){e.armors().forEach(function(e,t,n){e.save()})},e.armorEquippedLabel=function(e){return e.armorEquipped()?"fa fa-check":""},e.totalWeight=s.a.pureComputed(function(){var t=0;return e.armors().length>0&&e.armors().forEach(function(e,n,a){t+=e.armorWeight()?parseInt(e.armorWeight()):0}),t+" (lbs)"}),e.equipArmorHandler=function(t,n){t.armorEquipped()&&("Shield"===t.armorType()?s.a.utils.arrayForEach(e.armors(),function(e){n!=e.__id&&"Shield"==e.armorType()&&e.armorEquipped("")}):s.a.utils.arrayForEach(e.armors(),function(e){n!=e.__id&&"Shield"!=e.armorType()&&e.armorEquipped("")}))},e.armorsPrePopFilter=function(e,t){var n=e.term.toLowerCase();t((a.b.armors?Object.keys(a.b.armors):[]).filter(function(e,t,a){return e.toLowerCase().indexOf(n)>-1}))},e.populateArmor=function(t,n){var i=a.b.armors[t];e.blankArmor().importValues(i),e.shouldShowDisclaimer(!0)},e.modalFinishedOpening=function(){e.shouldShowDisclaimer(!1),e.firstModalElementHasFocus(!0)},e.modalFinishedClosing=function(){e.previewTabStatus("active"),e.editTabStatus(""),e.modalOpen()&&a.g.array.updateElement(e.armors(),e.currentEditItem(),e.editItemIndex),e.equipArmorHandler(e.currentEditItem(),e.editItemIndex),e.save(),e.modalOpen(!1),a.f.armor.changed.dispatch()},e.selectPreviewTab=function(){e.previewTabStatus("active"),e.editTabStatus("")},e.selectEditTab=function(){e.editTabStatus("active"),e.previewTabStatus(""),e.editFirstModalElementHasFocus(!0)},e.modifierHasFocus=s.a.observable(!1),e.filteredAndSortedArmors=s.a.computed(function(){return i.m.sortAndFilter(e.armors(),e.sort(),null)}),e.sortArrow=function(t){return i.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(i.m.sortForName(e.sort(),t,e.sorts))},e.addArmor=function(){var t=e.blankArmor();t.characterId(a.a.activeCharacter().key()),t.save(),e.equipArmorHandler(t,t.__id),e.armors.push(t),e.blankArmor(new r.a)},e.removeArmor=function(t){t.delete(),e.armors.remove(t)},e.editArmor=function(t){e.editItemIndex=t.__id,e.currentEditItem(new r.a),e.currentEditItem().importValues(t.exportValues()),e.modalOpen(!0)},e.clear=function(){e.armors([])},e.valueHasChanged=function(){e.armors().forEach(function(e,t,n){e.updateValues()})}},template:l.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={hotkeyHandler:function(e,t){if("input"!==t.target.tagName.toLowerCase()&&"textarea"!==t.target.tagName.toLowerCase()&&"characterName"!==t.target.id&&"dmName"!==t.target.id){var n=a._determineMetakey(t),i=String.fromCharCode(t.which),r=a._callbackFromKeys(n,i);"function"==typeof r&&r()}return!0},_hotkeys:{},_callbackFromKeys:function(e,t){if(e){var n=e+" "+t;return a._hotkeys[n]}return a._hotkeys[t]},registerHotkey:function(e,t){if(a._hotkeys[e])throw"Existing hotkey: "+e;t&&(a._hotkeys[e]=t)},flushHotkeys:function(){a._hotkeys={}},_determineMetakey:function(e){return e.ctrlKey?"ctrl":e.shiftKey?"shift":""}}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(1),i=n(156),r=n(157),o=n(94),s=n(10),c=n(158),l=n(2),d=new(n(12).a)(function(e){var t=this;t.config=e,t.init=function(){},t.publishImage=function(e){t.purgeExistingExibits(),t.createExhibitModel(e),a.f.exhibit.changed.dispatch()},t.clearImage=function(){t.purgeExistingExibits(),a.f.exhibit.changed.dispatch()},t.createExhibitModel=function(e){var t=new o.a;t.characterId(a.a.activeCharacter().key()),t.name(e.name),t.url(e.url),t.save()},t.purgeExistingExibits=function(){var e=l.a.findBy(o.a,"characterId",a.a.activeCharacter().key());e.length>0&&e.forEach(function(e,t,n){e.delete()})},t.clearExhibitFlag=function(){var e=[new s.a("characterId",a.a.activeCharacter().key()),new s.a("isExhibited",!0)],t=l.a.findByPredicates(c.a,e),n=l.a.findByPredicates(i.a,e),o=l.a.findByPredicates(r.a,e)[0];o&&(o.isExhibited(!1),o.save()),t.forEach(function(e,t,n){e.isExhibited(!1),e.save()}),n.forEach(function(e,t,n){e.isExhibited(!1),e.save()}),a.f.exhibit.toggle.dispatch()}},{defaultImageOptions:{}})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={sortAndFilter:function(e,t,n){return e.sort(function(e,n){var a="asc"===t.direction,i=e[t.field](),r=n[t.field]();return t.numeric&&(i=parseInt(e[t.field]()),r=parseInt(n[t.field]())),a&&t.booleanType?i===r?0:i?-1:1:a?i>r?1:-1:!a&&t.booleanType?i===r?0:i?1:-1:i<r?1:-1})},sortArrow:function(e,t){var n="";return e===t.field&&(n="asc"===t.direction?"fa fa-arrow-up fa-color":"fa fa-arrow-down fa-color"),n},sortForName:function(e,t,n){return e.field===t&&"asc"===e.direction?n[t+" desc"]:n[t+" asc"]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={_sharedService:null,sharedService:function(){return a._sharedService||(a._sharedService=new function(e){var t=this;t.config=e,t.init=function(){for(var e in t.config.components)t.config.components[e].init()}}(a.configuration)),a._sharedService},resetSharedService:function(){a._sharedService=null},configuration:{components:[]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(389),i=(n.n(a),n(1)),r=n(49),o=n(2),s=n(12),c=n(66),l=n.n(c),d=new s.a(function(e){var t=this;t.validationUrl="/api/o/validate/",t.config=e,t._tokenOrigin=null,t.TOKEN_ORIGINS={FRAGMENT:"fragment",LOCAL:"local"},t.init=function(){var e=(new l.a).fragment(!0),n=o.a.findAll(r.a)[0],a=null;if(e.access_token)a=e.access_token,t._tokenOrigin=t.TOKEN_ORIGINS.FRAGMENT;else{if(!n||!n.isValid())return;a=n.accessToken(),t._tokenOrigin=t.TOKEN_ORIGINS.LOCAL}t._doAuthCheck(a)},t._doAuthCheck=function(e){i.g.oauth.getJSON(t.validationUrl,t._handleValidationSuccess,t._handleValidationFailure,e)},t._handleValidationSuccess=function(e,n){var a=o.a.findAll(r.a)[0];if(t._tokenOrigin==t.TOKEN_ORIGINS.FRAGMENT){a||(a=new r.a);var s=(new l.a).fragment(!0);a.mapTokenKeys(s),a.startTime((new Date).getTime()),a.save(),i.f.authentication.loggedIn.dispatch()}else{if(t._tokenOrigin!=t.TOKEN_ORIGINS.LOCAL)return;i.f.authentication.loggedIn.dispatch()}},t._handleValidationFailure=function(e,n){var a=o.a.findAll(r.a)[0];t._tokenOrigin==t.TOKEN_ORIGINS.FRAGMENT?(t._tokenOrigin=t.TOKEN_ORIGINS.LOCAL,a&&t._doAuthCheck(a.accessToken())):a&&a.delete();var s=e.responseJSON.detail||"An error has occurred.";i.f.userNotification.warningNotification.dispatch(s,null,{timeOut:0,extendedTimeOut:0})}},null)},function(e,t,n){var a,i,r;!function(o,s){"use strict";"object"==typeof e&&e.exports?e.exports=s(n(66)):(i=[n(66)],void 0===(r="function"==typeof(a=s)?a.apply(t,i):a)||(e.exports=r))}(0,function(e){"use strict";var t=e.prototype,n=t.fragment;e.fragmentPrefix="?";var a=e._parts;return e._parts=function(){var t=a();return t.fragmentPrefix=e.fragmentPrefix,t},t.fragmentPrefix=function(e){return this._parts.fragmentPrefix=e,this},t.fragment=function(t,a){var i=this._parts.fragmentPrefix,r=this._parts.fragment||"";return!0===t?r.substring(0,i.length)!==i?{}:e.parseQuery(r.substring(i.length)):void 0!==t&&"string"!=typeof t?(this._parts.fragment=i+e.buildQuery(t),this.build(!a),this):n.call(this,t,a)},t.addFragment=function(t,n,a){var i=this._parts.fragmentPrefix,r=e.parseQuery((this._parts.fragment||"").substring(i.length));return e.addQuery(r,t,n),this._parts.fragment=i+e.buildQuery(r),"string"!=typeof t&&(a=n),this.build(!a),this},t.removeFragment=function(t,n,a){var i=this._parts.fragmentPrefix,r=e.parseQuery((this._parts.fragment||"").substring(i.length));return e.removeQuery(r,t,n),this._parts.fragment=i+e.buildQuery(r),"string"!=typeof t&&(a=n),this.build(!a),this},t.setFragment=function(t,n,a){var i=this._parts.fragmentPrefix,r=e.parseQuery((this._parts.fragment||"").substring(i.length));return e.setQuery(r,t,n),this._parts.fragment=i+e.buildQuery(r),"string"!=typeof t&&(a=n),this.build(!a),this},t.addHash=t.addFragment,t.removeHash=t.removeFragment,t.setHash=t.setFragment,e})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(1),i=n(12),r=n(0),o=n.n(r),s=new i.a(function(e){var t=this;t.url="/api/notifications.json",t.notifications=o.a.observableArray([]),t.config=e,t.init=function(){a.f.authentication.loggedIn.add(t.getNotifications)},t.getNotifications=function(){a.g.oauth.getJSON(t.url,t._handleResponse)},t.markAsRead=function(e){a.g.oauth.putData(e.url,{read:!0})},t._handleResponse=function(e,n){"success"===n&&(t.notifications(e.results),t.notifications().forEach(function(e){var n={onCloseClick:function(){t.markAsRead(e)},onclick:function(){t.markAsRead(e)}};e.notification.requires_confirmation&&(n.timeOut=0,n.extendedTimeOut=0);var i=e.notification.type+"Notification";a.f.userNotification[i].dispatch(e.notification.content,e.notification.title,n)}))}},null)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["partyId","characterId","dateCreated"]},e.partyId=s.a.observable(null),e.characterId=s.a.observable(null),e.dateCreated=s.a.observable((new Date).getTime()),e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}n(5);var i=n(4),r=(n.n(i),n(2)),o=n(0),s=n.n(o);a.__name="Party",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(e){var t=this;t.DANGER_THRESHOLD=.3,t.WARNING_THRESHOLD=.5;var n=[{key:"publisherJid",converter:null},{key:"name",converter:null},{key:"playerName",converter:null},{key:"playerType",converter:null},{key:"playerSummary",converter:null},{key:"imageUrl",converter:null},{key:"race",converter:null},{key:"playerClass",converter:null},{key:"level",converter:null},{key:"experience",converter:null},{key:"armorClass",converter:null},{key:"gold",converter:null},{key:"maxHitPoints",converter:null},{key:"damage",converter:null},{key:"tempHitPoints",converter:null},{key:"hitDiceType",converter:null},{key:"hitDice",converter:null},{key:"passivePerception",converter:null},{key:"passiveIntelligence",converter:null},{key:"spellSaveDC",converter:null},{key:"healthinessStatus",converter:function(e){return t._importStatus(e)}},{key:"magicStatus",converter:function(e){return t._importStatus(e)}},{key:"trackedStatus",converter:function(e){return t._importStatus(e)}}];t.publisherJid=c.a.observable(""),t.playerName=c.a.observable(""),t.playerType=c.a.observable(""),t.playerSummary=c.a.observable(""),t.name=c.a.observable(""),t.imageUrl=c.a.observable(""),t.race=c.a.observable(""),t.playerClass=c.a.observable(""),t.gold=c.a.observable(""),t.maxHitPoints=c.a.observable(0),t.damage=c.a.observable(0),t.tempHitPoints=c.a.observable(0),t.hitDiceType=c.a.observable(""),t.hitDice=c.a.observable(""),t.passivePerception=c.a.observable(0),t.passiveIntelligence=c.a.observable(0),t.spellSaveDC=c.a.observable(0),t.level=c.a.observable(0),t.experience=c.a.observable(""),t.armorClass=c.a.observable(0),t.healthinessStatus=c.a.observable(),t.magicStatus=c.a.observable(),t.trackedStatus=c.a.observable(),t.moreInfoOpen=c.a.observable(!1),t.hitDiceDisplay=c.a.pureComputed(function(){return(t.hitDice()?t.hitDice():"")+" "+(t.hitDiceType()?"("+t.hitDiceType()+")":"")}),t.totalHitpoints=c.a.pureComputed(function(){return parseInt(t.maxHitPoints())+parseInt(t.tempHitPoints())}),t.tempHitpointsRemaining=c.a.pureComputed(function(){return parseInt(t.tempHitPoints())-parseInt(t.damage())}),t.regularHitpointsRemaining=c.a.pureComputed(function(){return t.tempHitpointsRemaining()>0?parseInt(t.maxHitPoints()):parseInt(t.maxHitPoints())-((t.damage()?parseInt(t.damage()):0)-parseInt(t.tempHitPoints()))}),t.regularProgressWidth=c.a.pureComputed(function(){return parseInt(t.regularHitpointsRemaining())/parseInt(t.totalHitpoints())*100+"%"}),t.tempProgressWidth=c.a.pureComputed(function(){return t.tempHitpointsRemaining()<0?"0%":parseInt(t.tempHitpointsRemaining())/parseInt(t.totalHitpoints())*100+"%"}),t.isDangerous=c.a.computed(function(){return parseInt(t.maxHitPoints())/parseInt(t.totalHitpoints())<t.DANGER_THRESHOLD}),t.isWarning=c.a.computed(function(){return parseInt(t.maxHitPoints())/parseInt(t.totalHitpoints())<t.WARNING_THRESHOLD}),t.progressType=c.a.computed(function(){var e="progress-bar-success";return t.isWarning()&&(e="progress-bar-warning"),t.isDangerous()&&(e="progress-bar-danger"),e}),t.magicProgressWidth=c.a.pureComputed(function(){return t.magicStatus()?100*parseFloat(t.magicStatus().value())+"%":"0%"}),t.trackedProgressWidth=c.a.pureComputed(function(){return t.trackedStatus()?100*parseFloat(t.trackedStatus().value())+"%":"0%"}),t._importStatus=function(e){var t=new o.a;return t.importValues(e),t},t.toggleMoreInfo=function(){t.moreInfoOpen(!t.moreInfoOpen())},t.map=function(e){e&&n.forEach(function(n,a,i){var r=e.get(n.key);r.length<1||(null==n.converter?t[n.key](r[0]):t[n.key](n.converter(r[0])))})},t.map(e)}t.a=a;n(5);var i=n(4),r=(n.n(i),n(2)),o=n(31),s=n(0),c=n.n(s);r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=o.a.register(a,e),e.mapping={include:["characterId","spellName","spellPrepared","spellType","spellSaveAttr","spellDmg","spellDmgType","spellSchool","spellLevel","spellDescription","spellCastingTime","spellRange","spellComponents","spellDuration","spellPrepared","spellAlwaysPrepared","spellMaterialComponents","isRitual"]},e._dummy=l.a.observable(null),e.characterId=l.a.observable(null),e.spellName=l.a.observable(""),e.spellPrepared=l.a.observable(!1),e.spellAlwaysPrepared=l.a.observable(!1),e.spellType=l.a.observable(""),e.spellSaveAttr=l.a.observable(""),e.spellDmg=l.a.observable(""),e.spellDmgType=l.a.observable(""),e.spellSchool=l.a.observable(""),e.spellLevel=l.a.observable(1),e.spellDescription=l.a.observable(""),e.spellCastingTime=l.a.observable(""),e.spellRange=l.a.observable(""),e.spellComponents=l.a.observable(""),e.spellDuration=l.a.observable(""),e.spellMaterialComponents=l.a.observable(""),e.isRitual=l.a.observable(!1),e.spellTypeOptions=l.a.observableArray(r.c.spell.spellTypeOptions),e.spellSaveAttrOptions=l.a.observableArray(r.c.spell.spellSaveAttrOptions),e.spellSchoolOptions=l.a.observableArray(r.c.spell.spellSchoolOptions),e.spellCastingTimeOptions=l.a.observableArray(r.c.spell.spellCastingTimeOptions),e.spellDurationOptions=l.a.observableArray(r.c.spell.spellDurationOptions),e.spellComponentsOptions=l.a.observableArray(r.c.spell.spellComponentsOptions),e.spellRangeOptions=l.a.observableArray(r.c.spell.spellRangeOptions),e.updateValues=function(){e._dummy.notifySubscribers()},e.spellNameLabel=l.a.pureComputed(function(){return!0===e.isRitual()?e.spellName()+" (Ritual)":e.spellName()}),e.spellDamageLabel=l.a.pureComputed(function(){e._dummy();var t=r.a.activeCharacter().key(),n=o.a.findBy(s.a,"characterId",t)[0];if("Attack Roll"===e.spellType()){var a=n?n.spellAttackBonus():0;return e.spellDmg()+" [Spell Bonus: +"+a+"]"}return e.spellDmg()}),e.spellLevelLabel=l.a.pureComputed(function(){return 0===parseInt(e.spellLevel())?"Cantrip":e.spellLevel()}),e.spellSummaryLabel=l.a.pureComputed(function(){var t=0!==parseInt(e.spellLevel())?"Level ":"";return e.spellSchool()+", "+t+e.spellLevelLabel()}),e.spellDescriptionHTML=l.a.pureComputed(function(){return e.spellDescription()?e.spellDescription().replace(/\n/g,"<br />"):'<div class="h3"><small>Add a description via the edit tab.</small></div>'}),e.clear=function(){var t=(new a).exportValues(),n=l.a.mapping.autoignore(e,e.mapping);l.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=l.a.mapping.autoignore(e,e.mapping);l.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=l.a.mapping.autoignore(e,e.mapping);return l.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;n(5);var i=n(4),r=(n.n(i),n(1)),o=n(2),s=n(88),c=n(0),l=n.n(c);a.__name="Spell",o.a.addToRegistry(a)},function(e,t){e.exports='<div class="panel panel-default">\n  <div class="panel-body tight-inner">\n    <table class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr>\n          <th data-bind="click: function(){sortBy(\'armorEquipped\');}">\n            <span data-bind="css: sortArrow(\'armorEquipped\')"></span>\n          </th>\n          <th data-bind="click: function(){sortBy(\'armorName\');}">\n            Armor\n            <span data-bind="css: sortArrow(\'armorName\')"></span>\n          </th>\n          <th class="hidden-sm hidden-xs" data-bind="click: function(){sortBy(\'armorType\');}">\n            Type\n            <span data-bind="css: sortArrow(\'armorType\')"></span>\n          </th>\n          <th>\n            Armor Class\n          </th>\n          <th>\n            <a data-toggle="modal"\n               data-target="#addArmor" href="#">\n              <i class="fa fa-plus fa-color"></i>\n            </a>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n      \x3c!-- ko foreach: filteredAndSortedArmors --\x3e\n        <tr class="clickable">\n          <td data-bind="click: $parent.editArmor"\n              href="#">\n            <span data-bind="css: $parent.armorEquippedLabel($data)"></span>\n          </td>\n          <td data-bind="click: $parent.editArmor"\n              href="#">\n              <span data-bind="text: armorName"></span>&nbsp;\n              <span data-bind="text: magicalModifierLabel, css: { badge: applyMagicalModifierLabel }">\n              </span></td>\n          <td class="hidden-sm hidden-xs"\n              data-bind="text: armorType, click: $parent.editArmor"\n              href="#"></td>\n          <td data-bind="text: armorClass, click: $parent.editArmor"\n              href="#"></td>\n          <td>\n            <a data-bind="click: $parent.removeArmor" href="#">\n              <i class="fa fa-trash-o fa-color-hover">\n              </i>\n            </a>\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: filteredAndSortedArmors().length == 0 --\x3e\n        <tr class="clickable">\n          <td data-toggle="modal" data-target="#addArmor" href="#"\n            colspan="5" class="text-center">\n            <i class="fa fa-plus fa-color"></i>\n            Add a new armor\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      </tbody>\n    </table>\n    </div> \x3c!-- end panel body --\x3e\n    <div class="container-fluid panel-footer">\n      <span class="pull-right">Total weight:&nbsp;\n        <span data-bind="text: totalWeight"></span>\n      </span>\n    </div> \x3c!-- end panel footer --\x3e\n    \x3c!-- Add Modal --\x3e\n    <div class="modal fade"\n         id="addArmor"\n         tabindex="-1"\n         role="dialog"\n         aria-labelledby="addArmorLabel"\n         data-bind="modal: { onopen: modalFinishedOpening }">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button"\n                    class="close"\n                    data-dismiss="modal"\n                    aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="addArmorLabel">Add an armor piece to your armory.</h4>\n        </div>\n          <div class="modal-body">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="armorName"\n                       class="col-sm-2 control-label">Armor</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         id="armorName"\n                         placeholder="Chain Mail"\n                         data-bind=\'textInput: blankArmor().armorName, autocomplete: { source: armorsPrePopFilter,\n                            onselect: populateArmor }, hasFocus: firstModalElementHasFocus\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="armorType"\n                       class="col-sm-2 control-label">Type</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankArmor().armorTypeOptions,\n                                     value: blankArmor().armorType,\n                                     select2: { theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="armorMagicalModifier"\n                       class="col-sm-2 control-label">Magical Modifier</label>\n                  <div class="col-sm-10">\n                  <input type="number" class="form-control"\n                         id="armorMagicalModifier"\n                         data-bind=\'textInput: blankArmor().armorMagicalModifier\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="armorPrice"\n                       class="col-sm-2 control-label">Price</label>\n                <div class="col-sm-10">\n        \t\t\t\t\t<div class="input-group">\n        \t\t\t\t\t\t<input type="text"\n        \t\t\t\t\t\t\t   class="form-control input-select2-addon"\n        \t\t\t\t\t\t\t   id="armorPrice"\n        \t\t\t\t\t\t\t   placeholder="5"\n        \t\t\t\t\t\t\t   data-bind=\'textInput: blankArmor().armorPrice\'>\n        \t\t\t\t\t   <span class="input-group-addon">\n        \t\t\t\t\t\t\t<select class="form-control"\n        \t\t\t\t\t\t\tdata-bind="options: currencyDenominationList,\n        \t\t\t\t\t\t\tvalue: blankArmor().armorCurrencyDenomination,\n        \t\t\t\t\t\t\tselect2: {theme: \'classic\'}"></select>\n        \t\t\t\t\t\t</span>\n        \t\t\t\t\t</div>\n\t\t\t\t          </div>\n              </div>\n              <div class="form-group">\n                <label for="armorWeight"\n                       class="col-sm-2 control-label">Weight</label>\n                  <div class="col-sm-10">\n                    <input type="number"\n                           class="form-control"\n                           id="armorWeight"\n                           placeholder="6"\n                           data-bind=\'textInput: blankArmor().armorWeight\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="armorClass"\n                       class="col-sm-2 control-label">Armor Class</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           id="armorClass"\n                           placeholder="3"\n                           data-bind=\'textInput: blankArmor().armorClass\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="armorSize"\n                       class="col-sm-2 control-label">Stealth</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankArmor().armorStealthOptions,\n                                     value: blankArmor().armorStealth,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n              <label class="col-sm-2 control-label">Equipped</label>\n                <div class="col-sm-10">\n                  <div class="btn-group btn-group-justified" role="group">\n                  <label class="btn btn-default"\n                  data-bind="css: { active: blankArmor().armorEquipped() == \'\'}">\n                    <input type="radio" class="hide-block"\n                    name="notEquipped" value="" data-bind="checked: blankArmor().armorEquipped"/>\n                    Doff\n                  </label>\n                  <label class="btn btn-default"\n                  data-bind="css: { active: blankArmor().armorEquipped() == \'equipped\'}">\n                    <input type="radio" class="hide-block"\n                    name="equipped" value="equipped" data-bind="checked: blankArmor().armorEquipped"/>\n                    Don\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="armorDescription"\n                       class="col-sm-2 control-label">Description</label>\n                  <div class="col-sm-10">\n                    <textarea type="password"\n                              class="form-control"\n                              id="armorDescription"\n                              rows="4"\n                              placeholder="Armor of damage blocking"\n                              data-bind=\'textInput: blankArmor().armorDescription\'>\n                    </textarea>\n                  </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-default"\n                        data-dismiss="modal">Cancel</button>\n                <button type="button"\n                        class="btn btn-primary"\n                        data-bind=\'click: addArmor\'\n                        data-dismiss="modal">Add</button>\n                <p class="text-muted text-left" data-bind=\'visible: shouldShowDisclaimer\'>\n                  <sm><i>This data is distributed under the\n                    <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n                      target=\'_blank\'>\n                      OGL</a><br/>\n                      Open\tGame\tLicense\tv\t1.0a\tCopyright\t2000,\tWizards\tof\tthe\tCoast,\tLLC.\n                    </i><sm>\n                </p>\n              </div>\n            </form>\n          </div> \x3c!-- Modal Body --\x3e\n        </div> \x3c!-- Modal Content --\x3e\n      </div> \x3c!-- Modal Dialog --\x3e\n    </div> \x3c!-- Modal Fade --\x3e\n\n    \x3c!-- ViewEdit Modal --\x3e\n    <div class="modal fade"\n         id="viewArmor"\n         tabindex="-1"\n         role="dialog"\n         aria-labelledby="viewArmorLabel"\n         data-bind="modal: {\n           open: modalOpen,\n           onopen: modalFinishedOpening,\n           onclose: modalFinishedClosing\n        }">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button"\n                    class="close"\n                    data-dismiss="modal"\n                    aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="viewArmorLabel">View an armor piece from your armory.</h4>\n        </div>\n          <div class="modal-body">\n\n            \x3c!-- Begin Tabs --\x3e\n            <ul class="nav nav-tabs tabs">\n              <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n                <a href="#armorItemsModalPreview" aria-controls="armorModalPreview" role="tab" data-toggle="tab">\n                    <b>Preview</b>\n                </a>\n              </li>\n              <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n                <a href="#armorModalEdit" aria-controls="armorModalEdit" role="tab" data-toggle="tab">\n                    <b>Edit</b>\n                </a>\n              </li>\n            </ul>\n\n            <div class="tab-content" data-bind="with: currentEditItem">\n              <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane" id="armorModalPreview">\n                <div class="h3">\n                  <span data-bind="text: armorName"></span>&nbsp;\n                  <small data-bind="text: armorSummaryLabel"></small>\n                </div>\n\n                <hr />\n                <div class="row">\n                  <div class="col-sm-4 col-xs-12"><b>Stealth:</b>&nbsp;<span data-bind="text: armorStealth"></span></div>\n                  <div class="col-sm-4 col-xs-12"><b>Weight:</b>&nbsp;<span data-bind="text: armorWeightLabel"></span></div>\n                  <div class="col-sm-4 col-xs-12"><b>Type:</b>&nbsp;<span data-bind="text: armorType"></span></div>\n                </div>\n\n                <hr />\n                <h4>Description</h4>\n                <div class="row row-padded">\n                  <div class="col-xs-12 col-padded">\n                    <div data-bind="html: armorDescriptionHTML"\n                         class="preview-modal-overflow">\n                    </div>\n                  </div>\n                </div>\n                <div class="modal-footer">\n                  <button type="button"\n                          class="btn btn-primary"\n                          data-dismiss="modal">Done</button>\n                </div>\n              </div> \x3c!-- End Preview Tab --\x3e\n\n              <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane" id="magicItemsModalEdit">\n                <form class="form-horizontal">\n                  <div class="form-group">\n                    <label for="armorName"\n                           class="col-sm-2 control-label">Name</label>\n                    <div class="col-sm-10">\n                      <input type="text"\n                             class="form-control"\n                             id="armorName"\n                             placeholder="Chain Mail"\n                             data-bind=\'textInput: armorName,\n                              hasFocus: $parent.editFirstModalElementHasFocus\'>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="armorType"\n                           class="col-sm-2 control-label">Type</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: armorTypeOptions,\n                                         value: armorType,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="armorMagicalModifier"\n                           class="col-sm-2 control-label">Magical Modifier</label>\n                      <div class="col-sm-10">\n                      <input type="number" class="form-control"\n                             id="armorMagicalModifier"\n                             data-bind=\'textInput: armorMagicalModifier\'>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="armorPrice"\n                           class="col-sm-2 control-label">Price</label>\n                    <div class="col-sm-10">\n            \t\t\t\t\t<div class="input-group">\n            \t\t\t\t\t\t<input type="text"\n            \t\t\t\t\t\t\t   class="form-control input-select2-addon"\n            \t\t\t\t\t\t\t   id="armorPrice"\n            \t\t\t\t\t\t\t   placeholder="5"\n            \t\t\t\t\t\t\t   data-bind=\'textInput: armorPrice\'>\n            \t\t\t\t\t   <span class="input-group-addon">\n            \t\t\t\t\t\t\t<select class="form-control"\n            \t\t\t\t\t\t\tdata-bind="options: $parent.currencyDenominationList,\n            \t\t\t\t\t\t\tvalue: armorCurrencyDenomination,\n            \t\t\t\t\t\t\tselect2: {theme: \'classic\'}"></select>\n            \t\t\t\t\t\t</span>\n            \t\t\t\t\t</div>\n    \t\t\t\t        </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="armorWeight"\n                           class="col-sm-2 control-label">Weight</label>\n                      <div class="col-sm-10">\n                        <input type="number"\n                               class="form-control"\n                               id="armorWeight"\n                               placeholder="6"\n                               data-bind=\'textInput: armorWeight\'>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="armorClass"\n                           class="col-sm-2 control-label">Armor Class</label>\n                      <div class="col-sm-10">\n                        <input type="text"\n                               class="form-control"\n                               id="armorClass"\n                               placeholder="3"\n                               data-bind=\'textInput: armorClass\'>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="armorSize"\n                           class="col-sm-2 control-label">Stealth</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: armorStealthOptions,\n                                         value: armorStealth,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                  <label\n                         class="col-sm-2 control-label">Equipped</label>\n                    <div class="col-sm-10">\n                      <div class="btn-group btn-group-justified" role="group">\n                      <label class="btn btn-default"\n                      data-bind="css: { active: armorEquipped() == \'\'}">\n                        <input type="radio" class="hide-block"\n                        name="notEquipped" value="" data-bind="checked: armorEquipped"/>\n                        Doff\n                      </label>\n                      <label class="btn btn-default"\n                      data-bind="css: { active: armorEquipped() == \'equipped\'}">\n                        <input type="radio" class="hide-block"\n                        name="equipped" value="equipped" data-bind="checked: armorEquipped"/>\n                        Don\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="armorDescription"\n                           class="col-sm-2 control-label">Description</label>\n                      <div class="col-sm-10">\n                        <textarea type="password"\n                                  class="form-control"\n                                  id="armorDescription"\n                                  rows="4"\n                                  placeholder="Armor of damage blocking"\n                                  data-bind=\'textInput: armorDescription\'>\n                        </textarea>\n                      </div>\n                  </div>\n                  <div class="modal-footer">\n                    <button type="button"\n                            class="btn btn-primary"\n                            data-dismiss="modal">Done</button>\n                  </div>\n                </form>\n              </div> \x3c!-- End Edit Tab --\x3e\n            </div> \x3c!-- End With Selection --\x3e\n          </div> \x3c!-- Modal Body --\x3e\n        </div> \x3c!-- Modal Content --\x3e\n      </div> \x3c!-- Modal Dialog --\x3e\n    </div> \x3c!-- Modal Fade --\x3e\n</div> \x3c!-- Panel --\x3e\n'},function(e,t,n){"use strict";var a=n(1),i=n(6),r=n(11),o=n(0),s=n.n(o),c=n(396),l=n.n(c);s.a.components.register("exhibit",{viewModel:function(){var e=this;e.name=s.a.observable(""),e.url=s.a.observable(""),e.isConnectedToParty=s.a.observable(!1),e.load=function(){a.f.party.players.changed.add(e.exhibitGivenImage),a.f.party.left.add(e.checkForParty),a.f.party.joined.add(e.checkForParty),e.checkForParty()},e.unload=function(){a.f.party.players.changed.remove(e.exhibitGivenImage),a.f.party.left.remove(e.checkForParty),a.f.party.joined.remove(e.checkForParty)},e.checkForParty=function(){var t=i.d.sharedService();e.isConnectedToParty(null!=t.currentPartyNode)},e.exhibitGivenImage=function(t){if(e.isConnectedToParty()){var n=t.filter(function(e,t,n){return r.o.dmPlayerType.key==e.get("playerType")[0]})[0],i=n?n.get("exhibitImage")[0]:null;if(i){if(i.name==e.name()&&i.url==e.url())return;e.name(i.name),e.url(a.g.string.createDirectDropboxLink(i.url)),a.f.userNotification.infoNotification.dispatch("New image on Exhibit","")}else e.name(""),e.url("")}}},template:l.a})},function(e,t){e.exports='\x3c!-- ko if: !isConnectedToParty() --\x3e\r\n<div class="detail-place-holder well text-center">\r\n    <p class="lead text-muted heading">You are not connected to a Party.</p>\r\n    <p class="text-muted">\r\n    Create or join a Party with friends to view your DM\'s Exhibit!<br/>\r\n    Create a free account <a href="https://app.adventurerscodex.com/accounts/register/">here</a> or learn more about Parties <a href="https://adventurerscodex.com/player-tools.html#exhibit" target="_blank">here</a>.\r\n    </p>\r\n</div>\r\n\x3c!--/ko--\x3e\r\n\x3c!-- ko if: isConnectedToParty --\x3e\r\n<div class="panel panel-default bio">\r\n    <div class="panel-body">\r\n        <div class="row">\r\n            <div class="col-sm-12">\r\n                \x3c!-- ko if: name && url --\x3e\r\n                    <h1 data-bind="html: name"></h1>\r\n                    <hr>\r\n                    <img data-bind="attr: { src: url }" width="100%" class="img-responsive img-rounded"/>\r\n                \x3c!-- /ko --\x3e\r\n                \x3c!-- ko if: !name() && !url() --\x3e\r\n                    <div class="detail-place-holder well text-center">\r\n                        <p class="lead text-muted heading">There\'s nothing being Exhibited.</p>\r\n                        <p class="text-muted">Wait for your DM to Exhibit an image.</p>\r\n                    </div>\r\n                \x3c!-- /ko --\x3e\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\x3c!-- /ko --\x3e'},function(e,t,n){"use strict";var a=n(1),i=n(17),r=n(2),o=n(0),s=n.n(o),c=n(398),l=n.n(c);s.a.components.register("feat-traits",{viewModel:function(){var e=this;e.featTraits=s.a.observable(new i.f),e.load=function(){a.f.global.save.add(e.save);var t=r.a.findBy(i.f,"characterId",a.a.activeCharacter().key());t.length>0?e.featTraits(t[0]):e.featTraits(new i.f),e.featTraits().characterId(a.a.activeCharacter().key()),e.featTraits().background.subscribe(e.dataHasChanged),e.featTraits().ideals.subscribe(e.dataHasChanged),e.featTraits().flaws.subscribe(e.dataHasChanged),e.featTraits().bonds.subscribe(e.dataHasChanged)},e.dataHasChanged=function(){e.featTraits().save()},e.save=function(){e.featTraits().save()}},template:l.a})},function(e,t){e.exports='<div class="panel panel-default">\n  <div class="panel-body" data-bind="with: featTraits">\n  <div class="panel-body">\n    <div class="form-horizontal">\n      <div class="form-group">\n        <div class="row">\n          <div class="col-md-6 col-padded">\n          <label for="backgroundArea">Personality Traits:</label>\n            <textarea id="backgroundArea" class="form-control dark-area" rows="4"\n              data-bind="textInput: background"></textarea>\n          </div>\n          <div class="col-md-6 col-padded">\n          <label for="idealsArea">Ideals:</label>\n            <textarea id="idealsArea" class="form-control dark-area" rows="4"\n              data-bind="textInput: ideals"></textarea>\n          </div>\n          <div class="col-md-6 col-padded">\n          <label for="bondsArea">Bonds:</label>\n            <textarea id="bondsArea" class="form-control dark-area" rows="4"\n              data-bind="textInput: bonds"></textarea>\n          </div>\n          <div class="col-md-6 col-padded">\n          <label for="flawsArea">Flaws:</label>\n            <textarea id="flawsArea" class="form-control dark-area" rows="4"\n              data-bind="textInput: flaws"></textarea>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n(14);var a=n(17),i=n(1),r=n(2),o=n(6),s=n(39),c=n.n(s),l=n(0),d=n.n(l),u=n(40),p=n.n(u),f=n(400),h=n.n(f),m=n(22),b=n.n(m);d.a.components.register("feats",{viewModel:function(){var e=this;e.DESCRIPTION_MAX_LENGTH=45,e.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"}},e.feats=d.a.observableArray([]),e.blankFeat=d.a.observable(new a.d),e.blankTracked=d.a.observable(new a.q),e.modalOpen=d.a.observable(!1),e.editItemIndex=null,e.currentEditItem=d.a.observable(new a.d),e.currentEditTracked=d.a.observable(new a.q),e.sort=d.a.observable(e.sorts["name asc"]),e.filter=d.a.observable(""),e.shouldShowDisclaimer=d.a.observable(!1),e.previewTabStatus=d.a.observable("active"),e.editTabStatus=d.a.observable(""),e.firstModalElementHasFocus=d.a.observable(!1),e.editFirstModalElementHasFocus=d.a.observable(!1),e.meditation=p.a,e.campingTent=c.a,e.load=function(){i.f.global.save.add(e.save);var t=i.a.activeCharacter().key();e.feats(r.a.findBy(a.d,"characterId",t))},e.unload=function(){i.f.global.save.remove(e.save)},e.save=function(){e.feats().forEach(function(e,t,n){e.save()})},e.featsPrePopFilter=function(e,t){var n=e.term.toLowerCase();t((i.b.feats?Object.keys(i.b.feats):[]).filter(function(e,t,a){return e.toLowerCase().indexOf(n)>-1}))},e.populateFeat=function(t,n){var a=i.b.feats[t];e.blankFeat().importValues(a),e.shouldShowDisclaimer(!0)},e.modalFinishedOpening=function(){e.shouldShowDisclaimer(!1),e.firstModalElementHasFocus(!0)},e.modalFinishedClosing=function(){if(e.previewTabStatus("active"),e.editTabStatus(""),e.modalOpen()){if(e.currentEditItem().isTracked())if(e.currentEditItem().trackedId()){var t=r.a.findFirstBy(a.q,"trackedId",e.currentEditItem().trackedId());t.importValues(e.currentEditTracked().exportValues()),t.save()}else e.currentEditItem().trackedId(b.a.v4()),e.addTracked(e.currentEditItem().trackedId(),e.currentEditItem().characterId(),e.currentEditTracked());else e.currentEditItem().trackedId()&&(r.a.findFirstBy(a.q,"trackedId",e.currentEditItem().trackedId()).delete(),e.currentEditItem().trackedId(null));i.g.array.updateElement(e.feats(),e.currentEditItem(),e.editItemIndex)}e.save(),e.currentEditItem(new a.d),e.currentEditTracked(new a.q),e.modalOpen(!1),i.f.feat.changed.dispatch()},e.selectPreviewTab=function(){e.previewTabStatus("active"),e.editTabStatus("")},e.selectEditTab=function(){e.editTabStatus("active"),e.previewTabStatus(""),e.editFirstModalElementHasFocus(!0)},e.filteredAndSortedFeats=d.a.computed(function(){return o.m.sortAndFilter(e.feats(),e.sort(),null)}),e.sortArrow=function(t){return o.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(o.m.sortForName(e.sort(),t,e.sorts))},e.addFeat=function(){var t=e.blankFeat();t.characterId(i.a.activeCharacter().key()),t.isTracked()&&(t.trackedId(b.a.v4()),e.addTracked(t.trackedId(),t.characterId(),e.blankTracked())),t.save(),e.feats.push(t),e.blankFeat(new a.d),e.blankTracked(new a.q)},e.addTracked=function(e,t,n){var o=new a.q;o.characterId(t),o.trackedId(e),o.maxUses(n.maxUses()),o.resetsOn(n.resetsOn()),o.type(a.d);var s=r.a.findBy(a.q,"characterId",t);o.color(i.c.general.colorList[s.length%i.c.general.colorList.length]),o.save()},e.clear=function(){e.feats([])},e.removeFeat=function(t){t.isTracked()&&r.a.findFirstBy(a.q,"trackedId",t.trackedId()).delete(),e.feats.remove(t),t.delete(),i.f.feat.changed.dispatch()},e.editFeat=function(t){e.editItemIndex=t.__id,e.currentEditItem(new a.d),e.currentEditItem().importValues(t.exportValues()),t.isTracked()&&e.currentEditTracked(r.a.findFirstBy(a.q,"trackedId",t.trackedId())),e.modalOpen(!0)},e.trackedPopoverText=function(){return"Tracked Feats are listed in Feature Tracker."}},template:h.a})},function(e,t){e.exports='<div class="panel panel-default bio">\n  <div class="panel-body tight-inner">\n    <table class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr>\n          <th data-bind="click: function(){sortBy(\'name\');}" class="col-md-11">\n            Feat\n            <span data-bind="css: sortArrow(\'name\')"></span>\n          </th>\n          <th class="col-md-1">\n            <a data-toggle="modal"\n              data-target="#addFeat" href="#">\n              <i class="fa fa-plus fa-color"></i>\n            </a>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n      \x3c!-- ko foreach: filteredAndSortedFeats --\x3e\n        <tr class="clickable">\n          <td data-bind="text: name, click: $parent.editFeat" href="#"></td>\n          <td class="col-content-vertical">\n            <a data-bind="click: $parent.removeFeat" href="#">\n              <i class="fa fa-trash-o fa-color-hover">\n              </i>\n            </a>\n          </td>\n        </tr>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: filteredAndSortedFeats().length == 0 --\x3e\n        <tr class="clickable">\n          <td data-toggle="modal" data-target="#addFeat" href="#"\n            colspan="12" class="text-center">\n            <i class="fa fa-plus fa-color"></i>\n            Add a new Feat\n          </td>\n        </tr>\n        \x3c!-- /ko --\x3e\n      </tbody>\n    </table>\n  </div>\n</div>\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n     id="addFeat"\n     tabindex="-1"\n     role="dialog" data-bind="modal: {\n      onopen: modalFinishedOpening, onclose: modalFinishedClosing}">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title"\n            id="addFeatLabel">Add a new Feat.</h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label for="name" class="col-sm-2 control-label">Name</label>\n              <div class="col-sm-10">\n                <input type="text"\n                        class="form-control"\n                        id="featName"\n                        placeholder="Grappler"\n                        data-bind=\'textInput: blankFeat().name,\n                        autocomplete: { source: featsPrePopFilter,\n                        onselect: populateFeat }, hasFocus: firstModalElementHasFocus\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label for="featDescription" class="col-sm-2 control-label">Description</label>\n              <div class="col-sm-10">\n                <textarea type="password"\n                          class="form-control"\n                          id="featDescription"\n                          rows="4"\n                          placeholder="You\'ve developed the skills necessary to hold your own in close-quarters grappling."\n                          data-bind=\'textInput: blankFeat().description\'>\n                </textarea>\n              </div>\n          </div>\n          <div class="form-group">\n            <label for="featDescription" class="col-sm-3 control-label content-left">\n              <span class="fa fa-info-circle" style="cursor:pointer;"\n                      data-bind="popover: { content: trackedPopoverText }"></span>&nbsp;Tracked?</label>\n              <div class="col-sm-7">\n                <input type="checkbox"\n                         class="form-control"\n                         id="tracked"\n                         data-bind=\'checked: blankFeat().isTracked\'>\n              </div>\n          </div>\n          <div data-bind="visible: blankFeat().isTracked">\n            <div class="form-group">\n              <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:40px">\n              </div>\n              <label for="bonus" class="col-sm-2 control-label">Max</label>\n              <div class="col-sm-9">\n                <input type="number" class="form-control" id="max" min="1"\n                      data-bind=\'textInput: blankTracked().maxUses\'>\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:50px">\n              </div>\n              <label class="col-sm-2 control-label">Resets on...</label>\n              <div class="col-sm-9">\n                <div class="btn-group btn-group-justified" role="group">\n                  <label class="btn btn-default"\n                        data-bind="css: { active: blankTracked().resetsOn() == \'short\'}">\n                    <input type="radio" class="hide-block" name="blankresetsOnShort" value="short"\n                            data-bind="checked: blankTracked().resetsOn"/>\n                      <img class="action-bar-icon" data-bind="attr: { src: meditation }"></img>\n                      &nbsp;&nbsp;&nbsp;Short Rest\n                  </label>\n                  <label class="btn btn-default"\n                  data-bind="css: { active: blankTracked().resetsOn() == \'long\'}">\n                    <input type="radio" class="hide-block" name="blankresetsOnLong"\n                            value="long" data-bind="checked: blankTracked().resetsOn"/>\n                    <img class="action-bar-icon" data-bind="attr: { src: campingTent }"></img>\n                      &nbsp;&nbsp;&nbsp;Long Rest\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addFeat\'\n                    data-dismiss="modal">Add</button>\n            <p class="text-muted text-left" data-bind=\'visible: shouldShowDisclaimer\'>\n              <sm><i>This data is distributed under the\n                <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n                  target=\'_blank\'>\n                  OGL</a><br/>\n                  Open  Game  License v 1.0a  Copyright 2000, Wizards of  the Coast,  LLC.\n                </i><sm>\n            </p>\n          </div>\n        </form>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     id="viewWeapon"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      open: modalOpen,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit a Feat.</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#" aria-controls="featModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#" aria-controls="featModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane">\n            <div class="h3">\n              <span data-bind="text: name"></span>\n            </div>\n            \x3c!-- ko if: isTracked --\x3e\n            <div class="row" >\n              <div class="col-sm-6 col-xs-12">\n                <b>Max Uses:</b>&nbsp;\n                <span data-bind="text: $parent.currentEditTracked().maxUses"></span>\n              </div>\n              <div class="col-sm-6 col-xs-12">\n                <b>Resets on:</b>&nbsp;\n                <span data-bind="visible: $parent.currentEditTracked().resetsOn() === \'short\'">\n                  Short Rest\n                </span>\n                <span data-bind="visible: $parent.currentEditTracked().resetsOn() === \'long\'">\n                  Long Rest\n                </span>\n              </div>\n            </div>\n            \x3c!-- /ko --\x3e\n            <hr />\n            <div class="row row-padded">\n              <div class="col-xs-12 col-padded">\n                <div data-bind="markdownPreview: description"\n                     class="preview-modal-overflow-sm">\n                </div>\n              </div>\n            </div>\n            <div class="modal-footer">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-dismiss="modal">Done</button>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="name" class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                        class="form-control"\n                        id="featName"\n                        placeholder="Grappler"\n                        data-bind=\'textInput: name, hasFocus: $parent.editFirstModalElementHasFocus\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="featDescription"\n                       class="col-sm-2 control-label">Description</label>\n                  <div class="col-sm-10">\n                    <textarea type="text" rows="6"\n                           class="form-control"\n                           placeholder="You\'ve developed the skills necessary to hold your own in close-quarters grappling."\n                           data-bind=\'value: description, markdownEditor: true\'></textarea>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="featDescription" class="col-sm-2 control-label">Tracked?</label>\n                  <div class="col-sm-10">\n                    <input type="checkbox" class="form-control" id="tracked"\n                            data-bind=\'checked: isTracked\'>\n                  </div>\n              </div>\n              \x3c!-- ko if: isTracked --\x3e\n                <div class="form-group">\n                  <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:40px">\n                  </div>\n                  <label for="bonus" class="col-sm-2 control-label">Max</label>\n                  <div class="col-sm-9">\n                    <input type="number" class="form-control" id="max" min="1"\n                          data-bind=\'textInput: $parent.currentEditTracked().maxUses\'>\n                  </div>\n                </div>\n                <div class="form-group">\n                  <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:50px">\n                  </div>\n                  <label class="col-sm-2 control-label">Resets on...</label>\n                  <div class="col-sm-9">\n                    <div class="btn-group btn-group-justified" role="group">\n                      <label class="btn btn-default"\n                            data-bind="css: { active: $parent.currentEditTracked().resetsOn() == \'short\'}">\n                        <input type="radio" class="hide-block" name="blankresetsOnShort" value="short"\n                                data-bind="checked: $parent.currentEditTracked().resetsOn"/>\n                          <img class="action-bar-icon" data-bind="attr: { src: $parent.meditation }"></img>\n                          &nbsp;&nbsp;&nbsp;Short Rest\n                      </label>\n                      <label class="btn btn-default"\n                      data-bind="css: { active: $parent.currentEditTracked().resetsOn() != \'short\'}">\n                        <input type="radio" class="hide-block" name="blankresetsOnLong"\n                                value="long" data-bind="checked: $parent.currentEditTracked().resetsOn"/>\n                        <img class="action-bar-icon" data-bind="attr: { src: $parent.campingTent }"></img>\n                          &nbsp;&nbsp;&nbsp;Long Rest\n                      </label>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- /ko --\x3e\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(15),r=n(6),o=n(39),s=n.n(o),c=n(0),l=n.n(c),d=n(40),u=n.n(d),p=n(420),f=n.n(p),h=n(22),m=n.n(h);l.a.components.register("features",{viewModel:function(){var e=this;e.DESCRIPTION_MAX_LENGTH=45,e.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"},"characterClass asc":{field:"characterClass",direction:"asc"},"characterClass desc":{field:"characterClass",direction:"desc"}},e.features=l.a.observableArray([]),e.blankFeature=l.a.observable(new i.k),e.blankTracked=l.a.observable(new i.x),e.modalOpen=l.a.observable(!1),e.editItemIndex=null,e.currentEditItem=l.a.observable(new i.k),e.currentEditTracked=l.a.observable(new i.x),e.sort=l.a.observable(e.sorts["name asc"]),e.filter=l.a.observable(""),e.shouldShowDisclaimer=l.a.observable(!1),e.previewTabStatus=l.a.observable("active"),e.editTabStatus=l.a.observable(""),e.firstModalElementHasFocus=l.a.observable(!1),e.editFirstModalElementHasFocus=l.a.observable(!1),e.meditation=u.a,e.campingTent=s.a,e.classOptions=a.c.profile.classOptions,e.load=function(){a.f.global.save.add(e.save);var t=a.a.activeCharacter().key();e.features(r.l.findBy(i.k,"characterId",t))},e.unload=function(){a.f.global.save.remove(e.save)},e.save=function(){e.features().forEach(function(e,t,n){e.save()})},e.featuresPrePopFilter=function(e,t){var n=e.term.toLowerCase();t((a.b.features?a.b.featuresDisplayNames:[]).filter(function(e,t,a){return e.toLowerCase().indexOf(n)>-1}))},e.populateFeature=function(t,n){var i=a.b.filterBy("features","displayName",t)[0];i&&(e.blankFeature().importValues(i),e.shouldShowDisclaimer(!0))},e.populateClass=function(t,n){e.blankFeature().characterClass(n)},e.populateClassEdit=function(t,n){e.currentEditItem().characterClass(n)},e.modalFinishedOpening=function(){e.shouldShowDisclaimer(!1),e.firstModalElementHasFocus(!0)},e.modalFinishedClosing=function(){if(e.previewTabStatus("active"),e.editTabStatus(""),e.modalOpen()){if(e.currentEditItem().isTracked())if(e.currentEditItem().trackedId()){var t=r.l.findFirstBy(i.x,"trackedId",e.currentEditItem().trackedId());t.importValues(e.currentEditTracked().exportValues()),t.save()}else e.currentEditItem().trackedId(m.a.v4()),e.addTracked(e.currentEditItem().trackedId(),e.currentEditItem().characterId(),e.currentEditTracked());else e.currentEditItem().trackedId()&&(r.l.findFirstBy(i.x,"trackedId",e.currentEditItem().trackedId()).delete(),e.currentEditItem().trackedId(null));a.g.array.updateElement(e.features(),e.currentEditItem(),e.editItemIndex)}e.save(),e.currentEditItem(new i.k),e.currentEditTracked(new i.x),e.modalOpen(!1),a.f.feature.changed.dispatch()},e.selectPreviewTab=function(){e.previewTabStatus("active"),e.editTabStatus("")},e.selectEditTab=function(){e.editTabStatus("active"),e.previewTabStatus(""),e.editFirstModalElementHasFocus(!0)},e.filteredAndSortedFeatures=l.a.computed(function(){return r.m.sortAndFilter(e.features(),e.sort(),null)}),e.sortArrow=function(t){return r.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(r.m.sortForName(e.sort(),t,e.sorts))},e.addFeature=function(){var t=e.blankFeature();t.characterId(a.a.activeCharacter().key()),t.isTracked()&&(t.trackedId(m.a.v4()),e.addTracked(t.trackedId(),t.characterId(),e.blankTracked())),t.save(),e.features.push(t),e.blankFeature(new i.k),e.blankTracked(new i.x)},e.addTracked=function(e,t,n){var o=new i.x;o.characterId(t),o.trackedId(e),o.maxUses(n.maxUses()),o.resetsOn(n.resetsOn()),o.type(i.k);var s=r.l.findBy(i.x,"characterId",t);o.color(a.c.general.colorList[s.length%a.c.general.colorList.length]),o.save()},e.clear=function(){e.features([])},e.removeFeature=function(t){t.isTracked()&&r.l.findFirstBy(i.x,"trackedId",t.trackedId()).delete(),e.features.remove(t),t.delete(),a.f.feature.changed.dispatch()},e.editFeature=function(t){e.editItemIndex=t.__id,e.currentEditItem(new i.k),e.currentEditItem().importValues(t.exportValues()),t.isTracked()&&e.currentEditTracked(r.l.findFirstBy(i.x,"trackedId",t.trackedId())),e.modalOpen(!0)},e.trackedPopoverText=function(){return"Tracked Features are listed in the Tracker."}},template:f.a})},function(e,t,n){"use strict";var a=n(403);n.d(t,"a",function(){return a.a});var i=n(404);n.d(t,"b",function(){return i.a});var r=n(405);n.d(t,"c",function(){return r.a});var o=n(406);n.d(t,"d",function(){return o.a});var s=n(407);n.d(t,"e",function(){return s.a});var c=n(408);n.d(t,"g",function(){return c.a});var l=n(157);n.d(t,"f",function(){return l.a});var d=n(409);n.d(t,"h",function(){return d.a});var u=n(165);n.d(t,"j",function(){return u.a});var p=n(410);n.d(t,"k",function(){return p.a});var f=n(411);n.d(t,"i",function(){return f.a});var h=n(412);n.d(t,"n",function(){return h.a});var m=n(413);n.d(t,"m",function(){return m.a});var b=n(414);n.d(t,"l",function(){return b.a});var v=n(166);n.d(t,"p",function(){return v.a});var g=n(415);n.d(t,"o",function(){return g.a});var y=n(416);n.d(t,"r",function(){return y.a});var x=n(417);n.d(t,"q",function(){return x.a});var w=n(418);n.d(t,"s",function(){return w.a})},function(e,t,n){"use strict";function a(){var e=new i.a;return e.ps=r.a.register(a,e),e.mapping.include.push("encounterId"),e.mapping.include.push("treasureType"),e.encounterId=s.a.observable(),e.treasureType=s.a.observable(),e.nameLabel=s.a.pureComputed(function(){return e.armorName()}),e.propertyLabel=s.a.pureComputed(function(){return e.armorClass()?e.acLabel():""}),e.descriptionLabel=s.a.pureComputed(function(){return e.armorDescription()}),e}t.a=a;var i=n(11),r=n(2),o=n(0),s=n.n(o);a.__name="EncounterArmor",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=new r.t;return e.ps=i.a.register(a,e),e.mapping.include.push("encounterId"),e.mapping.include.push("treasureType"),e.encounterId=s.a.observable(),e.treasureType=s.a.observable(),e.nameLabel=s.a.pureComputed(function(){return"Coins"}),e.propertyLabel=s.a.pureComputed(function(){return"N/A"}),e.descriptionLabel=s.a.pureComputed(function(){return e.worthInGold()?e.worthInGold()+"(gp)":""}),e}t.a=a;var i=n(2),r=n(11),o=n(0),s=n.n(o);a.__name="EncounterCoins",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=new i.g;return e.ps=r.a.register(a,e),e.mapping.include.push("encounterId"),e.mapping.include.push("treasureType"),e.encounterId=s.a.observable(),e.treasureType=s.a.observable(),e.nameLabel=s.a.pureComputed(function(){return e.itemName()}),e.propertyLabel=s.a.pureComputed(function(){return"N/A"}),e.descriptionLabel=s.a.pureComputed(function(){return e.shortDescription()}),e}t.a=a;var i=n(11),r=n(2),o=n(0),s=n.n(o);a.__name="EncounterItem",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=new i.a;return e.ps=r.a.register(a,e),e.mapping.include.push("encounterId"),e.mapping.include.push("treasureType"),e.encounterId=s.a.observable(),e.treasureType=s.a.observable(),e.nameLabel=s.a.pureComputed(function(){return e.magicItemName()}),e.propertyLabel=s.a.pureComputed(function(){return e.magicItemType()?e.magicItemType():""}),e.descriptionLabel=s.a.pureComputed(function(){return e.shortDescription()}),e}t.a=a;var i=n(96),r=n(2),o=n(0),s=n.n(o);a.__name="EncounterMagicItem",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=new r.u;return e.ps=i.a.register(a,e),e.mapping.include.push("encounterId"),e.mapping.include.push("treasureType"),e.encounterId=s.a.observable(),e.treasureType=s.a.observable(),e.nameLabel=s.a.pureComputed(function(){return e.weaponName()}),e.propertyLabel=s.a.pureComputed(function(){return e.weaponDmg()?e.weaponDmg():""}),e.descriptionLabel=s.a.pureComputed(function(){return e.weaponDescription()?e.weaponDescription():""}),e}t.a=a;var i=n(2),r=n(11),o=n(0),s=n.n(o);a.__name="EncounterWeapon",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","visible"]},e.characterId=o.a.observable(),e.encounterId=o.a.observable(),e.name=o.a.observable("Environment"),e.tagline=o.a.observable("Where is this encounter, and what's it like there?"),e.visible=o.a.observable(!1),e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.clear=function(){var t=(new a).exportValues(),n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="EnvironmentSection",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","visible","name"]},e.characterId=o.a.observable(),e.encounterId=o.a.observable(),e.name=o.a.observable("Maps and Images"),e.tagline=o.a.observable("Keep track of all of the interesting places or images in your world."),e.visible=o.a.observable(!1),e.clear=function(){var t=(new a).exportValues(),n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="MapsAndImagesSection",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","visible","name"]},e.characterId=o.a.observable(),e.encounterId=o.a.observable(),e.name=o.a.observable("Monsters"),e.visible=o.a.observable(!1),e.tagline=o.a.observable("What kind of baddies will your encounters have?"),e.clear=function(){var t=(new a).exportValues(),n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="MonsterSection",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=r.a.register(a,e),e.mapping={include:["characterId","encounterId","monsterId","name","size","type","alignment","armorClass","hitPoints","speed","savingThrows","skills","senses","damageVulnerabilities","damageImmunities","damageResistances","conditionImmunities","languages","challenge","experience","description"]},e.characterId=s.a.observable(),e.encounterId=s.a.observable(),e.monsterId=s.a.observable(),e.name=s.a.observable(),e.size=s.a.observable(),e.type=s.a.observable(),e.alignment=s.a.observable(),e.armorClass=s.a.observable(),e.hitPoints=s.a.observable(),e.speed=s.a.observable(),e.abilityScores=s.a.observableArray([new i.a,new i.a,new i.a,new i.a,new i.a,new i.a]),e.savingThrows=s.a.observable(),e.skills=s.a.observable(),e.senses=s.a.observable(),e.damageVulnerabilities=s.a.observable(),e.damageImmunities=s.a.observable(),e.damageResistances=s.a.observable(),e.conditionImmunities=s.a.observable(),e.languages=s.a.observable(),e.challenge=s.a.observable(),e.experience=s.a.observable(),e.description=s.a.observable(),e.markDownDescription=s.a.pureComputed(function(){return e.description()?e.description():""}),e.nameLabel=s.a.pureComputed(function(){var t=e.size()?e.size():"";return t+=e.type()?(e.size()?" ":"")+e.type():"",t+=e.size()&&e.alignment()||e.type()&&e.alignment()?", ":"",t+=e.alignment()?e.alignment():""}),e.findAbilityScoreByName=function(t){var n;return e.abilityScores().forEach(function(e,a,i){e.name().toLowerCase()==t.toLowerCase()&&(n=e)}),n},e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.abilityScores().forEach(function(e,t,n){e.save()}),e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;var i=n(165),r=n(2),o=n(0),s=n.n(o);a.__name="Monster",r.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","notes","visible"]},e.characterId=o.a.observable(),e.encounterId=o.a.observable(),e.name=o.a.observable("Notes"),e.tagline=o.a.observable("Was there something particularly interesting about this place?"),e.notes=o.a.observable(""),e.visible=o.a.observable(!0),e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.clear=function(){var t=(new a).exportValues(),n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="NotesSection",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","visible","name"]},e.characterId=o.a.observable(),e.encounterId=o.a.observable(),e.name=o.a.observable("Non-Player Characters"),e.tagline=o.a.observable("Keep track of all of the interesting characters in your world."),e.visible=o.a.observable(!1),e.clear=function(){var t=(new a).exportValues(),n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="NPCSection",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.SHORT_DESCRIPTION_MAX_LENGTH=100,e.LONG_DESCRIPTION_MAX_LENGTH=200,e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","name","race","description"]},e.characterId=s.a.observable(),e.encounterId=s.a.observable(),e.name=s.a.observable(),e.race=s.a.observable(),e.description=s.a.observable(),e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.longDescription=s.a.pureComputed(function(){return r.a.string.truncateStringAtLength(e.description(),e.LONG_DESCRIPTION_MAX_LENGTH)}),e.shortDescription=s.a.pureComputed(function(){return r.a.string.truncateStringAtLength(e.description(),e.SHORT_DESCRIPTION_MAX_LENGTH)})}t.a=a;var i=n(2),r=n(50),o=n(0),s=n.n(o);a.__name="NPC",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.SHORT_DESCRIPTION_MAX_LENGTH=100,e.LONG_DESCRIPTION_MAX_LENGTH=200,e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","name","description"]},e.characterId=s.a.observable(),e.encounterId=s.a.observable(),e.name=s.a.observable(),e.description=s.a.observable(),e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.longDescription=s.a.pureComputed(function(){return r.a.string.truncateStringAtLength(e.description(),e.LONG_DESCRIPTION_MAX_LENGTH)}),e.shortDescription=s.a.pureComputed(function(){return r.a.string.truncateStringAtLength(e.description(),e.SHORT_DESCRIPTION_MAX_LENGTH)}),e.toHTML=function(){var t=e.description()?e.description():"",n=e.name()?e.name():"";return"<h3>{name}</h3>&nbsp;<p>{description}</p>".replace("{name}",n).replace("{description}",l()(t))},e.toJSON=function(){return{html:e.toHTML()}}}t.a=a;var i=n(2),r=n(50),o=n(0),s=n.n(o),c=n(52),l=n.n(c);a.__name="PlayerText",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","visible","name"]},e.characterId=o.a.observable(),e.encounterId=o.a.observable(),e.name=o.a.observable("Points of Interest"),e.visible=o.a.observable(!1),e.tagline=o.a.observable("Keep track of all of the interesting locations and objects in the world."),e.clear=function(){var t=(new a).exportValues(),n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="PointOfInterestSection",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.SHORT_DESCRIPTION_MAX_LENGTH=100,e.LONG_DESCRIPTION_MAX_LENGTH=200,e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","name","description"]},e.characterId=s.a.observable(),e.encounterId=s.a.observable(),e.name=s.a.observable(),e.description=s.a.observable(),e.clear=function(){var t=(new a).exportValues(),n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=s.a.mapping.autoignore(e,e.mapping);s.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=s.a.mapping.autoignore(e,e.mapping);return s.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.longDescription=s.a.pureComputed(function(){return r.a.string.truncateStringAtLength(e.description(),e.LONG_DESCRIPTION_MAX_LENGTH)}),e.shortDescription=s.a.pureComputed(function(){return r.a.string.truncateStringAtLength(e.description(),e.SHORT_DESCRIPTION_MAX_LENGTH)})}t.a=a;var i=n(2),r=(n(166),n(50)),o=n(0),s=n.n(o);a.__name="PointOfInterest",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=i.a.register(a,e),e.mapping={include:["characterId","encounterId","visible","name"]},e.characterId=o.a.observable(),e.encounterId=o.a.observable(),e.name=o.a.observable("Treasure"),e.visible=o.a.observable(!1),e.tagline=o.a.observable("Add loot to the treasure horde."),e.clear=function(){var t=(new a).exportValues(),n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=o.a.mapping.autoignore(e,e.mapping);o.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=o.a.mapping.autoignore(e,e.mapping);return o.a.mapping.toJS(e,t)},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()}}t.a=a;var i=n(2),r=n(0),o=n.n(r);a.__name="TreasureSection",i.a.addToRegistry(a)},function(e,t,n){"use strict";function a(){var e=this;e.ps=o.a.register(a,e),e.mapping={include:["characterId","encounterId","name","encounterLocation","notes","parent","children","isOpen"]},e.characterId=c.a.observable(),e.encounterId=c.a.observable(d.a.v4()),e.name=c.a.observable(),e.encounterLocation=c.a.observable(),e.notes=c.a.observable(),e.isOpen=c.a.observable(!1),e.parent=c.a.observable(),e.children=c.a.observableArray([]),e.displayName=c.a.pureComputed(function(){return c.a.unwrap(e.name)?e.name():"Untitled Encounter"}),e.removeChild=function(t){e.children(e.children().filter(function(e,n,a){return e!==t}))},e.getChildren=function(){var t=i.a.activeCharacter().key();return e.children().map(function(e,n,i){return o.a.findByPredicates(a,[new r.a("encounterId",e),new r.a("characterId",t)])[0]})},e.getParent=function(){var t=i.a.activeCharacter().key();return o.a.findByPredicates(a,[new r.a("encounterId",e.parent()),new r.a("characterId",t)])[0]},e.save=function(){e.ps.save()},e.delete=function(){e.ps.delete()},e.clear=function(){var t=(new a).exportValues(),n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.importValues=function(t){var n=c.a.mapping.autoignore(e,e.mapping);c.a.mapping.fromJS(t,n,e)},e.exportValues=function(){var t=c.a.mapping.autoignore(e,e.mapping);return c.a.mapping.toJS(e,t)}}t.a=a;var i=n(1),r=n(10),o=n(2),s=n(0),c=n.n(s),l=n(22),d=n.n(l);a.__name="Encounter",o.a.addToRegistry(a)},function(e,t){e.exports='<div class="panel panel-default bio">\n  <div class="panel-body tight-inner">\n    <table class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr>\n          <th data-bind="click: function(){sortBy(\'name\');}" class="col-md-7">\n            Feature\n            <span data-bind="css: sortArrow(\'name\')"></span>\n          </th>\n          <th data-bind="click: function(){sortBy(\'characterClass\');}" class="col-md-4">\n            Class\n            <span data-bind="css: sortArrow(\'characterClass\')"></span>\n          </th>\n          <th class="col-md-1">\n            <a data-toggle="modal"\n              data-target="#addFeature" href="#">\n              <i class="fa fa-plus fa-color"></i>\n            </a>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n      \x3c!-- ko foreach: filteredAndSortedFeatures --\x3e\n        <tr class="clickable">\n          <td data-bind="text: name, click: $parent.editFeature" href="#"></td>\n          <td data-bind="text: characterClass, click: $parent.editFeature" href="#"></td>\n          <td class="col-content-vertical">\n            <a data-bind="click: $parent.removeFeature" href="#">\n              <i class="fa fa-trash-o fa-color-hover">\n              </i>\n            </a>\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: filteredAndSortedFeatures().length == 0 --\x3e\n        <tr class="clickable">\n          <td data-toggle="modal" data-target="#addFeature" href="#"\n            colspan="12" class="text-center">\n            <i class="fa fa-plus fa-color"></i>\n            Add a new Feature\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      </tbody>\n    </table>\n  </div>\n</div>\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n     id="addFeature"\n     tabindex="-1"\n     role="dialog" data-bind="modal: {\n      onopen: modalFinishedOpening, onclose: modalFinishedClosing}">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title"\n            id="addFeatureLabel">Add a new Feature.</h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label for="name" class="col-sm-2 control-label">Name</label>\n              <div class="col-sm-10">\n                <input type="text"\n                        class="form-control"\n                        id="featureName"\n                        placeholder="Rage"\n                        data-bind=\'textInput: blankFeature().name,\n                        autocomplete: { source: featuresPrePopFilter,\n                        onselect: populateFeature }, hasFocus: firstModalElementHasFocus\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label for="class" class="col-sm-2 control-label">Class</label>\n              <div class="col-sm-10">\n                <input type="text"\n                        class="form-control"\n                        id="class"\n                        placeholder="Barbarian"\n                        data-bind=\'textInput: blankFeature().characterClass,\n                                   autocomplete: { source: classOptions,\n                                   onselect: populateClass }\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label for="level" class="col-sm-2 control-label">Level</label>\n              <div class="col-sm-10">\n                <input type="number"\n                        class="form-control"\n                        id="class"\n                        placeholder="1"\n                        data-bind=\'textInput: blankFeature().level\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label for="featureDescription" class="col-sm-2 control-label">Description</label>\n              <div class="col-sm-10">\n                <textarea type="password"\n                          class="form-control"\n                          id="featureDescription"\n                          rows="4"\n                          placeholder="While you are not wearing any armor, your Armor Class..."\n                          data-bind=\'textInput: blankFeature().description\'>\n                </textarea>\n              </div>\n          </div>\n          <div class="form-group">\n            <label for="featureDescription" class="col-sm-3 control-label content-left">\n              <span class="fa fa-info-circle" style="cursor:pointer;"\n                      data-bind="popover: { content: trackedPopoverText }"></span>&nbsp;Tracked?</label>\n              <div class="col-sm-7">\n                <input type="checkbox"\n                         class="form-control"\n                         id="tracked"\n                         data-bind=\'checked: blankFeature().isTracked\'>\n              </div>\n          </div>\n          <div data-bind="visible: blankFeature().isTracked">\n            <div class="form-group">\n              <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:40px">\n              </div>\n              <label for="bonus" class="col-sm-2 control-label">Max</label>\n              <div class="col-sm-9">\n                <input type="number" class="form-control" id="max" min="1"\n                      data-bind=\'textInput: blankTracked().maxUses\'>\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:50px">\n              </div>\n              <label class="col-sm-2 control-label">Resets on...</label>\n              <div class="col-sm-9">\n                <div class="btn-group btn-group-justified" role="group">\n                  <label class="btn btn-default"\n                        data-bind="css: { active: blankTracked().resetsOn() == \'short\'}">\n                    <input type="radio" class="hide-block" name="blankresetsOnShort" value="short"\n                            data-bind="checked: blankTracked().resetsOn"/>\n                      <img class="action-bar-icon" data-bind="attr: { src: meditation }"></img>\n                      &nbsp;&nbsp;&nbsp;Short Rest\n                  </label>\n                  <label class="btn btn-default"\n                  data-bind="css: { active: blankTracked().resetsOn() == \'long\'}">\n                    <input type="radio" class="hide-block" name="blankresetsOnLong"\n                            value="long" data-bind="checked: blankTracked().resetsOn"/>\n                    <img class="action-bar-icon" data-bind="attr: { src: campingTent }"></img>\n                      &nbsp;&nbsp;&nbsp;Long Rest\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addFeature\'\n                    data-dismiss="modal">Add</button>\n            <p class="text-muted text-left" data-bind=\'visible: shouldShowDisclaimer\'>\n              <sm><i>This data is distributed under the\n                <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n                  target=\'_blank\'>\n                  OGL</a><br/>\n                  Open  Game  License v 1.0a  Copyright 2000, Wizards of  the Coast,  LLC.\n                </i><sm>\n            </p>\n          </div>\n        </form>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     id="viewWeapon"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      open: modalOpen,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit a Feature.</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#" aria-controls="featureModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#" aria-controls="featureModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane">\n            <div class="h3">\n              <span data-bind="text: name"></span>\n            </div>\n            <div class="row">\n              <div class="col-sm-6 col-xs-12"><b>Class: </b>&nbsp;\n                <span data-bind="text: characterClass"></span>\n              </div>\n              <div class="col-sm-6 col-xs-12"><b>Level: </b>&nbsp;\n                <span data-bind="text: level"></span>\n              </div>\n            </div>\n            \x3c!-- ko if: isTracked --\x3e\n            <div class="row" >\n              <div class="col-sm-6 col-xs-12">\n                <b>Max Uses:</b>&nbsp;\n                <span data-bind="text: $parent.currentEditTracked().maxUses"></span>\n              </div>\n              <div class="col-sm-6 col-xs-12">\n                <b>Resets on:</b>&nbsp;\n                <span data-bind="visible: $parent.currentEditTracked().resetsOn() === \'short\'">\n                  Short Rest\n                </span>\n                <span data-bind="visible: $parent.currentEditTracked().resetsOn() === \'long\'">\n                  Long Rest\n                </span>\n              </div>\n            </div>\n            \x3c!-- /ko --\x3e\n            <hr />\n            <div class="row row-padded">\n              <div class="col-xs-12 col-padded">\n                <div data-bind="markdownPreview: description"\n                     class="preview-modal-overflow-sm">\n                </div>\n              </div>\n            </div>\n            <div class="modal-footer">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-dismiss="modal">Done</button>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="name" class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                        class="form-control"\n                        id="featureName"\n                        placeholder="Rage"\n                        data-bind=\'textInput: name, hasFocus: $parent.editFirstModalElementHasFocus\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="class" class="col-sm-2 control-label">Class</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                        class="form-control"\n                        id="class"\n                        placeholder="Barbarian"\n                        data-bind=\'textInput: characterClass,\n                                   autocomplete: { source: $parent.classOptions,\n                                   onselect: $parent.populateClassEdit }\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="level" class="col-sm-2 control-label">Level</label>\n                <div class="col-sm-10">\n                  <input type="number"\n                        class="form-control"\n                        id="class"\n                        placeholder="1"\n                        data-bind=\'textInput: level\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="featureDescription"\n                       class="col-sm-2 control-label">Description</label>\n                  <div class="col-sm-10">\n                    <textarea type="text" rows="6"\n                           class="form-control"\n                           placeholder="While you are not wearing any armor, your Armor Class..."\n                           data-bind=\'value: description, markdownEditor: true\'></textarea>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="featureDescription" class="col-sm-2 control-label">Tracked?</label>\n                  <div class="col-sm-10">\n                    <input type="checkbox" class="form-control" id="tracked"\n                            data-bind=\'checked: isTracked\'>\n                  </div>\n              </div>\n              \x3c!-- ko if: isTracked --\x3e\n                <div class="form-group">\n                  <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:40px">\n                  </div>\n                  <label for="bonus" class="col-sm-2 control-label">Max</label>\n                  <div class="col-sm-9">\n                    <input type="number" class="form-control" id="max" min="1"\n                          data-bind=\'textInput: $parent.currentEditTracked().maxUses\'>\n                  </div>\n                </div>\n                <div class="form-group">\n                  <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:50px">\n                  </div>\n                  <label class="col-sm-2 control-label">Resets on...</label>\n                  <div class="col-sm-9">\n                    <div class="btn-group btn-group-justified" role="group">\n                      <label class="btn btn-default"\n                            data-bind="css: { active: $parent.currentEditTracked().resetsOn() == \'short\'}">\n                        <input type="radio" class="hide-block" name="blankresetsOnShort" value="short"\n                                data-bind="checked: $parent.currentEditTracked().resetsOn"/>\n                          <img class="action-bar-icon" data-bind="attr: { src: $parent.meditation }"></img>\n                          &nbsp;&nbsp;&nbsp;Short Rest\n                      </label>\n                      <label class="btn btn-default"\n                      data-bind="css: { active: $parent.currentEditTracked().resetsOn() != \'short\'}">\n                        <input type="radio" class="hide-block" name="blankresetsOnLong"\n                                value="long" data-bind="checked: $parent.currentEditTracked().resetsOn"/>\n                        <img class="action-bar-icon" data-bind="attr: { src: $parent.campingTent }"></img>\n                          &nbsp;&nbsp;&nbsp;Long Rest\n                      </label>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- /ko --\x3e\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(6),r=n(11),o=n(0),s=n.n(o),c=n(422),l=n.n(c);s.a.components.register("items",{viewModel:function(){var e=this;e.sorts={"itemName asc":{field:"itemName",direction:"asc"},"itemName desc":{field:"itemName",direction:"desc"},"itemQty asc":{field:"itemQty",direction:"asc",numeric:!0},"itemQty desc":{field:"itemQty",direction:"desc",numeric:!0},"itemWeight asc":{field:"itemWeight",direction:"asc",numeric:!0},"itemWeight desc":{field:"itemWeight",direction:"desc",numeric:!0}},e.items=s.a.observableArray([]),e.blankItem=s.a.observable(new r.g),e.modalOpen=s.a.observable(!1),e.editItemIndex=null,e.currentEditItem=s.a.observable(),e.currencyDenominationList=s.a.observableArray(a.c.general.currencyDenominationList),e.sort=s.a.observable(e.sorts["itemName asc"]),e.filter=s.a.observable(""),e.shouldShowDisclaimer=s.a.observable(!1),e.previewTabStatus=s.a.observable("active"),e.editTabStatus=s.a.observable(""),e.firstModalElementHasFocus=s.a.observable(!1),e.editFirstModalElementHasFocus=s.a.observable(!1),e.totalItemWeight=s.a.pureComputed(function(){var t=0,n=e.items().length;if(n>0){for(var a=0;a<n;a++)t+=e.items()[a].totalWeight();return t+" (lbs)"}return"0 (lbs)"}),e.load=function(){a.f.global.save.add(e.save);var t=a.a.activeCharacter().key();e.items(i.l.findBy(r.g,"characterId",t))},e.unload=function(){e.save(),a.f.global.save.remove(e.save)},e.save=function(){e.items().forEach(function(e,t,n){e.save()})},e.modalFinishedOpening=function(){e.shouldShowDisclaimer(!1),e.firstModalElementHasFocus(!0)},e.modalFinishedClosing=function(){e.previewTabStatus("active"),e.editTabStatus(""),e.previewTabStatus.valueHasMutated(),e.editTabStatus.valueHasMutated(),e.modalOpen()&&a.g.array.updateElement(e.items(),e.currentEditItem(),e.editItemIndex),e.save(),e.modalOpen(!1),a.f.item.changed.dispatch()},e.selectPreviewTab=function(){e.previewTabStatus("active"),e.editTabStatus("")},e.selectEditTab=function(){e.editTabStatus("active"),e.previewTabStatus(""),e.editFirstModalElementHasFocus(!0)},e.filteredAndSortedEquipment=s.a.computed(function(){return i.m.sortAndFilter(e.items(),e.sort(),null)}),e.sortArrow=function(t){return i.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(i.m.sortForName(e.sort(),t,e.sorts))},e.itemsPrePopFilter=function(e,t){var n=e.term.toLowerCase();t((a.b.items?Object.keys(a.b.items):[]).filter(function(e,t,a){return e.toLowerCase().indexOf(n)>-1}))},e.removeItemButton=function(t){e.removeItem(t)},e.addItemButton=function(){var t=new r.g;t.importValues(e.blankItem().exportValues()),e.addItem(t),e.blankItem().clear()},e.populateItem=function(t,n){var i=a.b.items[t];e.blankItem().importValues(i),e.shouldShowDisclaimer(!0)},e.addToItems=function(t){e.addItem(t)},e.clear=function(){e.items([])},e.addItem=function(t){e.items.push(t),t.characterId(a.a.activeCharacter().key()),t.save(),a.f.item.changed.dispatch()},e.removeItem=function(t){e.items.remove(t),t.delete(),a.f.item.changed.dispatch()},e.editItem=function(t){e.editItemIndex=t.__id,e.currentEditItem(new r.g),e.currentEditItem().importValues(t.exportValues()),e.modalOpen(!0)}},template:l.a})},function(e,t){e.exports='<div class="panel panel-default">\n  <div class="panel-body tight-inner">\n    <table class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr>\n          <th data-bind="click: function(){sortBy(\'itemName\');}">\n            Item\n            <span data-bind="css: sortArrow(\'itemName\')"></span></th>\n          <th data-bind="click: function(){sortBy(\'itemQty\');}">\n            Quantity\n            <span data-bind="css: sortArrow(\'itemQty\')"></span></th>\n          <th data-bind="click: function(){sortBy(\'itemWeight\');}">\n            Weight\n            <span data-bind="css: sortArrow(\'itemWeight\')"></span></th>\n          <th data-bind="click: function(){sortBy(\'itemCost\');}" class="hidden-xs">\n            Cost\n            <span data-bind="css: sortArrow(\'itemCost\')"></span></th>\n          <th class="hidden-sm hidden-xs">\n            Description</th>\n          <th>\n           <a data-toggle="modal"\n            data-target="#addItem" href="#">\n              <i class="fa fa-plus fa-color"></i>\n           </a>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n      \x3c!-- ko foreach: filteredAndSortedEquipment --\x3e\n        <tr class="clickable">\n          <td data-bind="text: itemName, click: $parent.editItem"\n                  href="#"></td>\n          <td data-bind="text: itemQty, click: $parent.editItem"\n                  href="#"></td>\n          <td data-bind="text: itemWeightLabel, click: $parent.editItem"\n                  href="#"></td>\n          <td class="hidden-xs" data-bind="text: costLabel,\n                  click: $parent.editItem" href="#"></td>\n          <td class="hidden-sm hidden-xs" data-bind="html: shortDescription,\n            click: $parent.editItem" href="#"></td>\n          <td>\n            <a data-bind=\'click: $parent.removeItemButton\' href="#">\n              <i class="fa fa-trash-o fa-color-hover"></i>\n            </a>\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: filteredAndSortedEquipment().length == 0 --\x3e\n        <tr class="clickable">\n          <td href="#" data-toggle="modal"\n           data-target="#addItem" colspan="6" class="text-center">\n            <i class="fa fa-plus fa-color"></i>\n            Add a new item\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      </tbody>\n    </table>\n  </div> \x3c!-- end panel body --\x3e\n  <div class="container-fluid panel-footer">\n     <span class="pull-right">Total weight:&nbsp;\n      <span data-bind="text: totalItemWeight"></span>\n    </span>\n  </div> \x3c!-- end panel footer --\x3e\n</div>\n\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n  id="addItem" tabindex="-1" role="dialog" aria-labelledby="addItemLabel"\n  data-bind="modal: { onopen: modalFinishedOpening }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n          class="close"\n          data-dismiss="modal"\n          aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Add an Item to your Inventory.</h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n           <label for="itemName"\n             class="col-sm-2 control-label">Name</label>\n           <div class="col-sm-10">\n             <input type="text"\n               class="form-control"\n               id="itemName"\n               placeholder="Rations"\n               data-bind=\'textInput: blankItem().itemName,\n                 autocomplete: { source: itemsPrePopFilter, onselect: populateItem },\n                 hasFocus: firstModalElementHasFocus\'>\n           </div>\n         </div>\n         <div class="form-group">\n           <label for="itemWeight"\n             class="col-sm-2 control-label">Weight</label>\n           <div class="col-sm-10">\n             <div class="input-group">\n               <input type="number"\n                      class="form-control"\n                      min="0"\n                      max="5000"\n                 placeholder="Item Weight"\n                 data-bind=\'textInput: blankItem().itemWeight\'>\n                 <span class="input-group-addon">lbs.</span>\n             </div>\n           </div>\n         </div>\n         <div class="form-group">\n           <label for="itemQuantity"\n             class="col-sm-2 control-label">Quantity</label>\n           <div class="col-sm-10">\n             <input type="number"\n               class="form-control"\n               min="0"\n               max="5000"\n               id="itemQuantity"\n               placeholder="Item Quantity"\n               data-bind=\'textInput: blankItem().itemQty\'>\n           </div>\n         </div>\n         <div class="form-group">\n           <label\n             class="col-sm-2 control-label">Cost</label>\n           <div class="col-sm-10">\n      \t\t   <div class="input-group">\n      \t\t\t <input type="number"\n      \t\t\t   min="0"\n      \t\t\t   class="form-control input-select2-addon"\n      \t\t\t   data-bind="value: blankItem().itemCost" />\n      \t\t\t <span class="input-group-addon">\n               <select class="form-control"\n      \t\t\t\t\t\tdata-bind="options: currencyDenominationList,\n      \t\t\t\t\t\tvalue: blankItem().itemCurrencyDenomination,\n      \t\t\t\t\t\tselect2: {theme: \'classic\'}"></select>\n              </span>\n      \t\t   </div>\n    \t      </div>\n         </div>\n         <div class="form-group">\n           <label for="itemDescription"\n             class="col-sm-2 control-label">Description</label>\n           <div class="col-sm-10">\n             <textarea type="password"\n               class="form-control"\n               id="itemDescription"\n               placeholder="Rations consist of..."\n               rows="4"\n               data-bind=\'textInput: blankItem().itemDesc\'>\n             </textarea>\n           </div>\n         </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button"\n          class="btn btn-default"\n          data-dismiss="modal">\n          Cancel\n        </button>\n        <button type="button"\n          class="btn btn-primary"\n          data-dismiss="modal"\n          data-bind="click: addItemButton">\n          Add\n        </button>\n        <p class="text-muted text-left" data-bind=\'visible: shouldShowDisclaimer\'>\n          <sm><i>This data is distributed under the\n            <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n              target=\'_blank\'>\n              OGL</a><br/>\n              Open\tGame\tLicense\tv\t1.0a\tCopyright\t2000,\tWizards\tof\tthe\tCoast,\tLLC.\n            </i><sm>\n        </p>\n      </div>\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     data-bind="modal: {\n       open: modalOpen,\n       onopen: modalFinishedOpening,\n       onclose: modalFinishedClosing\n      }"\n     id="viewItem"\n     tabindex="-1"\n     role="dialog"\n     aria-labelledby="viewSpellLabel">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n          class="close"\n          data-dismiss="modal"\n          aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">View an item from your inventory.</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#magicItemsModalPreview" aria-controls="itemsModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#magicItemsModalEdit" aria-controls="itemsModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane" id="itemsModalPreview">\n            <div class="h3">\n              <span data-bind="text: itemName"></span>&nbsp;\n            </div>\n            <hr />\n            <div class="row">\n              <div class="col-sm-4 col-xs-12"><b>Weight:</b>&nbsp;<span data-bind="text: itemWeightLabel"></span></div>\n              <div class="col-sm-4 col-xs-12"><b>Quantity:</b>&nbsp;<span data-bind="text: itemQty"></span></div>\n              <div class="col-sm-4 col-xs-12"><b>Cost:</b>&nbsp;<span data-bind="text: costLabel"></span></div>\n            </div>\n            <hr />\n            <h4>Description</h4>\n            <div class="row row-padded">\n              <div class="col-xs-12 col-padded">\n                <div data-bind="html: itemDescriptionHTML"\n                     class="preview-modal-overflow">\n                </div>\n              </div>\n            </div>\n            <div class="modal-footer">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-dismiss="modal">Done</button>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane" id="magicItemsModalEdit">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="itemName"\n                       class="col-sm-2 control-label">Name\n                </label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         id="itemName"\n                         placeholder="Rations"\n                         data-bind=\'textInput: itemName,\n                          hasFocus: $parent.editFirstModalElementHasFocus\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="itemWeight"\n                       class="col-sm-2 control-label">Weight</label>\n                <div class="col-sm-10">\n                  <div class="input-group">\n                    <input type="number"\n                           class="form-control"\n                           min="0"\n                           max="5000"\n                           placeholder="Item Weight"\n                           data-bind=\'textInput: itemWeight\'>\n                    <span class="input-group-addon">lbs.</span>\n                  </div>\n                 </div>\n              </div>\n              <div class="form-group">\n                <label for="itemQuantity"\n                       class="col-sm-2 control-label">Quantity</label>\n                <div class="col-sm-10">\n                  <input type="number"\n                         class="form-control"\n                         min="0"\n                         max="5000"\n                         id="itemQuantity"\n                         placeholder="Item Quantity"\n                         data-bind=\'textInput: itemQty\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Cost</label>\n                  <div class="col-sm-10">\n          \t\t      <div class="input-group">\n          \t\t\t      <input type="number"\n          \t\t\t             min="0"\n          \t\t\t             class="form-control input-select2-addon"\n          \t\t\t             data-bind="value: itemCost" />\n          \t\t\t      <span class="input-group-addon">\n                      <select class="form-control"\n          \t\t\t\t\t         \tdata-bind="options: $parent.currencyDenominationList,\n          \t\t\t\t\t\t                 value: itemCurrencyDenomination,\n          \t\t\t\t\t\t                 select2: {theme: \'classic\'}"></select>\n                      </span>\n          \t\t      </div>\n        \t        </div>\n              </div>\n              <div class="form-group">\n                <label for="itemDescription"\n                       class="col-sm-2 control-label">Description</label>\n                <div class="col-sm-10">\n                  <textarea type="password"\n                            class="form-control"\n                            id="itemDescription"\n                            placeholder="Rations consist of..."\n                            rows="4"\n                            data-bind=\'textInput: itemDesc\'>\n                  </textarea>\n                </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button"\n                  class="btn btn-primary"\n                  data-dismiss="modal">\n                  Done\n                </button>\n              </div>\n            </form>\n          </div> \x3c!-- End Edit Tab --\x3e\n        </div> \x3c!-- End Content --\x3e\n      </div> \x3c!-- End Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(11),r=n(2),o=n(6),s=n(0),c=n.n(s),l=n(424),d=n.n(l);c.a.components.register("magic-items",{viewModel:function(){var e=this;e.sorts={"magicItemName asc":{field:"magicItemName",direction:"asc"},"magicItemName desc":{field:"magicItemName",direction:"desc"},"magicItemMaxCharges asc":{field:"magicItemMaxCharges",direction:"asc",numeric:!0},"magicItemMaxCharges desc":{field:"magicItemMaxCharges",direction:"desc",numeric:!0},"magicItemWeight asc":{field:"magicItemWeight",direction:"asc",numeric:!0},"magicItemWeight desc":{field:"magicItemWeight",direction:"desc",numeric:!0},"magicItemCharges asc":{field:"magicItemCharges",direction:"asc",numeric:!0},"magicItemCharges desc":{field:"magicItemCharges",direction:"desc",numeric:!0},"magicItemAttuned asc":{field:"magicItemAttuned",direction:"asc",booleanType:!0},"magicItemAttuned desc":{field:"magicItemAttuned",direction:"desc",booleanType:!0}},e.blankMagicItem=c.a.observable(new i.h),e.magicItems=c.a.observableArray([]),e.modalOpen=c.a.observable(!1),e.editItemIndex=null,e.currentEditItem=c.a.observable(),e.shouldShowDisclaimer=c.a.observable(!1),e.previewTabStatus=c.a.observable("active"),e.editTabStatus=c.a.observable(""),e.firstModalElementHasFocus=c.a.observable(!1),e.editFirstModalElementHasFocus=c.a.observable(!1),e.magicItemIconCSS=c.a.observable(""),e.filter=c.a.observable(""),e.sort=c.a.observable(e.sorts["magicItemName asc"]),e.numberOfAttuned=c.a.computed(function(){return c.a.utils.arrayFilter(e.magicItems(),function(e){return!0===e.magicItemAttuned()}).length}),e.noneAttuned=c.a.computed(function(){return 0===c.a.utils.arrayFilter(e.magicItems(),function(e){return!0===e.magicItemRequiresAttunement()}).length}),e.totalMagicItemWeight=c.a.pureComputed(function(){var t=0,n=e.magicItems().length;if(n>0){for(var a=0;a<n;a++)t+=e.magicItems()[a].magicItemWeight()?parseFloat(e.magicItems()[a].magicItemWeight()):0;return t+" (lbs)"}return"0 (lbs)"}),e.determineMagicItemIcon=c.a.computed(function(){if(e.currentEditItem()&&e.currentEditItem().magicItemType()){var t=e.currentEditItem().magicItemType().split(" ")[0].toLowerCase()+"-magic-item-card";e.magicItemIconCSS(t)}}),e.load=function(){a.f.global.save.add(e.save);var t=a.a.activeCharacter().key();e.magicItems(r.a.findBy(i.h,"characterId",t)),e.magicItems().forEach(function(t,n,a){t.magicItemAttuned.subscribe(e.attunedHasChanged)})},e.unload=function(){e.save(),a.f.global.save.remove(e.save)},e.save=function(){e.magicItems().forEach(function(e,t,n){e.save()})},e.attunedHasChanged=function(){e.magicItems().forEach(function(e,t,n){e.save()})},e.populateMagicItems=function(t,n){var i=a.b.magicItems[t];e.blankMagicItem().importValues(i),e.shouldShowDisclaimer(!0)},e.modalFinishedOpening=function(){e.shouldShowDisclaimer(!1),e.firstModalElementHasFocus(!0)},e.modalFinishedClosing=function(){e.previewTabStatus("active"),e.editTabStatus(""),e.previewTabStatus.valueHasMutated(),e.editTabStatus.valueHasMutated(),e.modalOpen()&&a.g.array.updateElement(e.magicItems(),e.currentEditItem(),e.editItemIndex),e.save(),e.modalOpen(!1),a.f.magicItem.changed.dispatch()},e.selectPreviewTab=function(){e.previewTabStatus("active"),e.editTabStatus("")},e.selectEditTab=function(){e.editTabStatus("active"),e.previewTabStatus(""),e.editFirstModalElementHasFocus(!0)},e.filteredAndSortedMagicItems=c.a.computed(function(){return o.m.sortAndFilter(e.magicItems(),e.sort(),null)}),e.sortArrow=function(t){return o.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(o.m.sortForName(e.sort(),t,e.sorts))},e.magicItemsPrePopFilter=function(e,t){var n=e.term.toLowerCase();t((a.b.magicItems?Object.keys(a.b.magicItems):[]).filter(function(e,t,a){return e.toLowerCase().indexOf(n)>-1}))},e.addItem=function(){var t=e.blankMagicItem();t.characterId(a.a.activeCharacter().key()),t.save(),e.magicItems.push(t),e.blankMagicItem(new i.h),a.f.magicItem.changed.dispatch()},e.removeItem=function(t){e.magicItems.remove(t),t.delete(),a.f.magicItem.changed.dispatch()},e.editItem=function(t){e.editItemIndex=t.__id,e.currentEditItem(new i.h),e.currentEditItem().importValues(t.exportValues()),e.modalOpen(!0)},e.clear=function(){e.magicItems([])}},template:d.a})},function(e,t){e.exports='<div class="panel panel-default">\n  <div class="panel-body tight-inner">\n    <table class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr>\n          <th data-bind="click: function(){sortBy(\'magicItemName\');}" width="20%">\n            Magic Item\n            <span data-bind="css: sortArrow(\'magicItemName\')"></span>\n          </th>\n          <th data-bind="click: function(){sortBy(\'magicItemCharges\');}" width="9%">\n            Charges\n            <span data-bind="css: sortArrow(\'magicItemCharges\')"></span>\n          </th>\n          <th data-bind="visible: noneAttuned() === false, click: function(){sortBy(\'magicItemAttuned\');}"\n            width="9%">\n            Attuned\n            <span data-bind="css: sortArrow(\'magicItemAttuned\')"></span>\n          </th>\n          <th data-bind="click: function(){sortBy(\'magicItemWeight\');}" width="9%">\n            Weight\n            <span data-bind="css: sortArrow(\'magicItemWeight\')"></span>\n          </th>\n          <th width="48%" class="hidden-sm hidden-xs">\n            Description\n          </th>\n          <th width="5%">\n            <a data-toggle="modal"\n               data-target="#addMagicItem" href="#">\n              <i class="fa fa-plus fa-color"></i>\n            </a>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n      \x3c!-- ko foreach: filteredAndSortedMagicItems --\x3e\n        <tr class="clickable">\n          <td data-bind="text: magicItemName, click: $parent.editItem"\n            href="#"></td>\n          <td data-bind="text: chargesDisplay, click: $parent.editItem"\n            href="#"></td>\n          <td data-bind="visible: $parent.noneAttuned() === false">\n            <div data-bind="visible: magicItemRequiresAttunement() == true">\n              <input data-bind="checked: magicItemAttuned"\n                     type="checkbox"\n                     href="#">\n              </input>\n            </div>\n          </td>\n          <td data-bind="text: magicItemWeightLabel, click: $parent.editItem"\n              href="#">\n          </td>\n          <td data-bind="html: shortDescription, click: $parent.editItem"\n            href="#" class="hidden-sm hidden-xs">\n         </td>\n          <td>\n            <a data-bind="click: $parent.removeItem" href="#">\n              <i class="fa fa-trash-o fa-color-hover">\n              </i>\n            </a>\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: filteredAndSortedMagicItems().length == 0 --\x3e\n        <tr class="clickable">\n          <td data-toggle="modal" data-target="#addMagicItem" href="#"\n            colspan="6" class="text-center">\n            <i class="fa fa-plus fa-color"></i>\n            Add a new magic item\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      </tbody>\n    </table>\n    </div> \x3c!-- end panel body --\x3e\n    <div class="container-fluid panel-footer">\n       <span class="pull-right">Total weight:&nbsp;\n        <span data-bind="text: totalMagicItemWeight"></span>\n      </span>\n    </div> \x3c!-- end panel footer --\x3e\n    \x3c!-- Add Modal --\x3e\n    <div class="modal fade"\n         id="addMagicItem"\n         tabindex="-1"\n         role="dialog"\n         aria-labelledby="addMagicItemLabel"\n         data-bind="modal: { onopen: modalFinishedOpening }">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button"\n                    class="close"\n                    data-dismiss="modal"\n                    aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="addMagicItemLabel">Add a new Magic Item to your Inventory.</h4>\n        </div>\n          <div class="modal-body">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="magicItemName"\n                       class="col-sm-2 control-label">Item</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         id="magicItemName"\n                         placeholder="Dagger of Venom"\n                         data-bind=\'textInput: blankMagicItem().magicItemName,\n                         autocomplete: { source: magicItemsPrePopFilter,\n                         onselect: populateMagicItems }, hasFocus: firstModalElementHasFocus\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="magicItemType"\n                       class="col-sm-2 control-label">Type</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankMagicItem().magicItemTypeOptions,\n                                     value: blankMagicItem().magicItemType,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="magicItemType"\n                       class="col-sm-2 control-label">Rarity</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankMagicItem().magicItemRarityOptions,\n                                     value: blankMagicItem().magicItemRarity,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="magicItemMaxCharges"\n                       class="col-sm-2 control-label">Max Charges</label>\n                  <div class="col-sm-10">\n                    <input type="number"\n                           class="form-control"\n                           id="magicItemMaxCharges"\n                           placeholder="1"\n                           min="0"\n                           max="100"\n                           data-bind=\'textInput: blankMagicItem().magicItemMaxCharges\'>\n                  </div>\n              </div>\n              <div data-bind="visible: blankMagicItem().magicItemMaxCharges() != 0">\n                <div class="form-group">\n                  <label for="magicItemCharges"\n                         class="col-sm-2 control-label">Charges</label>\n                    <div class="col-sm-10">\n                      <input type="number"\n                             class="form-control"\n                             id="magicItemCharges"\n                             placeholder="1"\n                             min="0"\n                             max="100"\n                             data-bind=\'textInput: blankMagicItem().magicItemCharges\'>\n                    </div>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="magicItemWeight"\n                       class="col-sm-2 control-label">Weight</label>\n                  <div class="col-sm-10">\n                    <input type="number"\n                           class="form-control"\n                           id="magicItemWeight"\n                           placeholder="1"\n                           min="0"\n                           max="1000"\n                           data-bind=\'textInput: blankMagicItem().magicItemWeight\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="magicItemRequiresAttunement"\n                       class="col-sm-2 control-label">Requires Attunement</label>\n                  <div class="col-sm-10">\n                    <input type="checkbox"\n                           class="form-control"\n                           id="magicItemRequiresAttunement"\n                           data-bind=\'checked: blankMagicItem().magicItemRequiresAttunement\'>\n                  </div>\n              </div>\n              <div data-bind="visible: blankMagicItem().magicItemRequiresAttunement() == true">\n                <div class="form-group">\n                  <label for="magicItemAttuned"\n                         class="col-sm-2 control-label">Attuned</label>\n                    <div class="col-sm-10">\n                      <input type="checkbox"\n                             class="form-control"\n                             id="magicItemAttuned"\n                             data-bind=\'checked: blankMagicItem().magicItemAttuned\'>\n                    </div>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="magicItemDescription"\n                       class="col-sm-2 control-label">Description</label>\n                  <div class="col-sm-10">\n                    <textarea type="password"\n                              class="form-control"\n                              id="magicItemDescription"\n                              rows="4"\n                              placeholder="Awesome stuff goes here"\n                              data-bind=\'textInput: blankMagicItem().magicItemDescription\'>\n                    </textarea>\n                  </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-default"\n                        data-dismiss="modal">Cancel</button>\n                <button type="button"\n                        class="btn btn-primary"\n                        data-bind=\'click: addItem\'\n                        data-dismiss="modal">Add</button>\n                <p class="text-muted text-left" data-bind=\'visible: shouldShowDisclaimer\'>\n                  <sm><i>This data is distributed under the\n                    <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n                      target=\'_blank\'>\n                      OGL</a><br/>\n                      Open\tGame\tLicense\tv\t1.0a\tCopyright\t2000,\tWizards\tof\tthe\tCoast,\tLLC.\n                    </i><sm>\n                </p>\n              </div>\n            </form>\n          </div> \x3c!-- Modal Body --\x3e\n        </div> \x3c!-- Modal Content --\x3e\n      </div> \x3c!-- Modal Dialog --\x3e\n    </div> \x3c!-- Modal Fade --\x3e\n\n    \x3c!-- ViewEdit Modal --\x3e\n        <div class="modal fade"\n         id="viewMagicItem"\n         tabindex="-1"\n         role="dialog"\n         aria-labelledby="viewMagicItemLabel"\n         data-bind="modal: {\n           open: modalOpen,\n           onopen: modalFinishedOpening,\n           onclose: modalFinishedClosing\n        }">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button"\n                    class="close"\n                    data-dismiss="modal"\n                    aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="viewMagicItemLabel">View a Magic Item from your Inventory.</h4>\n        </div>\n          <div class="modal-body">\n            \x3c!-- Begin Tabs --\x3e\n            <ul class="nav nav-tabs tabs">\n              <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n                <a href="#magicItemsModalPreview" aria-controls="magicItemsModalPreview" role="tab" data-toggle="tab">\n                    <b>Preview</b>\n                </a>\n              </li>\n              <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n                <a href="#magicItemsModalEdit" aria-controls="magicItemsModalEdit" role="tab" data-toggle="tab">\n                    <b>Edit</b>\n                </a>\n              </li>\n            </ul>\n            <div class="tab-content" data-bind="with: currentEditItem">\n              <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane" id="magicItemsModalPreview">\n              <div id="magicItemIcon" data-bind="css: $parent.magicItemIconCSS">\n                <div class="h3">\n                  <span data-bind="text: magicItemNameLabel"></span>&nbsp;\n                  <small data-bind="text: magicItemRarity"></small>\n                </div>\n                <hr />\n                <div class="row">\n                  <div class="col-sm-4 col-xs-12"><b>Type:</b>&nbsp;<span data-bind="text: magicItemType"></span></div>\n                  <div class="col-sm-4 col-xs-12"><b>Weight:</b>&nbsp;<span data-bind="text: magicItemWeightLabel"></span></div>\n                  <div class="col-sm-4 col-xs-12"><b>Max Charges:</b>&nbsp;<span data-bind="text: magicItemMaxCharges"></span></div>\n                </div>\n                <hr />\n                <h4>Description</h4>\n                <div class="row row-padded">\n                  <div class="col-xs-12 col-padded">\n                    <div data-bind="html: magicItemDescriptionHTML"\n                         class="preview-modal-overflow">\n                    </div>\n                  </div>\n                </div>\n                <div class="modal-footer">\n                  <button type="button"\n                          class="btn btn-primary"\n                          data-dismiss="modal">Done</button>\n                </div>\n                </div>\n              </div> \x3c!-- End Preview Tab --\x3e\n              <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane" id="magicItemsModalEdit">\n                <form class="form-horizontal">\n                  <div class="form-group">\n                    <label for="magicItemName"\n                           class="col-sm-2 control-label">Item</label>\n                    <div class="col-sm-10">\n                      <input type="text"\n                             class="form-control"\n                             id="magicItemName"\n                             placeholder="Dagger of Venom"\n                             data-bind=\'textInput: magicItemName,\n                              hasFocus: $parent.editFirstModalElementHasFocus\'>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="magicItemType"\n                           class="col-sm-2 control-label">Type</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: magicItemTypeOptions,\n                                         value: magicItemType,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="magicItemType"\n                           class="col-sm-2 control-label">Rarity</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: magicItemRarityOptions,\n                                         value: magicItemRarity,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="magicItemMaxCharges"\n                           class="col-sm-2 control-label">Max Charges</label>\n                      <div class="col-sm-10">\n                        <input type="number"\n                               class="form-control"\n                               id="magicItemMaxCharges"\n                               placeholder="1"\n                               min="0"\n                               max="100"\n                               data-bind=\'textInput: magicItemMaxCharges\'>\n                      </div>\n                  </div>\n                  <div data-bind="visible: magicItemMaxCharges() != 0">\n                    <div class="form-group">\n                      <label for="magicItemCharges"\n                             class="col-sm-2 control-label">Charges</label>\n                        <div class="col-sm-10">\n                          <input type="number"\n                                 class="form-control"\n                                 id="magicItemCharges"\n                                 placeholder="1"\n                                 min="0"\n                                 max="100"\n                                 data-bind=\'textInput: magicItemCharges\'>\n                        </div>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="magicItemWeight"\n                           class="col-sm-2 control-label">Weight</label>\n                      <div class="col-sm-10">\n                        <input type="number"\n                               class="form-control"\n                               id="magicItemWeight"\n                               placeholder="1"\n                               min="0"\n                               max="1000"\n                               data-bind=\'textInput: magicItemWeight\'>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="magicItemRequiresAttunement"\n                           class="col-sm-2 control-label">Requires Attunement</label>\n                      <div class="col-sm-10">\n                        <input type="checkbox"\n                               class="form-control"\n                               id="magicItemRequiresAttunement"\n                               data-bind=\'checked: magicItemRequiresAttunement\'>\n                      </div>\n                  </div>\n                  <div data-bind="visible: magicItemRequiresAttunement() == true">\n                    <div class="form-group">\n                      <label for="magicItemAttuned"\n                             class="col-sm-2 control-label">Attuned</label>\n                        <div class="col-sm-10">\n                          <input type="checkbox"\n                                 class="form-control"\n                                 id="magicItemAttuned"\n                                 data-bind=\'checked: magicItemAttuned\'>\n                        </div>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="magicItemDescription"\n                           class="col-sm-2 control-label">Description</label>\n                      <div class="col-sm-10">\n                        <textarea type="password"\n                                  class="form-control"\n                                  id="magicItemDescription"\n                                  rows="4"\n                                  placeholder="Awesome stuff goes here"\n                                  data-bind=\'textInput: magicItemDescription\'>\n                        </textarea>\n                      </div>\n                  </div>\n                  <div class="modal-footer">\n                    <button type="button"\n                            class="btn btn-primary"\n                            data-dismiss="modal">Done</button>\n                  </div>\n                </form>\n              </div> \x3c!-- End Edit Tab --\x3e\n            </div> \x3c!-- End Tab Content --\x3e\n          </div> \x3c!-- Modal Body --\x3e\n        </div> \x3c!-- Modal Content --\x3e\n      </div> \x3c!-- Modal Dialog --\x3e\n    </div> \x3c!-- Modal Fade --\x3e\n\n</div> \x3c!-- Panel --\x3e\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(2),r=n(17),o=n(6),s=n(0),c=n.n(s),l=n(426),d=n.n(l);c.a.components.register("proficiencies",{viewModel:function(){var e=this;e.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"},"type asc":{field:"type",direction:"asc"},"type desc":{field:"type",direction:"desc"}},e.proficiencies=c.a.observableArray([]),e.blankProficiency=c.a.observable(new r.k),e.modalOpen=c.a.observable(!1),e.editItemIndex=null,e.currentEditItem=c.a.observable(new r.k),e.sort=c.a.observable(e.sorts["name asc"]),e.filter=c.a.observable(""),e.shouldShowDisclaimer=c.a.observable(!1),e.previewTabStatus=c.a.observable("active"),e.editTabStatus=c.a.observable(""),e.firstModalElementHasFocus=c.a.observable(!1),e.editFirstModalElementHasFocus=c.a.observable(!1),e.load=function(){a.f.global.save.add(e.save);var t=a.a.activeCharacter().key();e.proficiencies(i.a.findBy(r.k,"characterId",t))},e.unload=function(){a.f.global.save.remove(e.save)},e.save=function(){e.proficiencies().forEach(function(e,t,n){e.save()})},e.proficienciesPrePopFilter=function(e,t){var n=e.term.toLowerCase();t((a.b.proficiencies?Object.keys(a.b.proficiencies):[]).filter(function(e,t,a){return e.toLowerCase().indexOf(n)>-1}))},e.populateProficiency=function(t,n){var i=a.b.proficiencies[t];e.blankProficiency().importValues(i),e.shouldShowDisclaimer(!0)},e.modalFinishedOpening=function(){e.shouldShowDisclaimer(!1),e.firstModalElementHasFocus(!0)},e.modalFinishedClosing=function(){e.previewTabStatus("active"),e.editTabStatus(""),e.modalOpen()&&a.g.array.updateElement(e.proficiencies(),e.currentEditItem(),e.editItemIndex),e.save(),e.modalOpen(!1),a.f.proficiency.changed.dispatch()},e.selectPreviewTab=function(){e.previewTabStatus("active"),e.editTabStatus("")},e.selectEditTab=function(){e.editTabStatus("active"),e.previewTabStatus(""),e.editFirstModalElementHasFocus(!0)},e.filteredAndSortedProficiencies=c.a.computed(function(){return o.m.sortAndFilter(e.proficiencies(),e.sort(),null)}),e.sortArrow=function(t){return o.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(o.m.sortForName(e.sort(),t,e.sorts))},e.addProficiency=function(){var t=e.blankProficiency();t.characterId(a.a.activeCharacter().key()),t.save(),e.proficiencies.push(t),e.blankProficiency(new r.k)},e.clear=function(){e.proficiencies([])},e.removeProficiency=function(t){e.proficiencies.remove(t),t.delete(),a.f.proficiency.changed.dispatch()},e.editProficiency=function(t){e.editItemIndex=t.__id,e.currentEditItem(new r.k),e.currentEditItem().importValues(t.exportValues()),e.modalOpen(!0)}},template:d.a})},function(e,t){e.exports='<div class="panel panel-default bio">\n  <div class="panel-body tight-inner">\n    <table class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr>\n          <th data-bind="click: function(){sortBy(\'name\');}" class="col-md-3">\n            Proficiency\n            <span data-bind="css: sortArrow(\'name\')"></span>\n          </th>\n          <th data-bind="click: function(){sortBy(\'type\');}" class="col-md-3">\n            Type\n            <span data-bind="css: sortArrow(\'type\')"></span>\n          </th>\n          <th class="col-md-1">\n            <a data-toggle="modal"\n              data-target="#addProficiency" href="#">\n              <i class="fa fa-plus fa-color"></i>\n            </a>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n      \x3c!-- ko foreach: filteredAndSortedProficiencies --\x3e\n        <tr class="clickable">\n          <td data-bind="text: name, click: $parent.editProficiency"\n              href="#"></td>\n          <td data-bind="text: type, click: $parent.editProficiency"\n              href="#"></td>\n          <td>\n            <a data-bind="click: $parent.removeProficiency" href="#">\n              <i class="fa fa-trash-o fa-color-hover">\n              </i>\n            </a>\n          </td>\n        </tr>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: filteredAndSortedProficiencies().length == 0 --\x3e\n        <tr class="clickable">\n          <td data-toggle="modal" data-target="#addProficiency" href="#"\n            colspan="7" class="text-center">\n            <i class="fa fa-plus fa-color"></i>\n            Add a new Proficiency\n          </td>\n        </tr>\n        \x3c!-- /ko --\x3e\n      </tbody>\n    </table>\n  </div>\n</div>\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n     id="addProficiency"\n     tabindex="-1"\n     role="dialog" data-bind="modal: {\n      onopen: modalFinishedOpening, onclose: modalFinishedClosing}">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title"\n            id="addNpcLabel">Add a new Proficiency.</h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label for="name" class="col-sm-2 control-label">Name</label>\n              <div class="col-sm-10">\n                <input type="text"\n                        class="form-control"\n                        id="proficiencyName"\n                        placeholder="Daggers"\n                        data-bind=\'textInput: blankProficiency().name,\n                        autocomplete: { source: proficienciesPrePopFilter,\n                        onselect: populateProficiency }, hasFocus: firstModalElementHasFocus\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label for="type" class="col-sm-2 control-label">Type</label>\n              <div class="col-sm-10">\n                <input type="text"\n                        class="form-control"\n                        id="proficiencyName"\n                        placeholder="Weapon"\n                        data-bind=\'textInput: blankProficiency().type,\n                        autocomplete: { source: blankProficiency().proficiencyType }\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label for="proficiencyDescription" class="col-sm-2 control-label">Description</label>\n              <div class="col-sm-10">\n                <textarea type="password"\n                          class="form-control"\n                          id="proficiencyDescription"\n                          rows="4"\n                          placeholder="Proficiency gained from class."\n                          data-bind=\'textInput: blankProficiency().description\'>\n                </textarea>\n              </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addProficiency\'\n                    data-dismiss="modal">Add</button>\n            <p class="text-muted text-left" data-bind=\'visible: shouldShowDisclaimer\'>\n              <sm><i>This data is distributed under the\n                <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n                  target=\'_blank\'>\n                  OGL</a><br/>\n                  Open\tGame\tLicense\tv\t1.0a\tCopyright\t2000,\tWizards\tof\tthe\tCoast,\tLLC.\n                </i><sm>\n            </p>\n          </div>\n        </form>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     id="viewProficiency"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      open: modalOpen,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit an Proficiency.</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#" aria-controls="proficiencyModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#" aria-controls="proficiencyModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane">\n            <div class="h3">\n              <span data-bind="text: name"></span>&nbsp;\n              <small data-bind="text: type"></small>\n            </div>\n            <hr />\n            <div class="row row-padded">\n              <div class="col-xs-12 col-padded">\n                <div data-bind="markdownPreview: description"\n                     class="preview-modal-overflow-sm">\n                </div>\n              </div>\n            </div>\n            <div class="modal-footer">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-dismiss="modal">Done</button>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="name" class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                        class="form-control"\n                        id="proficiencyName"\n                        placeholder="Daggers"\n                        data-bind=\'textInput: name, hasFocus: $parent.editFirstModalElementHasFocus\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="type" class="col-sm-2 control-label">Type</label>\n                  <div class="col-sm-10">\n                  <input type="text"\n                        class="form-control"\n                        id="proficiencyType"\n                        placeholder="Weapon"\n                        data-bind=\'textInput: type\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="npcDescription"\n                       class="col-sm-2 control-label">Description</label>\n                  <div class="col-sm-10">\n                    <textarea type="text" rows="6"\n                           class="form-control"\n                           data-bind=\'value: description, markdownEditor: true\'></textarea>\n                  </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n'},function(e,t,n){"use strict";var a=n(1),i=n(2),r=n(17),o=n(0),s=n.n(o),c=n(428),l=n.n(c);s.a.components.register("profile",{viewModel:function(){var e=this;e.placeholderText="<i>Character Name</i>",e.characterName=s.a.observable(""),e.background=s.a.observable(""),e.playerName=s.a.observable(""),e.race=s.a.observable(""),e.alignment=s.a.observable(""),e.diety=s.a.observable(""),e.typeClass=s.a.observable(""),e.gender=s.a.observable(""),e.age=s.a.observable(""),e.level=s.a.observable(""),e.experience=s.a.observable(""),e.alignmentOptions=a.c.profile.alignmentOptions,e.backgroundOptions=a.c.profile.backgroundOptions,e.classOptions=a.c.profile.classOptions,e.raceOptions=a.c.profile.raceOptions,e.setAlignment=function(t,n){e.alignment(n)},e.setBackground=function(t,n){e.background(n)},e.setClass=function(t,n){e.typeClass(n)},e.setRace=function(t,n){e.race(n)},e.load=function(){var t=i.a.findBy(r.l,"characterId",a.a.activeCharacter().key())[0];a.f.global.save.add(e.dataHasChanged),t&&(e.level(t.level()),e.playerName(t.playerName()),e.characterName(t.characterName()),e.background(t.background()),e.race(t.race()),e.alignment(t.alignment()),e.diety(t.diety()),e.typeClass(t.typeClass()),e.gender(t.gender()),e.age(t.age()),e.experience(t.exp())),e.level.subscribe(e.dataHasChanged),e.playerName.subscribe(e.dataHasChanged),e.characterName.subscribe(e.dataHasChanged),e.background.subscribe(e.dataHasChanged),e.race.subscribe(e.dataHasChanged),e.alignment.subscribe(e.dataHasChanged),e.diety.subscribe(e.dataHasChanged),e.typeClass.subscribe(e.dataHasChanged),e.gender.subscribe(e.dataHasChanged),e.age.subscribe(e.dataHasChanged),e.experience.subscribe(e.dataHasChanged),e.level.subscribe(e.levelDataHasChanged),e.characterName.subscribe(e.characterNameDataHasChanged),e.race.subscribe(e.raceDataHasChanged),e.typeClass.subscribe(e.typeClassDataHasChanged),e.experience.subscribe(e.experienceDataHasChanged),e.playerName.subscribe(e.playerNameHasChanged)},e.unload=function(){a.f.global.save.remove(e.dataHasChanged)},e.levelDataHasChanged=function(){e.saveProfile(),a.f.profile.level.changed.dispatch()},e.characterNameDataHasChanged=function(){e.saveProfile(),a.f.profile.characterName.changed.dispatch()},e.raceDataHasChanged=function(){e.saveProfile(),a.f.profile.race.changed.dispatch()},e.typeClassDataHasChanged=function(){e.saveProfile(),a.f.profile.playerClass.changed.dispatch()},e.playerNameHasChanged=function(){e.saveProfile(),a.f.profile.playerName.changed.dispatch()},e.experienceDataHasChanged=function(){e.saveProfile(),a.f.profile.experience.changed.dispatch()},e.dataHasChanged=function(){e.saveProfile(),a.f.profile.changed.dispatch()},e.clear=function(){e.characterName(""),e.background(""),e.playerName(""),e.race(""),e.alignment(""),e.diety(""),e.typeClass(""),e.gender(""),e.age(""),e.level(""),e.experience("")},e.saveProfile=function(){var t=i.a.findBy(r.l,"characterId",a.a.activeCharacter().key())[0];t.level(e.level()),t.playerName(e.playerName()),t.characterName(e.characterName()),t.background(e.background()),t.race(e.race()),t.alignment(e.alignment()),t.diety(e.diety()),t.typeClass(e.typeClass()),t.gender(e.gender()),t.age(e.age()),t.exp(e.experience()),t.save()}},template:l.a})},function(e,t){e.exports='<div class="panel panel-default bio">\n  <div class="panel-body">\n  \t\x3c!-- Names --\x3e\n\t  <div class="row">\n      <div class="col-md-6 col-padded">\n        <div class="input-group">\n          <span class="input-group-addon" id="basic-addon2">Player Name</span>\n            <input type="text" class="form-control" aria-describedby="basic-addon2"\n              data-bind=\'value: playerName\' />\n        </div>\n      </div>\n      <div class="col-md-6 col-padded">\n        <div class="input-group">\n          <span class="input-group-addon" id="basic-addon2">Background</span>\n          <input type="text" class="form-control" aria-describedby="basic-addon2"\n            data-bind=\'value: background,\n              autocomplete: { source: backgroundOptions,\n              onselect: setBackground }\' />\n        </div>\n      </div>\n    </div>\n\n\t  <div class="row">\n      <div class="col-md-6 col-padded">\n    \t  <div class="input-group">\n\t      \t<span class="input-group-addon" id="basic-addon2">Alignment</span>\n      \t\t<input type="text" class="form-control" aria-describedby="basic-addon2"\n\t\t      \tdata-bind=\'value: alignment,\n              autocomplete: { source: alignmentOptions,\n              onselect: setAlignment }\'>\n  \t    </div>\n\t    </div>\n      <div class="col-md-6 col-padded">\n        <div class="input-group">\n          <span class="input-group-addon" id="basic-addon2">Deity</span>\n          <input type="text" class="form-control" aria-describedby="basic-addon2"\n            data-bind=\'value: diety\'>\n        </div>\n      </div>\n    </div>\n\t  <div class="row">\n\t  \x3c!-- Race, Gender, Class, Alignment --\x3e\n      <div class="col-md-6 col-padded">\n        <div class="input-group">\n          <span class="input-group-addon" id="basic-addon2">Race</span>\n          <input type="text" class="form-control" aria-describedby="basic-addon2"\n            data-bind=\'value: race,\n              autocomplete: { source: raceOptions,\n              onselect: setRace }\'>\n        </div>\n      </div>\n      <div class="col-md-6 col-padded">\n        <div class="input-group">\n          <span class="input-group-addon" id="basic-addon2">Class</span>\n          <input type="text" class="form-control" aria-describedby="basic-addon2"\n            data-bind=\'value: typeClass,\n              autocomplete: { source: classOptions,\n              onselect: setClass }\'>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-md-6 col-padded">\n        <div class="input-group">\n          <span class="input-group-addon" id="basic-addon2">Gender</span>\n          <input type="text" class="form-control" aria-describedby="basic-addon2"\n            data-bind=\'value: gender\'>\n        </div>\n      </div>\n      <div class="col-md-6 col-padded">\n        <div class="input-group">\n          <span class="input-group-addon" id="basic-addon2">Age</span>\n          <input type="number" class="form-control" aria-describedby="basic-addon2"\n            data-bind=\'value: age\'>\n        </div>\n      </div>\n    </div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var a=n(167),i=n(6),r=n(1),o=n(436),s=n.n(o),c=n(437),l=n.n(c),d=n(168),u=n.n(d),p=n(438),f=n.n(p),h=n(439),m=n.n(h),b=n(440),v=n.n(b),g=n(441),y=n.n(g),x=n(0),w=n.n(x),k=n(169),S=n.n(k),C=n(442),I=n.n(C),_=n(443),T=n.n(_),E=n(444),A=n.n(E),M=n(445),F=n.n(M),O=n(446),P=n.n(O),D=n(447),N=n.n(D),R=n(448),B=n.n(R),L=n(449),H=n.n(L),j=n(450),U=n.n(j);w.a.components.register("character-root",{viewModel:function(){var e=this;e.icons={statsTab:B.a,skillsTab:F.a,spellsTab:N.a,inventoryTab:y.a,notesTab:S.a,profileTab:T.a,chatTab:u.a,exhibitTab:f.a,healthSection:m.a,skillSection:A.a,spellSection:P.a,weaponSection:U.a,armorSection:s.a,inventorySection:v.a,profileSection:I.a,battleGear:l.a},e.playerType=function(){return r.a.activeCharacter().playerType()},e._dummy=w.a.observable(!1),e.activeTab=w.a.observable(),e.isConnectedAndInAParty=w.a.observable(!1),e.currentPartyNode=w.a.observable(null),e.wellState=w.a.observable(!1),e.statusLineService=i.n.sharedService(),e.proficiencyService=a.e.sharedService(),e.armorClassService=a.a.sharedService(),e.characterCardPublishingService=i.c.sharedService(),e.profileTooltip=w.a.observable("Profile"),e.statsTooltip=w.a.observable("Stats"),e.skillsTooltip=w.a.observable("Skills"),e.spellsTooltip=w.a.observable("Spells"),e.weaponsAndArmorTooltip=w.a.observable("Weapons and Armor"),e.backpackTooltip=w.a.observable("Backpack"),e.notesTooltip=w.a.observable("Notes"),e.partyTooltip=w.a.observable("Party"),e.chatTooltip=w.a.observable("Chat"),e.exhibitTooltip=w.a.observable("Exhibit"),e.profileTabStatus=w.a.pureComputed(function(){return e._tabIsVisible("profile")}),e.statsTabStatus=w.a.pureComputed(function(){return e._tabIsVisible("stats")}),e.skillsTabStatus=w.a.pureComputed(function(){return e._tabIsVisible("skills")}),e.spellsTabStatus=w.a.pureComputed(function(){return e._tabIsVisible("spells")}),e.equipmentTabStatus=w.a.pureComputed(function(){return e._tabIsVisible("equipment")}),e.inventoryTabStatus=w.a.pureComputed(function(){return e._tabIsVisible("inventory")}),e.notesTabStatus=w.a.pureComputed(function(){return e._tabIsVisible("notes")}),e.chatTabStatus=w.a.pureComputed(function(){return e._tabIsVisible("chat")}),e.partyTabStatus=w.a.pureComputed(function(){return e._tabIsVisible("party")}),e.exhibitTabStatus=w.a.pureComputed(function(){return e._tabIsVisible("exhibit")}),e.activateProfileTab=function(){e.activeTab("profile")},e.activateStatsTab=function(){e.activeTab("stats")},e.activateSkillsTab=function(){e.activeTab("skills")},e.activateSpellsTab=function(){e.activeTab("spells")},e.activateEquipmentTab=function(){e.activeTab("equipment")},e.activateInventoryTab=function(){e.activeTab("inventory")},e.activateNotesTab=function(){e.activeTab("notes")},e.activatePartyTab=function(){e.activeTab("party")},e.activateChatTab=function(){e.activeTab("chat")},e.activateExhibitTab=function(){e.activeTab("exhibit")},e.toggleWellOpen=function(){e.wellState(!e.wellState())},e.arrowIconClass=w.a.pureComputed(function(){return e.wellState()?"fa fa-caret-up":"fa fa-caret-down"}),e.playerSummary=w.a.pureComputed(function(){e._dummy();var t="",n=r.a.activeCharacter().key();if(e.playerType().key===PlayerTypes.characterPlayerType.key)try{t=PersistenceService.findBy(Profile,"characterId",n)[0].characterSummary()}catch(e){}return t}),e.playerTitle=w.a.pureComputed(function(){e._dummy();var t="",n=r.a.activeCharacter().key();if(e.playerType().key===PlayerTypes.characterPlayerType.key)try{t=PersistenceService.findBy(Profile,"characterId",n)[0].characterName()}catch(e){}return t}),e.playerAuthor=w.a.pureComputed(function(){e._dummy();var t="",n=r.a.activeCharacter().key();if(e.playerType().key===PlayerTypes.characterPlayerType.key)try{t=PersistenceService.findBy(Profile,"characterId",n)[0].playerName()}catch(e){}return t}),e.pageTitle=w.a.pureComputed(function(){e._dummy();try{return e.playerTitle()+" by "+e.playerAuthor()+" | Adventurer's Codex"}catch(e){}}),e.load=function(){e.activeTab(e.playerType().defaultTab),r.f.party.joined.add(e._updateCurrentNode),r.f.party.left.add(e._removeCurrentNode),r.f.xmpp.disconnected.add(e._removeCurrentNode),e.statusLineService.init(),e.proficiencyService.init(),e.armorClassService.init(),e.characterCardPublishingService.init(),r.f.profile.changed.add(function(){e._dummy.valueHasMutated()}),i.f.registerHotkey("1",e.activateStatsTab),i.f.registerHotkey("2",e.activateSkillsTab),i.f.registerHotkey("3",e.activateSpellsTab),i.f.registerHotkey("4",e.activateEquipmentTab),i.f.registerHotkey("5",e.activateInventoryTab),i.f.registerHotkey("6",e.activateNotesTab),i.f.registerHotkey("7",e.activateProfileTab),i.f.registerHotkey("8",e.activateChatTab),i.f.registerHotkey("9",e.activateExhibitTab)},e.unload=function(){i.f.flushHotkeys(),r.f.party.joined.remove(e._updateCurrentNode),r.f.party.joined.remove(e._removeCurrentNode),r.f.xmpp.disconnected.remove(e._removeCurrentNode),e.characterCardPublishingService.deinit()},e._tabIsVisible=function(t){return e.playerType().visibleTabs.indexOf(t)>-1?e.activeTab()===t?"active":"":"hidden"},e._tabIsVisibleAndConnected=function(t){return e.playerType().visibleTabs.indexOf(t)>-1&&e.connected()?e.activeTab()===t?"active":"":"hidden"},e._updateCurrentNode=function(t,n){e.currentPartyNode(t)},e._removeCurrentNode=function(t,n){e.currentPartyNode(null)},e.dispose=function(){e.unload()}},template:H.a})},function(e,t,n){"use strict";var a=n(431);n.d(t,"a",function(){return a.a});var i=n(432);n.d(t,"b",function(){return i.a});var r=n(433);n.d(t,"c",function(){return r.a});var o=n(434);n.d(t,"d",function(){return o.a});var s=n(435);n.d(t,"e",function(){return s.a})},function(e,t,n){"use strict";t.a=function(){var e=this;e.statusIdentifier="Status.Healthiness",e.HEALTH_WEIGHT=.7,e.HIT_DICE_WEIGHT=.3,e.init=function(){a.f.health.changed.add(e.dataHasChanged),a.f.hitDice.changed.add(e.dataHasChanged),e.dataHasChanged()},e.dataHasChanged=function(){var t=a.a.activeCharacter().key(),n=s.a.findFirstBy(i.a,"characterId",t),o=s.a.findBy(r.a,"characterId",t);(n||o)&&(n||o?e._updateStatus():e._removeStatus())},e._updateStatus=function(){var t=a.a.activeCharacter().key(),n=s.a.findFirstBy(i.a,"characterId",t),d=s.a.findBy(r.a,"characterId",t),u=[],p=s.a.findByPredicates(c.a,[new o.a("characterId",t),new o.a("identifier",e.statusIdentifier)])[0];p||((p=new c.a).characterId(t),p.identifier(e.statusIdentifier)),n&&u.push(e.prepareHealthValueWeightPairs(n)),d.length>0&&u.push(e.prepareHitDiceValueWeightPairs(d));var f=l.a.processStatusWeights(u),h=l.a.determinePhraseAndColor(Object(l.b)(),f);p.name(h.status),p.type(h.color),p.value(f),p.save(),a.f.status.changed.dispatch(),a.f.status.healthiness.changed.dispatch()},e._removeStatus=function(){var t=a.a.activeCharacter().key(),n=s.a.findByPredicates(c.a,[new o.a("characterId",t),new o.a("identifier",e.statusIdentifier)])[0];n&&(n.delete(),a.f.status.changed.dispatch(),a.f.status.healthiness.changed.dispatch())},e.prepareHealthValueWeightPairs=function(t){var n=t.hitpoints()/t.totalHitpoints();return new l.a(n,e.HEALTH_WEIGHT)},e.prepareHitDiceValueWeightPairs=function(t){var n=0;t.forEach(function(e,t,a){e.hitDiceUsed()||n++});var a=n/t.length;return new l.a(a,e.HIT_DICE_WEIGHT)}};var a=n(1),i=n(86),r=n(87),o=n(10),s=n(2),c=(n(12),n(31)),l=n(24)},function(e,t,n){"use strict";t.a=function(){var e=this;e.statusIdentifier="Status.Inspired",e.init=function(){a.f.otherStats.inspiration.changed.add(e.dataHasChanged),e.dataHasChanged()},e.dataHasChanged=function(){var t=a.a.activeCharacter().key(),n=o.a.findFirstBy(r.a,"characterId",t);n&&n&&(parseInt(n.inspiration())?e._updateStatus():e._removeStatus())},e._updateStatus=function(){var t=a.a.activeCharacter().key(),n=o.a.findByPredicates(s.a,[new i.a("characterId",t),new i.a("identifier",e.statusIdentifier)])[0];n||((n=new s.a).characterId(t),n.identifier(e.statusIdentifier)),n.name("inspired"),n.type("info"),n.value(1),n.save(),a.f.status.changed.dispatch()},e._removeStatus=function(){var t=a.a.activeCharacter().key(),n=o.a.findByPredicates(s.a,[new i.a("characterId",t),new i.a("identifier",e.statusIdentifier)])[0];n&&(n.delete(),a.f.status.changed.dispatch())}};var a=n(1),i=n(10),r=n(63),o=n(2),s=(n(12),n(31));n(24)},function(e,t,n){"use strict";t.a=function(){var e=this;e.statusIdentifier="Status.Magical",e.init=function(){a.f.spellSlots.changed.add(e.dataHasChanged),e.dataHasChanged()},e.dataHasChanged=function(){var t=a.a.activeCharacter().key(),n=r.a.findBy(o.a,"characterId",t);n&&(n.length>0?e._updateStatus():e._removeStatus())},e._updateStatus=function(){var t=a.a.activeCharacter().key(),n=r.a.findBy(o.a,"characterId",t),l=[],d=r.a.findByPredicates(s.a,[new i.a("characterId",t),new i.a("identifier",e.statusIdentifier)])[0];d||((d=new s.a).characterId(t),d.identifier(e.statusIdentifier)),l=e.prepareValueWeightPairs(n);var u=c.a.processStatusWeights(l),p=c.a.determinePhraseAndColor(Object(c.c)(),u);d.name(p.status),d.type(p.color),d.value(u),d.save(),a.f.status.changed.dispatch(),a.f.status.magic.changed.dispatch()},e._removeStatus=function(){var t=a.a.activeCharacter().key(),n=r.a.findByPredicates(s.a,[new i.a("characterId",t),new i.a("identifier",e.statusIdentifier)])[0];n&&(n.delete(),a.f.status.changed.dispatch(),a.f.status.magic.changed.dispatch())},e.prepareValueWeightPairs=function(t){var n=[];return t.forEach(function(t,a,i){if(t.level()){var r=t.level(),o=t.maxSpellSlots()?t.maxSpellSlots():0,s=t.usedSpellSlots()?t.usedSpellSlots():0,l=o?(o-s)/o:0,d=e._getSpellSlotWeight(r);n.push(new c.a(l,d))}}),e._normalizeWeights(n)},e._getSpellSlotWeight=function(e){return 1+1.5*e},e._normalizeWeights=function(e){var t=0;return e.forEach(function(e,n,a){t+=e.weight}),e.forEach(function(e,n,a){e.weight=e.weight/t}),e}};var a=n(1),i=n(10),r=n(2),o=(n(12),n(148)),s=n(31),c=n(24)},function(e,t,n){"use strict";t.a=function(){var e=this;e.statusIdentifier="Status.Encumbrance",e.init=function(){a.f.profile.changed.add(e.dataHasChanged),a.f.armor.changed.add(e.dataHasChanged),a.f.weapon.changed.add(e.dataHasChanged),a.f.item.changed.add(e.dataHasChanged),a.f.magicItem.changed.add(e.dataHasChanged),a.f.treasure.changed.add(e.dataHasChanged),e.dataHasChanged()},e.dataHasChanged=function(){var t=a.a.activeCharacter().key(),n=l.a.findBy(i.a,"characterId",t)[0];n&&n.str()?e._updateStatus():e._removeStatus()},e.getDescription=function(e){return 0===e?"carrying nothing":"carrying ~"+String(e)+"lbs"},e.getType=function(e,t){return 0===t?"default":t<5*e?"info":t<10*e?"warning":"danger"},e._updateStatus=function(){var t=a.a.activeCharacter().key(),n=l.a.findBy(i.a,"characterId",t)[0],f=0;f+=e._getWeightFor(r.a,"armorWeight"),f+=e._getWeightFor(p.a,"totalWeight"),f+=e._getWeightFor(o.a,"totalWeight"),f+=e._getWeightFor(c.a,"magicItemWeight"),f+=e._getWeightFor(u.a,"totalWeight");var h=l.a.findByPredicates(d.a,[new s.a("characterId",t),new s.a("identifier",e.statusIdentifier)])[0];h||((h=new d.a).characterId(t),h.identifier(e.statusIdentifier)),h.name(e.getDescription(f)),h.type(e.getType(n.str(),f)),h.save(),a.f.status.changed.dispatch()},e._removeStatus=function(){var t=a.a.activeCharacter().key(),n=l.a.findByPredicates(d.a,[new s.a("characterId",t),new s.a("identifier",e.statusIdentifier)])[0];n&&(n.delete(),a.f.status.changed.dispatch())},e._getWeightFor=function(e,t){var n=0,i=a.a.activeCharacter().key();return l.a.findBy(e,"characterId",i).forEach(function(e,a,i){var r=parseFloat(h.a.unwrap(e[t]));r&&(n+=r)}),n}};var a=n(1),i=n(28),r=n(89),o=n(163),s=n(10),c=n(96),l=n(2),d=(n(12),n(31)),u=(n(24),n(90)),p=n(164),f=n(0),h=n.n(f)},function(e,t,n){"use strict";t.a=function(){var e=this;e.statusIdentifier="Status.Tracked",e.init=function(){a.f.tracked.changed.add(e.dataHasChanged),a.f.events.shortRest.add(e.dataHasChanged),a.f.events.longRest.add(e.dataHasChanged),a.f.feat.changed.add(e.dataHasChanged),a.f.trait.changed.add(e.dataHasChanged),a.f.feature.changed.add(e.dataHasChanged),e.dataHasChanged()},e.dataHasChanged=function(){var t=a.a.activeCharacter().key(),n=o.a.findBy(r.x,"characterId",t);n&&(n.length>0?e._updateStatus():e._removeStatus())},e._updateStatus=function(){var t=a.a.activeCharacter().key(),n=o.a.findBy(r.x,"characterId",t),c=[],l=o.a.findByPredicates(r.v,[new i.h("characterId",t),new i.h("identifier",e.statusIdentifier)])[0];l||((l=new r.v).characterId(t),l.identifier(e.statusIdentifier));var d=1/n.length;n.forEach(function(e,t,n){var a=e.maxUses()?e.maxUses():0,i=e.used()?e.used():0,o=a?(a-i)/a:0;c.push(new r.w(o,d))});var u=r.w.processStatusWeights(c),p=r.w.determinePhraseAndColor(Object(s.d)(),u);l.name(p.status),l.type(p.color),l.value(u),l.save(),a.f.status.changed.dispatch(),a.f.status.tracked.changed.dispatch()},e._removeStatus=function(){var t=a.a.activeCharacter().key(),n=o.a.findByPredicates(r.v,[new i.h("characterId",t),new i.h("identifier",e.statusIdentifier)])[0];n&&(n.delete(),a.f.status.changed.dispatch(),a.f.status.tracked.changed.dispatch())}};var a=n(1),i=n(6),r=n(15),o=n(2),s=n(24)},function(e,t,n){e.exports=n.p+"07a86b61f3f02c67918da969b79f542e.svg"},function(e,t,n){e.exports=n.p+"9cb9a1b9d21fe157997c13a8a593715b.svg"},function(e,t,n){e.exports=n.p+"c3ee252375f134a8e632e2939cc90e83.svg"},function(e,t,n){e.exports=n.p+"f23f97b51313fabe4c34f5a9de113bd0.svg"},function(e,t,n){e.exports=n.p+"569ba3ca1d268a557ebcb73dd42c9329.svg"},function(e,t,n){e.exports=n.p+"60a8a46cba251b72da466642b9ba66c3.svg"},function(e,t,n){e.exports=n.p+"d3d91bf20b975bf96a3a3585c346939e.svg"},function(e,t,n){e.exports=n.p+"6eaafba446985b972ad54459074db1bb.svg"},function(e,t,n){e.exports=n.p+"9ba66b2c6ddf3d6029c544451c38df9c.svg"},function(e,t,n){e.exports=n.p+"f57d842f37dfcc947a55a25cf706e2a0.svg"},function(e,t,n){e.exports=n.p+"8bb81e49cde7c28f854aaa08b45c5563.svg"},function(e,t,n){e.exports=n.p+"67f9db753213a991ce7f50b795c05eca.svg"},function(e,t,n){e.exports=n.p+"73e7526ad1d00f16135c6447821c46ec.svg"},function(e,t){e.exports='<ul class="nav nav-tabs tabs">\n  <li role="presentation" data-bind="click: activateStatsTab, css: statsTabStatus">\n    <a href="#stats" aria-controls="stats" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: icons.statsTab }" /></br>\n      <span class="text-center"><small>Stats</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activateSkillsTab, css: skillsTabStatus">\n    <a href="#skills" aria-controls="skills" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: icons.skillsTab }" /></br>\n      <span class="text-center"><small>Skills</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activateSpellsTab, css: spellsTabStatus">\n    <a href="#spells" aria-controls="spells" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: icons.spellsTab }" /></br>\n      <span class="text-center"><small>Spells</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activateEquipmentTab, css: equipmentTabStatus">\n      <a href="#items" aria-controls="items" role="tab" data-toggle="tab" class="tab-subtext">\n        <img class="tab-icon" data-bind="attr: { src: icons.battleGear }" /></br>\n        <span class="text-center"><small>Equipment</small></span>\n      </a>\n  </li>\n  <li role="presentation" data-bind="click: activateInventoryTab, css: inventoryTabStatus">\n    <a href="#inventory" aria-controls="inventory" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: icons.inventoryTab }" /></br>\n      <span class="text-center"><small>Inventory</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activateNotesTab, css: notesTabStatus">\n    <a href="#notes" aria-controls="notes" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: icons.notesTab }" /></br>\n      <span class="text-center"><small>Notes</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activateProfileTab, css: profileTabStatus">\n    <a href="#profile" aria-controls="profile" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: icons.profileTab }" /></br>\n      <span class="text-center"><small>Profile</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activateChatTab, css: chatTabStatus">\n    <a href="#chat-header" aria-controls="chat-tab" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: icons.chatTab }" /></br>\n      <span class="text-center"><small>Chat</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activateExhibitTab, css: exhibitTabStatus">\n    <a href="#exhibit-header" aria-controls="exhibit-tab" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: icons.exhibitTab }" /></br>\n      <span class="text-center"><small>Exhibit</small></span>\n    </a>\n  </li>\n  \x3c!-- Right tabs --\x3e\n  <li role="presentation" class="secondary-nav">\n    <button class="btn btn-sm btn-primary" data-toggle="collapse"\n      data-bind="click: toggleWellOpen"\n      data-target="#actionsCollapse" aria-expanded="false"\n      aria-controls="actionsCollapse">\n        Actions\n        <i data-bind="css: arrowIconClass" aria-hidden="true"></i>\n    </button>\n  </li>\n</ul>\n<div class="tab-content">\n  <actions-toolbar params="wellState: wellState"></actions-toolbar>\n  <div role="tabpanel" class="tab-pane" id="stats" data-bind="css: statsTabStatus">\n    <div class="row">\n      <div class="col-sm-4 col-lg-3 hidden-xs">\n        <img alt="A heart icon" data-bind="attr: { src: icons.healthSection }"/>\n      </div>\n      <div class="col-sm-8 col-lg-9 col-padded">\n        <div class="h3">\n          Hit Points and Hit Dice<br />\n          <small>Click on your max Hit Points to increase them when you level\n            up. Click on a die icon to track expended hit dice.</small>\n        </div>\n        <stats></stats>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-12 col-padded">\n        <div class="h3">\n          Ability Scores, Savings Throw, and Other Stats<br />\n          <small>Click on your Ability Scores to add or edit them. Savings\n            Throw modifiers automatically include your Ability Score modifier\n            and Proficiency Bonus.\n          </small>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-12 col-padded">\n        <ability-scores></ability-scores>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-md-4 col-sm-6 col-padded">\n        <savings-throws></savings-throws>\n      </div>\n      <div class="col-md-8 col-sm-6 col-padded">\n        <div class="panel panel-default">\n          <div class="panel-body">\n            <div class="row">\n              <div class="col-sm-12 col-padded">\n                <other-stats></other-stats>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\x3c!-- End Stats Tab --\x3e\n\n<div role="tabpanel" class="tab-pane" id="skills" data-bind="css: skillsTabStatus">\n  <div class="row">\n    <div class="col-sm-4 col-lg-3 hidden-xs">\n      <img alt="A sword in stone" data-bind="attr: { src: icons.skillSection }" />\n    </div>\n    <div class="col-sm-8 col-lg-9 col-xs-12 col-padded">\n      <div class="h3">\n        Tracked Features, Feats, and Traits<br />\n        <small>Configure to reset on a short or long rest.</small>\n      </div>\n      <tracker></tracker>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <div class="h3">\n        Skills, Feats, Features, Traits, and Proficiencies<br />\n        <small>Your Skills take into account your Ability Score modifiers\n        and Proficiency Bonus.</small>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-lg-4 col-md-5 col-sm-6 col-padded">\n      <skills></skills>\n    </div>\n    <div class="col-lg-8 col-md-7 col-sm-6 col-padded">\n      <div class="row">\n        <div class="col-lg-6 col-xs-12 col-padded">\n          <features></features>\n        </div>\n        <div class="col-lg-6 col-xs-12 col-padded">\n          <feats></feats>\n          <traits></traits>\n          <proficiencies></proficiencies>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\x3c!-- End Skills Tab --\x3e\n\n<div role="tabpanel" class="tab-pane" id="spells" data-bind="css: spellsTabStatus">\n  <div class="row">\n    <div class="col-sm-4 col-lg-3 hidden-xs">\n      <img data-bind="attr: { src: icons.spellSection }" alt="Spells image"/>\n    </div>\n    <div class="col-sm-8 col-lg-9 col-padded">\n      <div class="h3">\n        Spell Slots<br/>\n        <small>These slots are configurable to reset on a short or long rest. Click\n        on a slot to edit it.</small>\n      </div>\n      <spell-slots></spell-slots>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-sm-12 col-padded">\n      <div class="h3">\n        Spell Stats<br/>\n        <small>Click to edit. In the future, these values will auto-calculate and auto-populate.</small>\n      </div>\n      <spell-stats></spell-stats>\n    </div>\n    <div class="col-sm-12 col-padded">\n      <div class="h3">\n        Spells<br/>\n        <small>You can sort your spells by clicking on the headers. View the\n          bottom of the list for a count of your prepared spells.</small>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-12 col-sm-12 col-padded">\n      <spells></spells>\n    </div>\n  </div>\n</div>\n\x3c!-- End Spells Tab --\x3e\n\n<div role="tabpanel" class="tab-pane" id="items" data-bind="css: equipmentTabStatus">\n  <div class="row">\n    <div class="col-sm-4 col-lg-3 hidden-xs">\n      <img alt="A sword in stone" data-bind="attr: { src: icons.weaponSection }"/>\n    </div>\n    <div class="col-sm-8 col-lg-9 col-xs-12 col-padded">\n      <div class="h3">\n        Weapons<br />\n        <small>A weapon\'s To Hit bonus is automatically calculated based on\n           your Strength or Dexterity, proficiency bonus, magical modifier,\n           and property. Use the To Hit Modifier to adjust for features, feats,\n           or special cases.</small>\n      </div>\n      <weapons></weapons>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-sm-8 col-lg-9 col-xs-12 col-padded">\n      <div class="h3">\n        Armor<br />\n        <small>Armor Class calculations are based on your equipped Armor, Shield, Magical Modifiers, and Dexterity.\n               Be sure to Don your armor and/or shield so your AC will be calculated.\n        </small>\n      </div>\n      <armor></armor>\n    </div>\n    <div class="col-sm-4 col-lg-3 hidden-xs">\n      <img alt="Shield" data-bind="attr: { src: icons.armorSection }"/>\n    </div>\n  </div>\n</div>\n\x3c!-- End Equipment Tab --\x3e\n\n<div role="tabpanel" class="tab-pane" id="inventory" data-bind="css: inventoryTabStatus">\n  <div class="row">\n    <div class="col-sm-4 col-lg-3 hidden-xs">\n      <img data-bind="attr: { src: icons.inventorySection }" alt="Inventory tab"/>\n    </div>\n    <div class="col-sm-8 col-lg-9 col-padded">\n      <div class="h3">\n        Treasure &amp; Magic Items<br/>\n        <small>This should be in a museum! -Indiana Jones</small>\n      </div>\n      <div class="row">\n        <div class="col-sm-12 col-padded">\n          <treasure></treasure>\n        </div>\n        <div class="col-sm-12 col-padded">\n          <magic-items></magic-items>\n        </div>\n      </div>\n    </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-8 col-lg-9 col-padded">\n        <div class="h3">\n          Inventory<br/>\n          <small>Don\'t hoard too much stuff; it\'s no fun to be encumbered.</small>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-12 col-padded">\n        <items></items>\n      </div>\n    </div>\n</div>\n\x3c!-- End Inventory Tab --\x3e\n\n<div role="tabpanel" class="tab-pane" id="notes" data-bind="css: notesTabStatus">\n  <div class="row">\n    <div class="col-sm-12 col-padded">\n      <div class="h3">\n        Notes<br />\n        <small>Consult the Book of Armaments! -King Arthur</small>\n      </div>\n      <notes></notes>\n    </div>\n  </div>\n</div>\n\x3c!-- End Notes Tab --\x3e\n\n<div role="tabpanel" class="tab-pane" id="profile" data-bind="css: profileTabStatus">\n  <div class="row">\n    <div class="col-sm-4 hidden-xs">\n      <img data-bind="attr: { src: icons.profileSection }" alt="Profile tab" style="width:100%;"/>\n    </div>\n    <div class="col-sm-8 col-padded">\n      <div class="h3">\n        Profile<br />\n        <small>This stuff doesn\'t change very often!</small>\n      </div>\n      <profile></profile>\n      <appearance></appearance>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-sm-12 col-padded">\n      <feat-traits></feat-traits>\n    </div>\n  </div>\n</div>\n\x3c!-- End Profile tab --\x3e\n\n<div role="tabpanel" class="tab-pane" id="chat-tab" data-bind="css: chatTabStatus">\n  <chat params="isActive: chatTabStatus"></chat>\n</div>\n\x3c!-- End Chat Tab --\x3e\n\n<div role="tabpanel" class="tab-pane" id="exhibit-tab" data-bind="css: exhibitTabStatus">\n  <exhibit></exhibit>\n</div>\n\x3c!-- End Exhibit Tab --\x3e\n</div>\n\n'},function(e,t,n){e.exports=n.p+"4fbaa9a83ecfb9669db29721456728b1.svg"},function(e,t,n){"use strict";n(14);var a=n(1),i=n(2),r=n(17),o=n(6),s=n(0),c=n.n(s),l=n(452),d=n.n(l);c.a.components.register("savings-throws",{viewModel:function(){var e=this;e.blankSavingThrow=c.a.observable(new r.m),e.savingThrows=c.a.observableArray([]),e.modalOpen=c.a.observable(!1),e.editItemIndex=null,e.currentEditItem=c.a.observable(),e.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"},"modifier asc":{field:"modifier",direction:"asc"},"modifier desc":{field:"modifier",direction:"desc"},"proficiency asc":{field:"proficiency",direction:"asc",booleanType:!0},"proficiency desc":{field:"proficiency",direction:"desc",booleanType:!0}},e.filter=c.a.observable(""),e.sort=c.a.observable(e.sorts["name asc"]),e._defaultSavingThrows=function(){return[{name:"Strength",proficency:!1,modifier:null},{name:"Dexterity",proficency:!1,modifier:null},{name:"Constitution",proficency:!1,modifier:null},{name:"Intelligence",proficency:!1,modifier:null},{name:"Wisdom",proficency:!1,modifier:null},{name:"Charisma",proficency:!1,modifier:null}].map(function(e,t,n){var i=new r.m;return e.characterId=a.a.activeCharacter().key(),i.importValues(e),i})},e.load=function(){a.f.abilityScores.changed.add(e.updateValues),a.f.stats.changed.add(e.updateValues),a.f.global.save.add(e.save);var t=i.a.findBy(r.m,"characterId",a.a.activeCharacter().key());t.length>0?e.savingThrows(t):(e.savingThrows(e._defaultSavingThrows()),e.savingThrows().forEach(function(e,t,n){e.characterId(a.a.activeCharacter().key())}),e.save())},e.unload=function(){e.save(),a.f.abilityScores.changed.remove(e.updateValues),a.f.stats.changed.remove(e.updateValues),a.f.global.save.remove(e.save)},e.save=function(){e.savingThrows().forEach(function(e,t,n){e.save()})},e.updateValues=function(){e.savingThrows().forEach(function(e,t,n){e.updateValues()})},e.filteredAndSortedSavingThrows=c.a.computed(function(){return o.m.sortAndFilter(e.savingThrows(),e.sort(),null)}),e.sortArrow=function(t){return o.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(o.m.sortForName(e.sort(),t,e.sorts))},e.modifierHasFocus=c.a.observable(!1),e.modalFinishedAnimating=function(){e.modifierHasFocus(!0)},e.modalFinishedClosing=function(){e.modalOpen()&&a.g.array.updateElement(e.savingThrows(),e.currentEditItem(),e.editItemIndex),e.save(),e.modalOpen(!1)},e.addsavingThrow=function(){e.blankSavingThrow().save(),e.savingThrows.push(e.blankSavingThrow()),e.blankSavingThrow(new r.m)},e.removeSavingThrow=function(t){e.savingThrows.remove(t),t.delete()},e.editSavingThrow=function(t){e.editItemIndex=t.__id,e.currentEditItem(new r.m),e.currentEditItem().importValues(t.exportValues()),e.modalOpen(!0)},e.clear=function(){e.savingThrows([])}},template:d.a})},function(e,t){e.exports='<div class="panel panel-default bio">\n  <div class="panel-body tight-inner">\n    <table class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr>\n          <th data-bind="click: function(){sortBy(\'proficiency\');}">\n            <span class="glyphicon glyphicon-ok"></span>\n            <span data-bind="css: sortArrow(\'proficiency\')"></span>\n          </th>\n          <th data-bind="click: function(){sortBy(\'name\');}">\n            Saving Throw\n            <span data-bind="css: sortArrow(\'name\')"></span>\n          </th>\n          <th></th> \x3c!-- Modifier column --\x3e\n        </tr>\n      </thead>\n      <tbody data-bind=\'foreach: filteredAndSortedSavingThrows\'>\n        <tr class="clickable">\n          <td data-bind="click: $parent.editSavingThrow"\n               href="#"> <span data-bind="css: proficiencyLabel"></span></td>\n          <td data-bind="text: name, click: $parent.editSavingThrow"\n               href="#"></td>\n          <td data-bind="text: modifierLabel, click: $parent.editSavingThrow"\n               href="#"></td>\n        </tr>\n      </tbody>\n    </table>\n    </div>\n    \x3c!-- Add Modal --\x3e\n    <div class="modal fade"\n         id="addSavingThrow"\n         tabindex="-1"\n         role="dialog"\n         aria-labelledby="addSavingThrowLabel">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button"\n                    class="close"\n                    data-dismiss="modal"\n                    aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="addSavingThrowLabel">Add a new Saving Throw.</h4>\n        </div>\n          <div class="modal-body">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="name"\n                       class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         id="name"\n                         data-bind=\'textInput: blankSavingThrow().name\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="modifier"\n                       class="col-sm-2 control-label">Modifier</label>\n                  <div class="col-sm-10">\n                    <input type="number"\n                           class="form-control"\n                           id="modifier"\n                           min="0"\n                           placeholder="1"\n                           data-bind=\'textInput: blankSavingThrow().modifier\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="proficiency"\n                       class="col-sm-2 control-label">Proficency</label>\n                  <div class="col-sm-10">\n                    <input type="checkbox"\n                           class="form-control"\n                           id="proficiency"\n                           data-bind=\'checked: blankSavingThrow().proficiency\'>\n                  </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-bind=\'click: addSavingThrow\'\n                        data-dismiss="modal">Add</button>\n              </div>\n            </form>\n          </div> \x3c!-- Modal Body --\x3e\n        </div> \x3c!-- Modal Content --\x3e\n      </div> \x3c!-- Modal Dialog --\x3e\n    </div> \x3c!-- Modal Fade --\x3e\n\n    \x3c!-- ViewEdit Modal --\x3e\n    <div class="modal fade" id="viewSavingThrow" tabindex="-1" role="dialog"\n         aria-labelledby="viewSavingThrowLabel" data-bind="modal: {\n            open: modalOpen, onopen: modalFinishedAnimating,\n            onclose: modalFinishedClosing}, with: currentEditItem">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal"\n                    aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="addSavingThrowLabel">Edit your Saving Throw.</h4>\n        </div>\n          <div class="modal-body">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="name"\n                       class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         id="name"\n                         placeholder="Archery"\n                         data-bind="value: name, hasFocus: $parent.modifierHasFocus">\n                </div>\n              </div>\n              <div class="form-group">\n                  <label for="modifier"\n                       class="col-sm-2 control-label">Modifier</label>\n                  <div class="col-sm-10">\n                    <div class="input-group">\n                      <input type="number"\n                             class="form-control"\n                             id="modifier"\n                             data-bind="value: modifier" />\n                      <span class="input-group-addon">Total:\n                        <span data-bind="text: bonus"></span>\n                      </span>\n                    </div>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="proficiency"\n                       class="col-sm-2 control-label">Proficiency</label>\n                  <div class="col-sm-10">\n                    <input type="checkbox"\n                           class="form-control"\n                           id="proficiency"\n                           data-bind="checked: proficiency">\n                  </div>\n              </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n            </form>\n          </div> \x3c!-- Modal Body --\x3e\n        </div> \x3c!-- Modal Content --\x3e\n      </div> \x3c!-- Modal Dialog --\x3e\n    </div> \x3c!-- End with statement --\x3e\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(2),r=n(17),o=n(6),s=n(0),c=n.n(s),l=n(454),d=n.n(l);c.a.components.register("skills",{viewModel:function(){var e=this;e.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"},"modifier asc":{field:"modifier",direction:"asc"},"modifier desc":{field:"modifier",direction:"desc"},"proficiency asc":{field:"proficiency",direction:"asc",booleanType:!0},"proficiency desc":{field:"proficiency",direction:"desc",booleanType:!0}},e._defaultSkills=function(){return[{name:"Acrobatics",abilityScore:"Dex",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Animal Handling",abilityScore:"Wis",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Arcana",abilityScore:"Int",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Athletics",abilityScore:"Str",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Deception",abilityScore:"Cha",proficency:!1,modifier:null,proficiencyType:"not"},{name:"History",abilityScore:"Int",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Insight",abilityScore:"Wis",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Intimidation",abilityScore:"Cha",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Investigation",abilityScore:"Int",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Medicine",abilityScore:"Wis",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Nature",abilityScore:"Int",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Perception",abilityScore:"Wis",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Performance",abilityScore:"Cha",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Persuasion",abilityScore:"Cha",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Religion",abilityScore:"Int",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Sleight of Hand",abilityScore:"Dex",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Stealth",abilityScore:"Dex",proficency:!1,modifier:null,proficiencyType:"not"},{name:"Survival",abilityScore:"Wis",proficency:!1,modifier:null,proficiencyType:"not"}].map(function(t,n,i){var o=new r.n(e);return t.characterId=a.a.activeCharacter().key(),o.importValues(t),o})},e.blankSkill=c.a.observable(new r.n),e.newModalOpen=c.a.observable(!1),e.editModalOpen=c.a.observable(!1),e.editItemIndex=null,e.currentEditItem=c.a.observable(),e.skills=c.a.observableArray([]),e.filter=c.a.observable(""),e.sort=c.a.observable(e.sorts["name asc"]),e.load=function(){a.f.global.save.add(e.save);var t=i.a.findBy(r.n,"characterId",a.a.activeCharacter().key());0===t.length?(e.skills(e._defaultSkills()),e.skills().forEach(function(e,t,n){e.save()})):e.skills(t),a.f.abilityScores.changed.add(e.dataHasChanged),a.f.otherStats.proficiency.changed.add(e.dataHasChanged),a.f.profile.changed.add(e.dataHasChanged),e.skills().forEach(function(t,n,a){e.addNotifiers(t),"Perception"===t.name()&&t.bonus.subscribe(e.perceptionHasChanged)})},e.dispose=function(){e.save(),e.skills([]),a.f.abilityScores.changed.remove(e.dataHasChanged),a.f.otherStats.proficiency.changed.add(e.dataHasChanged),a.f.profile.changed.remove(e.dataHasChanged),a.f.global.save.remove(e.save)},e.save=function(){e.skills().forEach(function(e,t,n){e.save()})},e.filteredAndSortedSkills=c.a.computed(function(){return o.m.sortAndFilter(e.skills(),e.sort(),null)}),e.sortArrow=function(t){return o.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(o.m.sortForName(e.sort(),t,e.sorts))},e.editModifierHasFocus=c.a.observable(!1),e.editModalFinishedAnimating=function(){e.editModifierHasFocus(!0)},e.editModalFinishedClosing=function(){e.editModalOpen()&&a.g.array.updateElement(e.skills(),e.currentEditItem(),e.editItemIndex),e.save(),e.skills().forEach(function(e,t,n){e.updateValues()}),e.editModalOpen(!1)},e.newSkillFieldHasFocus=c.a.observable(!1),e.newModalFinishedAnimating=function(){e.newSkillFieldHasFocus(!0)},e.newModalFinishedClosing=function(){e.newModalOpen(!1)},e.addSkill=function(){var t=e.blankSkill();t.characterId(a.a.activeCharacter().key()),t.save(),e.addNotifiers(t),e.skills.push(t),e.blankSkill(new r.n)},e.removeSkill=function(t){e.skills.remove(t),t.delete()},e.editSkill=function(t){e.editItemIndex=t.__id,e.currentEditItem(new r.n),e.currentEditItem().importValues(t.exportValues()),e.editModalOpen(!0)},e.clear=function(){e.skills().forEach(function(t,n,a){e.removeSkill(t)})},e.addNotifiers=function(e){var t=function(){e.save(),a.f.skills.changed.dispatch()};e.name.subscribe(t),e.bonus.subscribe(t)},e.dataHasChanged=function(){e.skills().forEach(function(e,t,n){e.updateValues()}),a.f.skills.changed.dispatch()},e.perceptionHasChanged=function(){a.f.skills.perception.changed.dispatch()}},template:d.a})},function(e,t){e.exports='<div class="panel panel-default bio">\n  <div class="panel-body tight-inner">\n    <table class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr>\n          <th data-bind="click: function(){sortBy(\'proficiency\');}"\n            class="col-md-2 col-sm-2">\n            <span class="glyphicon glyphicon-ok"></span>\n            <span data-bind="css: sortArrow(\'proficiency\')"></span>\n          </th>\n          <th class="col-md-3 col-sm-3">\n          </th>\n          <th data-bind="click: function(){sortBy(\'name\');}"\n            class="col-md-5">\n            Skill\n            <span data-bind="css: sortArrow(\'name\')"></span>\n          </th>\n          <th class="col-md-2">\n            Passive\n          </th>\n          <th class="col-xs-1"> <a data-toggle="modal" data-target="#addSkill" href="#"><i class="fa fa-plus fa-color"></i></a></th>\n        </tr>\n      </thead>\n      <tbody data-bind=\'foreach: filteredAndSortedSkills\'>\n        <tr class="clickable" data-bind="click: $parent.editSkill">\n          <td>\n            <prof-marker params="proficiency: proficiency"></prof-marker>\n          </td>\n          <td data-bind="html: bonusLabel"></td>\n          <td data-bind="html: nameLabel"></td>\n          <td data-bind="text: passiveBonus"></td>\n          <td class="col-content-vertical col-xs-1">\n            <a data-bind="click: $parent.removeSkill" href="#">\n              <i class="fa fa-trash-o fa-color-hover"></i>\n            </a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div> \x3c!-- Panel Body --\x3e\n</div> \x3c!-- Panel --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade" tabindex="-1" role="dialog"\n   aria-labelledby="viewSkillLabel"\n   data-bind="modal: {\n      open: editModalOpen,\n      onopen: editModalFinishedAnimating,\n      onclose: editModalFinishedClosing\n    }, with: currentEditItem">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title" id="addSkillLabel"\n          data-bind="text: name"></h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal" onsubmit="return false">\n          <div class="form-group">\n            <label for="modifier" class="col-sm-2 control-label">\n              Modifier\n            </label>\n              <div class="col-sm-10">\n                <div class="input-group">\n                  <input type="number" class="form-control" id="modifier"\n                         data-bind="value: modifier,\n                          hasFocus: $parent.editModifierHasFocus" />\n                  <span class="input-group-addon">Total:\n                    <span data-bind="text: bonus"></span>\n                  </span>\n                </div>\n              </div>\n          </div>\n\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Proficiency</label>\n              <div class="col-sm-10">\n                <div class="btn-group btn-group-justified" role="group">\n                  <label class="btn btn-default"\n                         data-bind="css: { active: proficiency() == \'not\'}">\n                    <input type="radio" class="hide-block" data-bind="checked: proficiency"\n                           name="notProficient" value="not"/>None\n                  </label>\n                  <label class="btn btn-default"\n                         data-bind="css: { active: proficiency() == \'half\'}">\n                    <prof-marker params="proficiency: \'half\'"></prof-marker>\n                    <input type="radio" class="hide-block" data-bind="checked: proficiency"\n                         name="halfProficient" value="half"/>Half\n                  </label>\n                  <label class="btn btn-default"\n                         data-bind="css: { active: proficiency() == \'proficient\'}">\n                    <prof-marker params="proficiency: \'proficient\'"></prof-marker>\n                    <input type="radio" class="hide-block" data-bind="checked: proficiency"\n                          name="proficient" value="proficient"/>Proficient\n                  </label>\n                  <label class="btn btn-default"\n                         data-bind="css: { active: proficiency() == \'expertise\'}">\n                    <prof-marker params="proficiency: \'expertise\'"></prof-marker>\n                    <input type="radio" class="hide-block" data-bind="checked: proficiency"\n                           name="expertise" value="expertise"/>Expertise\n                  </label>\n                </div>\n              </div>\n           </div>\n\n          </div>\x3c!-- Modal Body --\x3e\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-dismiss="modal">Done</button>\n          </div> \x3c!-- Modal Footer --\x3e\n        </form>\n      </div> \x3c!-- Modal Content --\x3e\n    </div> \x3c!-- Modal Dialog --\x3e\n  </div> \x3c!-- Modal Fade --\x3e\n</div> \x3c!-- End with statement --\x3e\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade" id="addSkill" tabindex="-1" role="dialog"\n  aria-labelledby="addSkillLabel" data-bind="modal: {\n      open: newModalOpen,\n      onopen: newModalFinishedAnimating,\n      onclose: newModalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title" id="addSkillLabel">\n          Add a skill.\n        </h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label for="name" class="col-sm-2 control-label">Name</label>\n            <div class="col-sm-10">\n              <input type="text"\n                     class="form-control"\n                     id="name"\n                     data-bind=\'textInput: blankSkill().name, hasFocus: newSkillFieldHasFocus\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Proficiency</label>\n              <div class="col-sm-10">\n                <div class="btn-group btn-group-justified" role="group">\n                  <label class="btn btn-default"\n                         data-bind="css: { active: blankSkill().proficiency() == \'not\'}">\n                    <input type="radio" class="hide-block" data-bind="checked: blankSkill().proficiency"\n                           name="notProficient" value="not"/>None\n                  </label>\n                  <label class="btn btn-default"\n                         data-bind="css: { active: blankSkill().proficiency() == \'half\'}">\n                    <prof-marker params="proficiency: \'half\'"></prof-marker>\n                    <input type="radio" class="hide-block" data-bind="checked: blankSkill().proficiency"\n                         name="halfProficient" value="half"/>Half\n                  </label>\n                  <label class="btn btn-default"\n                         data-bind="css: { active: blankSkill().proficiency() == \'proficient\'}">\n                    <prof-marker params="proficiency: \'proficient\'"></prof-marker>\n                    <input type="radio" class="hide-block" data-bind="checked: blankSkill().proficiency"\n                          name="proficient" value="proficient"/>Proficient\n                  </label>\n                  <label class="btn btn-default"\n                         data-bind="css: { active: blankSkill().proficiency() == \'expertise\'}">\n                    <prof-marker params="proficiency: \'expertise\'"></prof-marker>\n                    <input type="radio" class="hide-block" data-bind="checked: blankSkill().proficiency"\n                           name="expertise" value="expertise"/>Expertise\n                  </label>\n                </div>\n              </div>\n           </div>\n            <div class="form-group">\n              <label for="abscore"\n                   class="col-sm-2 control-label">Ability Score</label>\n\n              <div class="col-sm-10">\n                <div class="btn-group btn-group-justified" role="group">\n                <label class="btn btn-default"\n                data-bind="css: { active: blankSkill().abilityScore() == \'Str\'}">\n                  <input type="radio" class="hide-block"\n                  name="abilityScore" value="Str" data-bind="checked: blankSkill().abilityScore"/>\n                  Str\n                </label>\n                <label class="btn btn-default "\n                data-bind="css: { active: blankSkill().abilityScore() == \'Dex\'}">\n                  <input type="radio" class="hide-block"\n                  name="abilityScore" value="Dex" data-bind="checked: blankSkill().abilityScore"/>\n                  Dex\n                  </label>\n                <label class="btn btn-default "\n                data-bind="css: { active: blankSkill().abilityScore() == \'Con\'}">\n                  <input type="radio" name="abilityScore" value="Con" class="hide-block"\n                  data-bind="checked: blankSkill().abilityScore"/>\n                  Con\n                  </label>\n                <label class="btn btn-default "\n                data-bind="css: { active: blankSkill().abilityScore() == \'Int\'}">\n                  <input type="radio" class="hide-block"\n                  name="abilityScore" value="Int" data-bind="checked: blankSkill().abilityScore"/>\n                  Int\n                  </label>\n                <label class="btn btn-default "\n                data-bind="css: { active: blankSkill().abilityScore() == \'Wis\'}">\n                  <input type="radio" class="hide-block"\n                  name="abilityScore" value="Wis" data-bind="checked: blankSkill().abilityScore"/>\n                  Wis\n                  </label>\n                <label class="btn btn-default "\n                data-bind="css: { active: blankSkill().abilityScore() == \'Cha\'}">\n                  <input type="radio" class="hide-block"\n                  name="abilityScore" value="Cha" data-bind="checked: blankSkill().abilityScore"/>\n                  Cha\n                </label>\n              </div>\n              </div>\n            </div>\n          </div> \x3c!-- end form-group --\x3e\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addSkill\'\n                    data-dismiss="modal">Add\n            </button>\n          </div>\n        </form>\n      </div> \x3c!-- end modal-body --\x3e\n    </div> \x3c!-- end modal content --\x3e\n  </div> \x3c!-- end modal dialog --\x3e\n</div> \x3c!-- end modal --\x3e\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(6),r=n(17),o=n(170),s=n.n(o),c=n(39),l=n.n(c),d=n(0),u=n.n(d),p=n(171),f=n.n(p),h=n(40),m=n.n(h),b=n(456),v=n.n(b);u.a.components.register("spell-slots",{viewModel:function(){var e=this;e.sorts={"level asc":{field:"level",direction:"asc",numeric:!0},"level desc":{field:"level",direction:"desc",numeric:!0},"maxSpellSlots asc":{field:"maxSpellSlots",direction:"asc",numeric:!0},"maxSpellSlots desc":{field:"maxSpellSlots",direction:"desc",numeric:!0},"usedSpellSlots asc":{field:"usedSpellSlots",direction:"asc",numeric:!0},"usedSpellSlots desc":{field:"usedSpellSlots",direction:"desc",numeric:!0},"resetsOn asc":{field:"resetsOn",direction:"asc"},"resetsOn desc":{field:"resetsOn",direction:"desc"}},e.slots=u.a.observableArray([]),e.blankSlot=u.a.observable(new r.o),e.openModal=u.a.observable(!1),e.editHasFocus=u.a.observable(!1),e.editItemIndex=null,e.currentEditItem=u.a.observable(),e.modifierHasFocus=u.a.observable(!1),e.sort=u.a.observable(e.sorts["level asc"]),e.filter=u.a.observable(""),e.meditation=f.a,e.campingTent=s.a,e.meditationWhite=m.a,e.campingTentWhite=l.a,e.load=function(){a.f.global.save.add(e.save);var t=i.l.findBy(r.o,"characterId",a.a.activeCharacter().key());e.slots(t),e.blankSlot().level(e.slots().length+1),a.f.events.longRest.add(e.resetOnLongRest),a.f.events.shortRest.add(e.resetShortRest),e.slots().forEach(function(t,n,a){t.maxSpellSlots.subscribe(e.dataHasChanged),t.usedSpellSlots.subscribe(e.dataHasChanged)})},e.unload=function(){e.save(),a.f.events.longRest.remove(e.resetOnLongRest),a.f.events.shortRest.remove(e.resetShortRest),a.f.global.save.remove(e.save)},e.save=function(){e.slots().forEach(function(e,t,n){e.save()})},e.needsResetsOnImg=function(e){return""!=e.resetsOn()},e.resetsOnImgSource=function(e){if("long"===e.resetsOn())return s.a;if("short"===e.resetsOn())return f.a;throw"Unexpected feature resets on string."},e.filteredAndSortedSlots=u.a.computed(function(){return i.m.sortAndFilter(e.slots(),e.sort(),null)}),e.sortArrow=function(t){return i.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(i.m.sortForName(e.sort(),t,e.sorts))},e.resetOnLongRest=function(){u.a.utils.arrayForEach(e.slots(),function(e){e.usedSpellSlots(0)})},e.resetShortRest=function(){u.a.utils.arrayForEach(e.slots(),function(e){e.resetsOn()===r.o.REST_TYPE.SHORT_REST&&e.usedSpellSlots(0)})},e.modalFinishedAnimating=function(){e.modifierHasFocus(!0)},e.editModalOpen=function(){e.editHasFocus(!0)},e.modalFinishedClosing=function(){e.openModal()&&a.g.array.updateElement(e.slots(),e.currentEditItem(),e.editItemIndex),e.save(),e.dataHasChanged(),e.openModal(!1)},e.maxAvailableSlots=function(){var t=0;return e.slots().forEach(function(e,n,a){t+=parseInt(e.maxSpellSlots())}),t},e.currentSlotWidth=function(t,n){var a=e.maxAvailableSlots();return t*(100*(n=parseInt(n))/a)+"%"},e.editSlot=function(t){e.editItemIndex=t.__id,e.currentEditItem(new r.o),e.currentEditItem().importValues(t.exportValues()),e.openModal(!0),e.slots().forEach(function(t,n,a){t.maxSpellSlots.subscribe(e.dataHasChanged),t.usedSpellSlots.subscribe(e.dataHasChanged)}),e.dataHasChanged()},e.addSlot=function(){var t=e.blankSlot();t.characterId(a.a.activeCharacter().key()),t.save(),e.slots.push(t),e.blankSlot(new r.o),e.blankSlot().level(e.slots().length+1),e.slots().forEach(function(t,n,a){t.maxSpellSlots.subscribe(e.dataHasChanged),t.usedSpellSlots.subscribe(e.dataHasChanged)}),e.dataHasChanged()},e.removeSlot=function(t){e.slots.remove(t),t.delete(),e.blankSlot().level(e.slots().length+1),e.slots().forEach(function(t,n,a){t.maxSpellSlots.subscribe(e.dataHasChanged),t.usedSpellSlots.subscribe(e.dataHasChanged)}),e.dataHasChanged()},e.resetSlot=function(e){e.usedSpellSlots(0)},e.resetSlots=function(){e.slots().forEach(function(e,t,n){e.usedSpellSlots(0)})},e.clear=function(){e.slots([])},e.dataHasChanged=function(){e.save(),a.f.spellSlots.changed.dispatch()}},template:v.a})},function(e,t){e.exports='<div class="panel panel-default">\n  <div class="panel-body tight-inner">\n    <div class="progress" data-bind="{ foreach: slots, visible: slots().length > 0 }">\n      <div class="progress-bar" role="progressbar" aria-valuemin="0" data-bind="style: { width: $parent.currentSlotWidth(progressWidth(),maxSpellSlots()) }, css: color">\n        <span class="sr-only"></span>\n      </div>\n    </div>\n    <table id=\'spellSlotsTable\' class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr class="row">\n          <th class="col-sm-1 col-xs-1">Slot</th>\n          <th class="col-sm-2 col-xs-2" data-bind="click: function(){sortBy(\'level\');}">Level\n            <i data-bind="css: sortArrow(\'level\')"></i></th>\n          <th class="col-sm-2 hidden-xs" data-bind="click: function(){sortBy(\'maxSpellSlots\');}">Max\n            <i data-bind="css: sortArrow(\'maxSpellSlots\')"></i></th>\n          <th class="col-md-2 hidden-sm hidden-xs" data-bind="click: function(){sortBy(\'resetsOn\');}">Resets on\n            <i data-bind="css: sortArrow(\'resetsOn\')"></i></th>\n          <th class="col-md-3 col-sm-4 col-xs-8 text-center" data-bind="click: function(){sortBy(\'usedSpellSlots\');}">Used\n            <i data-bind="css: sortArrow(\'usedSpellSlots\')"></i></th>\n          <th class="col-md-1 hidden-sm hidden-xs">Reset</th>\n          <th class="col-xs-1"> <a data-toggle="modal" data-target="#addSpellSlot" href="#"><i class="fa fa-plus fa-color"></i></a></th>\n        </tr>\n      </thead>\n      <tbody>\n      \x3c!-- ko foreach: filteredAndSortedSlots --\x3e\n        <tr class="row clickable">\n          <td class="col-sm-1 col-xs-1 col-content-vertical" data-bind="click: $parent.editSlot"\n              href="#">\n            <span data-bind="css: color" class="form-control color-picker-item" >\n            </span>\n          </td>\n          <td class="col-sm-2 col-xs-2 col-content-vertical"\n              data-bind="click: $parent.editSlot, text: level"\n              href="#">\n          </td>\n          <td class="col-sm-2 hidden-xs col-content-vertical"\n              data-bind="click: $parent.editSlot, text: maxSpellSlots"\n              href="#">\n          </td>\n          <td class="col-content-vertical col-md-2 hidden-sm hidden-xs"\n              data-bind="click: $parent.editSlot"\n              href="#">\n            \x3c!-- ko if: $parent.needsResetsOnImg($data) --\x3e\n            <img class="action-bar-icon" data-bind="attr: { src: $parent.resetsOnImgSource($data) }">\n            </img>\n            \x3c!-- /ko --\x3e\n          </td>\n          <td class="col-md-3 col-sm-4 col-xs-8">\n            <plus-minus params="value: usedSpellSlots,\n              max: maxSpellSlots">\n            </plus-minus>\n          </td>\n          <td class="col-content-vertical col-md-1 hidden-sm hidden-xs text-center"> \x3c!--Refresh --\x3e\n            <a data-bind="click: $parent.resetSlot" href="#">\n              <i class="fa fa-refresh fa-color"></i>\n            </a>\n          </td>\n          <td class="col-content-vertical col-xs-1">\n            <a data-bind="click: $parent.removeSlot" href="#">\n              <i class="fa fa-trash-o fa-color-hover"></i>\n            </a>\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: filteredAndSortedSlots().length == 0 --\x3e\n        <tr class="clickable">\n          <td data-toggle="modal" data-target="#addSpellSlot" href="#"\n            colspan="12" class="text-center">\n            <i class="fa fa-plus fa-color"></i>\n            Add a new spell slot\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      </tbody>\n    </table>\n  </div> \x3c!-- end panel-body --\x3e\n</div> \x3c!-- end panel --\x3e\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade" id="addSpellSlot" tabindex="-1" role="dialog"\n  aria-labelledby="addSpellSlotLabel" data-bind="modal: {\n    onopen: modalFinishedAnimating}">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title" id="addSkillLabel">\n          Add a spell slot.\n        </h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label for="name" class="col-sm-2 control-label">Level</label>\n            <div class="col-sm-10">\n              <input type="number"\n                     class="form-control"\n                     id="level"\n                     min="1"\n                     max="9"\n                     data-bind=\'textInput: blankSlot().level\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="bonus" class="col-sm-2 control-label">Max</label>\n            <div class="col-sm-10">\n              <input type="number"\n                     class="form-control"\n                     id="max"\n                     min="1"\n                     max="4"\n                     data-bind=\'textInput: blankSlot().maxSpellSlots, hasFocus: modifierHasFocus\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Resets on...</label>\n            <div class="col-sm-10">\n              <div class="btn-group btn-group-justified" role="group">\n                <label class="btn btn-default"\n                       data-bind="css: { active: blankSlot().resetsOn() == \'short\'}">\n                   <input type="radio"\n                          class="hide-block"\n                          name="blankresetsOnShort" value="short"\n                          data-bind="checked: blankSlot().resetsOn"/>\n                    <img class="action-bar-icon" data-bind="attr: { src: meditationWhite }"></img>\n                    &nbsp;&nbsp;&nbsp;Short Rest\n                </label>\n                <label class="btn btn-default"\n                 data-bind="css: { active: blankSlot().resetsOn() != \'short\'}">\n                   <input type="radio"\n                          class="hide-block"\n                          name="blankresetsOnLong"\n                          value="long"\n                          data-bind="checked: blankSlot().resetsOn"/>\n                   <img class="action-bar-icon" data-bind="attr: { src: campingTentWhite }"></img>\n                    &nbsp;&nbsp;&nbsp;Long Rest\n                </label>\n              </div>\n            </div>\n          </div> \x3c!-- end form-group --\x3e\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-default"\n                    data-dismiss="modal">Cancel\n            </button>\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addSlot\'\n                    data-dismiss="modal">Add\n            </button>\n          </div>\n        </form>\n      </div> \x3c!-- end modal-body --\x3e\n    </div> \x3c!-- end modal content --\x3e\n  </div> \x3c!-- end modal dialog --\x3e\n</div> \x3c!-- end modal --\x3e\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     id="viewSlot"\n     tabindex="-1"\n     role="dialog"\n     aria-labelledby="viewSlotLabel"\n     data-bind="modal: { open: openModal, onopen: editModalOpen,\n       onclose: modalFinishedClosing}, with: currentEditItem">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close"><span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title" id="addSlotLabel"> Edit your Spell Slot.\n        </h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label for="name" class="col-sm-2 control-label">Level</label>\n            <div class="col-sm-10">\n              <input type="number"\n                     class="form-control"\n                     id="name"\n                     min="1"\n                     max="9"\n                     data-bind="value: level">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="bonus" class="col-sm-2 control-label">Max</label>\n            <div class="col-sm-10">\n              <input type="number"\n                     class="form-control"\n                     id="bonus"\n                     min="1"\n                     max="4"\n                     data-bind="value: maxSpellSlots, hasFocus: $parent.editHasFocus">\n            </div>\n          </div>\n          <div class="form-group">\n          <label class="col-sm-2 control-label">Resets on...</label>\n            <div class="col-sm-10">\n              <div class="btn-group btn-group-justified" role="group">\n                <label class="btn btn-default"\n                       data-bind="css: { active: resetsOn() == \'short\'}">\n                  <input type="radio"\n                         class="hide-block"\n                         name="resetsOnShort"\n                         value="short"\n                         data-bind="checked: resetsOn"/>\n                  <img class="action-bar-icon"\n                    data-bind="attr: { src: $parent.meditationWhite }"></img>\n                       &nbsp;&nbsp;&nbsp;Short Rest\n                </label>\n                <label class="btn btn-default"\n                       data-bind="css: { active: resetsOn() != \'short\'}">\n                <input type="radio"\n                       class="hide-block"\n                       name="resetsOnLong"\n                       value="long"\n                       data-bind="checked: resetsOn"/>\n                <img class="action-bar-icon"\n                  data-bind="attr: { src: $parent.campingTentWhite }"></img>\n                     &nbsp;&nbsp;&nbsp;Long Rest\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <button type="button"\n                  class="btn btn-primary"\n                  data-dismiss="modal">Done</button>\n        </div>\n        </form>\n    </div> \x3c!-- end modal body --\x3e\n    </div> \x3c!-- end modal content --\x3e\n  </div> \x3c!-- end modal dialog --\x3e\n</div> \x3c!-- end with statement --\x3e\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(2),r=n(17),o=n(0),s=n.n(o),c=n(458),l=n.n(c);s.a.components.register("spell-stats",{viewModel:function(){var e=this;e.spellStats=s.a.observable(new r.p),e.modalStatus=s.a.observable(!1),e.editItem=s.a.observable(),e.firstModalElementHasFocus=s.a.observable(!1),e.load=function(){a.f.global.save.add(e.save);var t=a.a.activeCharacter().key(),n=i.a.findBy(r.p,"characterId",t);n.length>0?e.spellStats(n[0]):e.spellStats(new r.p),e.spellStats().characterId(t),e.spellStats().spellAttackBonus.subscribe(e.dataHasChanged)},e.unload=function(){e.save(),a.f.global.save.remove(e.save)},e.save=function(){e.spellStats().save()},e.clear=function(){e.spellStats().clear()},e.setSpellCastingAbility=function(t,n){e.editItem().spellcastingAbility(t)},e.editSpellStats=function(){e.modalStatus(!0),e.editItem(new r.p),e.editItem().importValues(e.spellStats().exportValues())},e.modalFinishedAnimating=function(){e.firstModalElementHasFocus(!0),e.firstModalElementHasFocus.valueHasMutated()},e.modalFinishedClosing=function(){e.modalStatus()&&e.spellStats().importValues(e.editItem().exportValues()),e.dataHasChanged(),e.modalStatus(!1)},e.dataHasChanged=function(){e.spellStats().save(),a.f.spellStats.changed.dispatch()}},template:l.a})},function(e,t){e.exports='<div class="panel panel-default">\n  <div class="panel-body tight-inner" data-bind="click: editSpellStats, with: spellStats">\n    <div class="table-responsive">\n      <table class="table table-ac-bordered table-hover">\n        <thead>\n          <tr>\n            <th class="text-center">\n              Spell Attack Bonus\n            </th>\n            <th class="text-center">\n              Spell Save DC\n            </th>\n            <th class="text-center">\n              Spell Casting Ability\n            </th>\n            <th class="text-center">\n              Spells Known\n            </th>\n            <th class="text-center">\n              Cantrips Known\n            </th>\n            <th class="text-center">\n              Max Prepared\n            </th>\n            <th class="text-center">\n              Invocations Known\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr class="clickable">\n            <td data-bind="text: spellAttackBonus" class="text-center"></td>\n            <td data-bind="text: spellSaveDc" class="text-center"></td>\n            <td data-bind="text: spellcastingAbility" class="text-center"></td>\n            <td data-bind="text: spellsKnown" class="text-center"></td>\n            <td data-bind="text: spellsCantripsKnown" class="text-center"></td>\n            <td data-bind="text: spellsMaxPrepared" class="text-center"></td>\n            <td data-bind="text: spellsInvocationsKnown" class="text-center"></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade" tabindex="-1" role="dialog"\n   data-bind="modal: {\n      open: modalStatus,\n      onopen: modalFinishedAnimating,\n      onclose: modalFinishedClosing\n    }, with: editItem">\n  <div class="modal-dialog modal-sm" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close"> <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit your Spell Stats.\n        </h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Spell Attack Bonus</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input pull-left"\n                     data-bind=\'textInput: spellAttackBonus,\n                      hasFocus: $parent.firstModalElementHasFocus\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Spell Save DC</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input"\n                     data-bind=\'textInput: spellSaveDc\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Spell Casting Ability</label>\n            <div class="col-xs-5">\n              <input type="text"\n                     class="form-control ability-score-input"\n                     data-bind=\'value: spellcastingAbility,\n        \t\t\t\t\t\t\t\tautocomplete: { source: spellcastingAbilityOptions,\n        \t\t\t\t\t\t\t\tonselect: $parent.setSpellCastingAbility }\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Spells Known</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input"\n                     data-bind=\'textInput: spellsKnown\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Cantrips Known</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input"\n                     data-bind=\'textInput: spellsCantripsKnown\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Max Prepared</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input"\n                     data-bind=\'textInput: spellsMaxPrepared\'>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-xs-7 pull-left">Invocations Known</label>\n            <div class="col-xs-5">\n              <input type="number"\n                     class="form-control ability-score-input"\n                     data-bind=\'textInput: spellsInvocationsKnown\'>\n            </div>\n          </div>\n          <div class="modal-footer-ability-scores">\n            <div class="form-group">\n              <div class="col-xs-offset-7 col-xs-5">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(6),r=n(15),o=n(0),s=n.n(o),c=n(460),l=n.n(c);s.a.components.register("spells",{viewModel:function(){var e=this;e.sorts={"spellName asc":{field:"spellName",direction:"asc"},"spellName desc":{field:"spellName",direction:"desc"},"spellPrepared asc":{field:"spellPrepared",direction:"asc",booleanType:!0},"spellPrepared desc":{field:"spellPrepared",direction:"desc",booleanType:!0},"spellType asc":{field:"spellType",direction:"asc"},"spellType desc":{field:"spellType",direction:"desc"},"spellDmg asc":{field:"spellDmg",direction:"asc"},"spellDmg desc":{field:"spellDmg",direction:"desc"},"spellLevel asc":{field:"spellLevel",direction:"asc",numeric:!0},"spellLevel desc":{field:"spellLevel",direction:"desc",numeric:!0},"spellCastingTime asc":{field:"spellCastingTime",direction:"asc"},"spellCastingTime desc":{field:"spellCastingTime",direction:"desc"},"spellRange asc":{field:"spellRange",direction:"asc"},"spellRange desc":{field:"spellRange",direction:"desc"}},e.blankSpell=s.a.observable(new r.u),e.spellbook=s.a.observableArray([]),e.modalOpen=s.a.observable(!1),e.editItemIndex=null,e.currentEditItem=s.a.observable(),e.shouldShowDisclaimer=s.a.observable(!1),e.previewTabStatus=s.a.observable("active"),e.editTabStatus=s.a.observable(""),e.firstModalElementHasFocus=s.a.observable(!1),e.editFirstModalElementHasFocus=s.a.observable(!1),e.spellSchoolIconCSS=s.a.observable(""),e.filter=s.a.observable(""),e.sort=s.a.observable(e.sorts["spellName asc"]),e.numberOfPrepared=s.a.computed(function(){var t=0;return e.spellbook().forEach(function(e){!0===e.spellPrepared()&&t++}),t}),e.numberOfSpells=s.a.computed(function(){return e.spellbook()?e.spellbook().length:0}),e.load=function(){a.f.global.save.add(e.save);var t=a.a.activeCharacter().key();e.spellbook(i.l.findBy(r.u,"characterId",t)),e.spellbook().forEach(function(t,n,a){t.spellPrepared.subscribe(e.save)}),a.f.spellStats.changed.add(e.valueHasChanged)},e.save=function(){e.spellbook().forEach(function(e,t,n){e.save()})},e.populateSpell=function(t,n){var i=a.b.spells[t];e.blankSpell().importValues(i),e.shouldShowDisclaimer(!0)},e.modalFinishedOpening=function(){e.shouldShowDisclaimer(!1),e.firstModalElementHasFocus(!0)},e.modalFinishedClosing=function(){e.previewTabStatus("active"),e.editTabStatus(""),e.firstModalElementHasFocus(!1),e.spellSchoolIconCSS(""),e.modalOpen()&&a.g.array.updateElement(e.spellbook(),e.currentEditItem(),e.editItemIndex),e.save(),e.modalOpen(!1)},e.selectPreviewTab=function(){e.previewTabStatus("active"),e.editTabStatus("")},e.selectEditTab=function(){e.editTabStatus("active"),e.previewTabStatus(""),e.editFirstModalElementHasFocus(!0)},e.determineSpellSchoolIcon=s.a.computed(function(){if(e.currentEditItem()&&e.currentEditItem().spellSchool()){var t=e.currentEditItem().spellSchool();e.spellSchoolIconCSS(t.toLowerCase())}}),e.alwaysPreparedPopoverText=function(){return"Always prepared spells will not count against total prepared spells."},e.preparedRowVisibleAdd=function(){return 0!==parseInt(e.blankSpell().spellLevel())},e.preparedRowVisibleEdit=function(e){return 0!==parseInt(e.spellLevel())},e.filteredAndSortedSpells=s.a.computed(function(){return i.m.sortAndFilter(e.spellbook(),e.sort(),null)}),e.sortArrow=function(t){return i.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(i.m.sortForName(e.sort(),t,e.sorts))},e.spellsPrePopFilter=function(e,t){var n=e.term.toLowerCase();t((a.b.spells?Object.keys(a.b.spells):[]).filter(function(e,t,a){return e.toLowerCase().indexOf(n)>-1}))},e.addSpell=function(){var t=e.blankSpell();t.characterId(a.a.activeCharacter().key()),t.save(),t.spellPrepared.subscribe(e.save),e.spellbook.push(t),e.blankSpell(new r.u)},e.removeSpell=function(t){e.spellbook.remove(t),t.delete()},e.editSpell=function(t){e.editItemIndex=t.__id,e.currentEditItem(new r.u),e.currentEditItem().importValues(t.exportValues()),e.modalOpen(!0)},e.clear=function(){e.spellbook([])},e.valueHasChanged=function(){e.spellbook().forEach(function(e,t,n){e.updateValues()})}},template:l.a})},function(e,t){e.exports='<div class="panel panel-default">\n  <div class="panel-body tight-inner">\n    <table class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr>\n          <th data-bind="click: function(){sortBy(\'spellPrepared\');}">\n            <span class="glyphicon glyphicon-check"></span>\n            <span data-bind="css: sortArrow(\'spellPrepared\')"></span>\n          </th>\n          <th data-bind="click: function(){sortBy(\'spellName\');}">\n            Spell\n            <span data-bind="css: sortArrow(\'spellName\')"></span>\n          </th>\n          <th data-bind="click: function(){sortBy(\'spellLevel\');}">\n            Level\n            <span data-bind="css: sortArrow(\'spellLevel\')"></span>\n          </th>\n          <th class="hidden-sm hidden-xs" data-bind="click: function(){sortBy(\'spellType\');}">\n            Type\n            <span data-bind="css: sortArrow(\'spellType\')"></span>\n          </th>\n          <th class="hidden-xs" data-bind="click: function(){sortBy(\'spellDmg\');}">\n            Damage\n            <span data-bind="css: sortArrow(\'spellDmg\')"></span>\n          </th>\n          <th class="hidden-sm hidden-xs" data-bind="click: function(){sortBy(\'spellCastingTime\');}">\n            Casting Time\n            <span data-bind="css: sortArrow(\'spellCastingTime\')"></span>\n          </th>\n          <th class="hidden-xs" data-bind="click: function(){sortBy(\'spellRange\');}">\n            Range\n            <span data-bind="css: sortArrow(\'spellRange\')"></span>\n          </th>\n          <th>\n            <a data-toggle="modal"\n               data-target="#addSpell" href="#">\n              <i class="fa fa-plus fa-color"></i>\n            </a>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n      \x3c!-- ko foreach: filteredAndSortedSpells --\x3e\n        <tr class="clickable">\n          <td>\n            \x3c!-- ko if: spellLevel() != 0 --\x3e\n              <input data-bind="checked: spellPrepared || spellAlwaysPrepared,\n                disable: spellAlwaysPrepared" type="checkbox" href="#"></input>\n            \x3c!-- /ko --\x3e\n          </td>\n          <td data-bind="text: spellNameLabel, click: $parent.editSpell"\n               href="#"></td>\n          <td data-bind="text: spellLevelLabel, click: $parent.editSpell"\n               href="#"></td>\n          <td class="hidden-sm hidden-xs" data-bind="text: spellType, click: $parent.editSpell"\n               href="#"></td>\n          <td class="hidden-xs" data-bind="text: spellDamageLabel, click: $parent.editSpell"\n               href="#"></td>\n          <td class="hidden-sm hidden-xs" data-bind="text: spellCastingTime, click: $parent.editSpell"\n               href="#"></td>\n          <td class="hidden-xs" data-bind="text: spellRange, click: $parent.editSpell"\n               href="#"></td>\n          <td>\n            <a data-bind="click: $parent.removeSpell" href="#">\n              <i class="fa fa-trash-o fa-color-hover">\n              </i>\n            </a>\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: filteredAndSortedSpells().length == 0 --\x3e\n        <tr class="clickable">\n          <td href="#" data-toggle="modal"\n            data-target="#addSpell" colspan="8" class="text-center">\n            <i class="fa fa-plus fa-color"></i>\n            Add a new spell\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      </tbody>\n    </table>\n  </div>\n  <div class="container-fluid panel-footer">\n     <span class="pull-left">Total Spells:&nbsp;\n      <span data-bind="text: numberOfSpells"></span>\n    </span>\n       <span class="pull-right">Spells prepared:&nbsp;\n        <span data-bind="text: numberOfPrepared"></span>\n      </span>\n    </div> \x3c!-- end panel footer --\x3e\n    \x3c!-- Add Modal --\x3e\n    <div class="modal fade"\n         id="addSpell"\n         tabindex="-1"\n         role="dialog"\n         aria-labelledby="addSpellLabel"\n         data-bind="modal: { onopen: modalFinishedOpening }">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button"\n                    class="close"\n                    data-dismiss="modal"\n                    aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="addSpellLabel">Add a Spell to your Spellbook.</h4>\n        </div>\n          <div class="modal-body">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="spellName"\n                       class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         id="spellName"\n                         placeholder="Magic Missile"\n                         data-bind="textInput: blankSpell().spellName,\n                          autocomplete: { source: spellsPrePopFilter,\n                          onselect: populateSpell },\n                          hasFocus: firstModalElementHasFocus">\n                </div>\n              </div>\n              \x3c!-- ko if: preparedRowVisibleAdd() --\x3e\n              <div class="form-group">\n                <label for="spellPrepared"\n                       class="col-sm-2 control-label">Prepared</label>\n                  <div class="col-sm-1">\n                    <input type="checkbox"\n                           class="form-control"\n                           id="spellPrepared"\n                           data-bind=\'checked: blankSpell().spellPrepared,\n                                      disable: blankSpell().spellAlwaysPrepared\'>\n                  </div>\n\n                <label class="col-sm-4 control-label">\n                  <span class="fa fa-info-circle hidden-xs" style="cursor:pointer;"\n                      data-bind="popover: { content: alwaysPreparedPopoverText }"></span>\n                       Always Prepared\n                </label>\n\n                <div class="col-sm-1">\n                  <input type="checkbox"\n                         class="form-control"\n                         id="spellAlwaysPrepared"\n                         data-bind=\'checked: blankSpell().spellAlwaysPrepared,\n                                    disable: blankSpell().spellPrepared\'>\n\n                </div>\n                <label for="spellIsRitual"\n                       class="col-sm-2 control-label">Ritual</label>\n                  <div class="col-sm-1">\n                    <input type="checkbox"\n                           class="form-control"\n                           id="spellIsRitual"\n                           data-bind=\'checked: blankSpell().isRitual\'>\n                  </div>\n              </div>\n              \x3c!-- /ko --\x3e\n              <div class="form-group">\n                <label for="spellLevel"\n                       class="col-sm-2 control-label">Level</label>\n                  <div class="col-sm-10">\n                    <input type="number"\n                           class="form-control"\n                           id="spellLevel"\n                           placeholder="1"\n                           min="0"\n                           max="9"\n                           data-bind=\'textInput: blankSpell().spellLevel\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="spellSchool"\n                       class="col-sm-2 control-label">School</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankSpell().spellSchoolOptions,\n                                     value: blankSpell().spellSchool,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="spellType"\n                       class="col-sm-2 control-label">Type</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankSpell().spellTypeOptions,\n                                     value: blankSpell().spellType,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div data-bind="visible: blankSpell().spellType() == \'Savings Throw\'">\n                <div class="form-group">\n                  <label for="spellType"\n                         class="col-sm-2 control-label">Save Attr</label>\n                    <div class="col-sm-10">\n                    <select class="form-control"\n                            data-bind="options: blankSpell().spellSaveAttrOptions,\n                                       value: blankSpell().spellSaveAttr,\n                                       select2: {theme: \'classic\'}"></select>\n                    </div>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="spellDmgSave"\n                       class="col-sm-2 control-label">Damage</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           id="spellDmgSave"\n                           placeholder="1d4 + 1"\n                           data-bind="textInput: blankSpell().spellDmg">\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="spellCastingTime"\n                       class="col-sm-2 control-label">Cast Time</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankSpell().spellCastingTimeOptions,\n                                     value: blankSpell().spellCastingTime,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="spellRange"\n                       class="col-sm-2 control-label">Range</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankSpell().spellRangeOptions,\n                                     value: blankSpell().spellRange,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="spellComponents"\n                       class="col-sm-2 control-label">Components</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankSpell().spellComponentsOptions,\n                                     value: blankSpell().spellComponents,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="spellMaterialComponents"\n                       class="col-sm-2 control-label">Material Components</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           id="spellMaterialComponents"\n                           placeholder="Feather"\n                           data-bind="textInput: blankSpell().spellMaterialComponents">\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="spellDuration"\n                       class="col-sm-2 control-label">Duration</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankSpell().spellDurationOptions,\n                                     value: blankSpell().spellDuration,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="spellDescription"\n                       class="col-sm-2 control-label">Description</label>\n                  <div class="col-sm-10">\n                    <textarea type="password"\n                              class="form-control"\n                              id="spellDescription"\n                              rows="4"\n                              placeholder="You create three glowing ..."\n                              data-bind=\'textInput: blankSpell().spellDescription\'>\n                    </textarea>\n                  </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-default"\n                        data-dismiss="modal">Cancel</button>\n                <button type="button"\n                        class="btn btn-primary"\n                        data-bind=\'click: addSpell\'\n                        data-dismiss="modal">Add</button>\n                <p class="text-muted text-left" data-bind=\'visible: shouldShowDisclaimer\'>\n                  <sm><i>This data is distributed under the\n                    <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n                      target=\'_blank\'>\n                      OGL</a><br/>\n                      Open\tGame\tLicense\tv\t1.0a\tCopyright\t2000,\tWizards\tof\tthe\tCoast,\tLLC.\n                    </i><sm>\n                </p>\n              </div>\n            </form>\n          </div> \x3c!-- Modal Body --\x3e\n        </div> \x3c!-- Modal Content --\x3e\n      </div> \x3c!-- Modal Dialog --\x3e\n    </div> \x3c!-- Modal Fade --\x3e\n\n    \x3c!-- ViewEdit Modal --\x3e\n    <div class="modal fade"\n         id="viewSpell"\n         tabindex="-1"\n         role="dialog"\n         data-bind="modal: {\n          open: modalOpen,\n          onopen: modalFinishedOpening,\n          onclose: modalFinishedClosing\n        }"\n         aria-labelledby="viewSpellLabel">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button"\n                    class="close"\n                    data-dismiss="modal"\n                    aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="addSpellLabel">View a Spell from your Spellbook.</h4>\n        </div>\n          <div class="modal-body">\n            \x3c!-- Begin Tabs --\x3e\n            <ul class="nav nav-tabs tabs">\n              <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n                <a href="#spellsModalPreview" aria-controls="spellsModalPreview" role="tab" data-toggle="tab">\n                    <b>Preview</b>\n                </a>\n              </li>\n              <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n                <a href="#spellsModalEdit" aria-controls="spellsModalEdit" role="tab" data-toggle="tab">\n                    <b>Edit</b>\n                </a>\n              </li>\n            </ul>\n            <div class="tab-content" data-bind="with: currentEditItem">\n              <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane" id="spellsModalPreview">\n                <div id="spellSchoolIcon" data-bind="css: $parent.spellSchoolIconCSS">\n                <div class="h3">\n                  <span data-bind="text: spellNameLabel"></span>&nbsp;\n                  <small data-bind="text: spellSummaryLabel"></small>\n                </div>\n                <div class="row">\n                  <div class="col-sm-6 col-xs-12"><b>Type:</b>&nbsp;<span data-bind="text: spellType"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Damage:</b>&nbsp;<span data-bind="text: spellDamageLabel"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Casting Time:</b>&nbsp;<span data-bind="text: spellCastingTime"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Range:</b>&nbsp;<span data-bind="text: spellRange"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Components:</b>&nbsp;<span data-bind="text: spellComponents"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Duration:</b>&nbsp;<span data-bind="text: spellDuration"></span></div>\n                </div>\n                <hr />\n                <h4>Description</h4>\n                <div class="row row-padded">\n                  <div class="col-xs-12 col-padded">\n                    <div data-bind="html: spellDescriptionHTML"\n                         class="preview-modal-overflow"></div>\n                  </div>\n                </div>\n              </div>\n              </div>\n              <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane" id="spellsModalEdit">\n                <form class="form-horizontal">\n                  <div class="form-group">\n                    <label for="spellName"\n                           class="col-sm-2 control-label">Name</label>\n                    <div class="col-sm-10">\n                      <input type="text"\n                             class="form-control"\n                             id="spellName"\n                             placeholder="Magic Missile"\n                             data-bind="textInput: spellName,\n                             hasFocus: $parent.editFirstModalElementHasFocus">\n                    </div>\n                  </div>\n                  \x3c!-- ko if: $parent.preparedRowVisibleEdit($data) --\x3e\n                  <div class="form-group">\n                    <label for="spellPrepared"\n                           class="col-sm-2 control-label">Prepared</label>\n                      <div class="col-sm-1">\n                        <input type="checkbox"\n                               class="form-control"\n                               id="spellPrepared"\n                               data-bind=\'checked: spellPrepared,\n                                          disable: spellAlwaysPrepared\'>\n                      </div>\n                    <label class="col-sm-4 control-label">\n                    <span class="fa fa-info-circle hidden-xs" style="cursor:pointer;"\n                      data-bind="popover: { content: $parent.alwaysPreparedPopoverText }"></span>&nbsp;Always Prepared</label>\n                      <div class="col-sm-1">\n                        <input type="checkbox"\n                               class="form-control"\n                               id="spellAlwaysPrepared"\n                               data-bind=\'checked: spellAlwaysPrepared,\n                                          disable: spellPrepared\'>\n                      </div>\n                    <label for="spellIsRitual"\n                           class="col-sm-2 control-label">Ritual</label>\n                      <div class="col-sm-1">\n                        <input type="checkbox"\n                               class="form-control"\n                               id="spellIsRitual"\n                               data-bind=\'checked: isRitual\'>\n                      </div>\n                  </div>\n                  \x3c!-- /ko --\x3e\n                  <div class="form-group">\n                    <label for="spellLevel"\n                           class="col-sm-2 control-label">Level</label>\n                      <div class="col-sm-10">\n                        <input type="number"\n                               class="form-control"\n                               id="spellLevel"\n                               min="0"\n                               max="9"\n                               placeholder="1"\n                               data-bind="value: spellLevel">\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="spellSchool"\n                           class="col-sm-2 control-label">School</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: spellSchoolOptions,\n                                         value: spellSchool,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="spellType"\n                           class="col-sm-2 control-label">Type</label>\n                      <div class="col-sm-10">\n                        <select class="form-control"\n                              data-bind="options: spellTypeOptions,\n                                         value: spellType,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div data-bind="visible: spellType() == \'Savings Throw\'">\n                    <div class="form-group">\n                      <label for="spellType"\n                             class="col-sm-2 control-label">Save Attr</label>\n                        <div class="col-sm-10">\n                        <select class="form-control"\n                                data-bind="options: spellSaveAttrOptions,\n                                           value: spellSaveAttr,\n                                           select2: {theme: \'classic\'}"></select>\n                        </div>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="spellDmg"\n                           class="col-sm-2 control-label">Damage</label>\n                      <div class="col-sm-10">\n                        <input type="text"\n                               class="form-control"\n                               id="spellDmg"\n                               placeholder="1d4 + 1"\n                               data-bind="value: spellDmg">\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="spellCastingTime"\n                           class="col-sm-2 control-label">Cast Time</label>\n                      <div class="col-sm-10">\n                        <select class="form-control"\n                              data-bind="options: spellCastingTimeOptions,\n                                         value: spellCastingTime,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="spellRange"\n                           class="col-sm-2 control-label">Range</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: spellRangeOptions,\n                                         value: spellRange,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="spellComponents"\n                           class="col-sm-2 control-label">Components</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: spellComponentsOptions,\n                                         value: spellComponents,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="spellMaterialComponents"\n                           class="col-sm-2 control-label">Material Components</label>\n                      <div class="col-sm-10">\n                        <input type="text"\n                               class="form-control"\n                               id="spellMaterialComponents"\n                               placeholder="Feather"\n                               data-bind="textInput: spellMaterialComponents">\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="spellDuration"\n                           class="col-sm-2 control-label">Duration</label>\n                      <div class="col-sm-10">\n                        <select class="form-control"\n                              data-bind="options: spellDurationOptions,\n                                         value: spellDuration,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="spellDescription"\n                           class="col-sm-2 control-label">Description</label>\n                      <div class="col-sm-10">\n                        <textarea type="password"\n                                  class="form-control"\n                                  id="spellDescription"\n                                  placeholder="You create three glowing ..."\n                                  data-bind="value: spellDescription"\n                                  rows="4">\n                        </textarea>\n                      </div>\n                  </div>\n                </form>\n              </div>\n            </div> \x3c!-- End Tab Content --\x3e\n            <div class="modal-footer">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-dismiss="modal">Done</button>\n            </div>\n          </div> \x3c!-- Modal Body --\x3e\n        </div> \x3c!-- Modal Content --\x3e\n      </div> \x3c!-- Modal Dialog --\x3e\n    </div> \x3c!-- Modal Fade --\x3e\n</div> \x3c!-- Panel --\x3e\n'},function(e,t,n){"use strict";var a=n(17),i=(n(20),n(1)),r=n(2),o=n(0),s=n.n(o),c=n(463),l=n.n(c);s.a.components.register("stats",{viewModel:function(){var e=this;e.health=s.a.observable(new a.g),e.blankHitDice=s.a.observable(new a.h),e.hitDiceList=s.a.observableArray([]),e.hitDiceType=s.a.observable(new a.i),e.deathSaveSuccessList=s.a.observableArray([]),e.deathSaveFailureList=s.a.observableArray([]),e.editHealthItem=s.a.observable(),e.editHitDiceItem=s.a.observable(),e.modalOpen=s.a.observable(!1),e.load=function(){i.f.global.save.add(e.save);var t=i.a.activeCharacter().key(),n=r.a.findBy(a.g,"characterId",t);n.length>0?e.health(n[0]):e.health(new a.g),e.health().characterId(t);var o=r.a.findBy(a.h,"characterId",t);o.length>0&&e.hitDiceList(o),e.hitDiceList().forEach(function(e,n,a){e.characterId(t)}),e.calculateHitDice();var s=r.a.findBy(a.i,"characterId",t);s.length>0?e.hitDiceType(s[0]):e.hitDiceType(new a.i),e.hitDiceType().characterId(t);var c=r.a.findBy(a.c,"characterId",t);if(e.deathSaveSuccessList([]),e.deathSaveFailureList([]),c.length>0){for(var l=0;l<3;l++)e.deathSaveSuccessList.push(c[l]);for(var d=3;d<6;d++)e.deathSaveFailureList.push(c[d])}else for(var u=0;u<3;u++)e.deathSaveSuccessList.push(new a.c),e.deathSaveFailureList.push(new a.c);e.deathSaveSuccessList().forEach(function(e,n,a){e.characterId(t)}),e.deathSaveFailureList().forEach(function(e,n,a){e.characterId(t)}),e.health().maxHitpoints.subscribe(e.maxHpDataHasChanged),e.health().damage.subscribe(e.damageDataHasChanged),e.health().tempHitpoints.subscribe(e.tempHpDataHasChanged),e.hitDiceList().forEach(function(t,n,a){t.hitDiceUsed.subscribe(e.hitDiceDataHasChanged)}),e.hitDiceType.subscribe(e.hitDiceTypeDataHasChanged),e.deathSaveFailureList().forEach(function(t,n,a){t.deathSaveFailure.subscribe(e._alertPlayerHasDied),t.deathSaveFailure.subscribe(e.deathSaveFailureDataHasChanged)}),e.deathSaveSuccessList().forEach(function(t,n,a){t.deathSaveSuccess.subscribe(e._alertPlayerIsStable),t.deathSaveSuccess.subscribe(e.deathSaveSuccessDataHasChanged)}),i.f.events.longRest.add(e.resetOnLongRest),i.f.profile.level.changed.add(e.calculateHitDice),e.healthDataHasChange()},e.save=function(){e.health().save(),e.hitDiceList().forEach(function(e,t,n){e.save()}),e.hitDiceType().save(),e.deathSaveSuccessList().forEach(function(e,t,n){e.save()}),e.deathSaveFailureList().forEach(function(e,t,n){e.save()})},e.clear=function(){e.health().clear(),e.deathSaveSuccessList().forEach(function(e,t,n){e.clear()}),e.deathSaveFailureList().forEach(function(e,t,n){e.clear()}),e.hitDiceList([])},e.editHealth=function(){e.editHealthItem(new a.g),e.editHitDiceItem(new a.i),e.editHealthItem().importValues(e.health().exportValues()),e.editHitDiceItem().importValues(e.hitDiceType().exportValues()),e.modalOpen(!0)},e.calculateHitDice=function(){for(var t=r.a.findBy(a.l,"characterId",i.a.activeCharacter().key())[0],n=parseInt(t.level())-e.hitDiceList().length,o=n>0?"push":"pop",s=0;s<Math.abs(n);s++){var c;"push"===o?((c=new a.h).characterId(i.a.activeCharacter().key()),c.save(),e.hitDiceList.push(c)):(c=e.hitDiceList.pop()).delete()}},e.resetOnLongRest=function(){e.resetHitDice(),e.health().damage(0),e.health().save(),e.damageDataHasChanged()},e.resetDamage=function(){e.health().damage(0),e.health().save(),e.damageDataHasChanged()},e.resetHitDice=function(){var t=r.a.findBy(a.l,"characterId",i.a.activeCharacter().key())[0].level(),n=Math.floor(t/2)<1?1:Math.floor(t/2);s.a.utils.arrayForEach(this.hitDiceList(),function(e){!0===e.hitDiceUsed()&&0!==n&&(e.hitDiceUsed(!1),n-=1)}),e.hitDiceList().forEach(function(e,t,n){e.save()}),e.hitDiceDataHasChanged()},e.modifierHasFocus=s.a.observable(!1),e.modalFinishedAnimating=function(){e.modifierHasFocus(!0)},e.modalFinishedClosing=function(){e.modalOpen()&&(e.health().importValues(e.editHealthItem().exportValues()),e.hitDiceType().importValues(e.editHitDiceItem().exportValues())),e.modalOpen(!1),e.hitDiceTypeDataHasChanged(),e.healthDataHasChange()},e.deathSaveSuccessDataHasChanged=function(){e.deathSaveSuccessList().forEach(function(e,t,n){e.save()})},e.deathSaveFailureDataHasChanged=function(){e.deathSaveFailureList().forEach(function(e,t,n){e.save()})},e.healthDataHasChange=function(){e.health().save(),i.f.health.changed.dispatch()},e.maxHpDataHasChanged=function(){e.health().save(),i.f.health.maxHitPoints.changed.dispatch(),i.f.health.changed.dispatch()},e.damageDataHasChanged=function(){e.health().save(),i.f.health.damage.changed.dispatch(),i.f.health.changed.dispatch()},e.tempHpDataHasChanged=function(){e.health().save(),i.f.health.tempHitPoints.changed.dispatch(),i.f.health.changed.dispatch()},e.hitDiceDataHasChanged=function(){e.hitDiceList().forEach(function(e,t,n){e.save()}),i.f.hitDice.changed.dispatch()},e.hitDiceTypeDataHasChanged=function(){e.hitDiceType().save(),i.f.hitDiceType.changed.dispatch()},e._alertPlayerHasDied=function(){e.deathSaveFailureList().every(function(e,t,n){return e.deathSaveFailure()})&&i.f.userNotification.dangerNotification.dispatch("Failing all 3 death saves will do that...","You have died.",{timeOut:0})},e._alertPlayerIsStable=function(){e.deathSaveSuccessList().every(function(e,t,n){return e.deathSaveSuccess()})&&i.f.userNotification.successNotification.dispatch("You have been spared...for now.","You are now stable.",{timeOut:0})}},template:l.a})},function(e,t,n){"use strict";n(153)},function(e,t){e.exports='<div class="panel panel-default bio">\n  <div class="panel-body tight-inner">\n\t\x3c!--Health items --\x3e\n    <div class="row row-padded">\n      <div class="col-md-12 col-padded">\n        <div class="progress clickable" data-toggle="modal" data-bind="click: editHealth">\n          <div id="regularHitPoints" class="progress-bar" role="progressbar" aria-valuemin="0"\n            data-bind="style: { width: health().regularProgressWidth }, css: health().progressType">\n            <span class="sr-only"></span>\n          </div>\n          <div id="tempHitPoints" class="progress-bar progress-bar-sky" role="progressbar" aria-valuemin="0"\n            data-bind="style: { width: health().tempProgressWidth }" aria-describedby="hitpointsCounter">\n            <span class="sr-only"></span>\n          </div>\n          <div class="progress-text col-xs-3 col-xs-offset-5"\n            id="hitpointsCounter" data-bind="text: health().hitpointsText">\n          </div>\n        </div>\n        <table class="table table-responsive table-ac-bordered table-hover">\n          <thead data-toggle="modal" data-bind="click: editHealth" class="clickable">\n            <tr>\n              <th class="col-md-2"></th>\n              <th class="text-center col-md-2">Max</th>\n              <th class="text-center col-md-5">Damage</th>\n              <th class="text-center col-md-3">Reset</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td class="col-content-vertical clickable"\n                data-toggle="modal" data-bind="click: editHealth">\n                <b>Hit Points:</b>\n              </td>\n              <td class="col-content-vertical text-center clickable"\n               data-toggle="modal" data-bind="click: editHealth">\n                  <span data-bind="text: health().maxHitpoints"></span>\n              </td>\n              <td>\n                <plus-minus params="value: health().damage,\n                  max: health().totalHitpoints">\n                  </plus-minus>\n              </td>\n              <td class="text-center col-content-vertical">\n                <a data-bind="click: resetDamage" href="#">\n                  <i class="fa fa-refresh fa-color"> </i>\n                </a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <div class="input-group">\n          <span class="input-group-addon">Hit Dice:</span>\n          <div class="form-control hit-dice-list">\n            \x3c!-- ko foreach: hitDiceList --\x3e\n            <span data-bind="attr: { id: $index, name: $index },\n              css: hitDiceIcon, click: toggleHitDice"></span>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko if: hitDiceList().length == 0 --\x3e\n            <span class="hit-dice-list-empty-fill">&nbsp;</span>\n            \x3c!-- /ko --\x3e\n          </div>\n        </div>\n        <br />\n        <div class="row row-padded">\n          <div class="col-md-6 col-sm-12 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon">Death Save Successes</span>\n              <div class="form-control hit-dice-list" data-bind="foreach: deathSaveSuccessList">\n                <span data-bind="attr: { id: $index, name: $index }, click: deathSaveSuccessHandler,\n                      css: deathSaveSuccessIcon"></span>\n              </div>\n            </div>\n          </div>\n          <div class="col-md-6 col-sm-12 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon">Death Save Failures</span>\n              <div class="form-control hit-dice-list" data-bind="foreach: deathSaveFailureList">\n                <span data-bind="attr: { id: $index, name: $index }, click: deathSaveFailureHandler,\n                    css: deathSaveFailureIcon"></span>\n              </div>\n            </div>\n          </div>\n        </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\x3c!--End Panel--\x3e\n\x3c!--HP Modal--\x3e\n\x3c!-- ko if: modalOpen --\x3e\n\t<div class="modal fade" id="viewHealth" tabindex="-1" role="dialog" aria-labelledby="viewHealthLabel"\n  data-bind="modal: { open: modalOpen, onopen: modalFinishedAnimating, onclose: modalFinishedClosing}">\n\t\t<div class="modal-dialog" role="document">\n\t\t\t<div class="modal-content">\n\t\t\t\t<div class="modal-header">\n\t\t\t\t\t<button type="button" class="close" data-dismiss="modal"\n            aria-label="Close"> <span aria-hidden="true">&times;</span> </button>\n\t\t\t\t\t<h4 class="modal-title" id="healthLabel"> Edit your Hit Points.\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div class="modal-body">\n\t\t\t\t\t<form class="form-horizontal">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name" class="col-sm-2 control-label">Max HP</label>\n\t\t\t\t\t\t<div class="col-sm-10">\n              <input type="number" class="form-control"\n                data-bind=\'textInput: editHealthItem().maxHitpoints, hasFocus: modifierHasFocus\' min="0">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="bonus" class="col-sm-2 control-label">Damage</label>\n\t\t\t\t\t\t<div class="col-sm-10">\n\t\t\t\t\t\t\t<input type="number" class="form-control" min="0" data-bind=\'textInput: editHealthItem().damage\'>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name" class="col-sm-2 control-label">Temporary HP</label>\n\t\t\t\t\t\t<div class="col-sm-10">\n              <input type="number" class="form-control"\n                data-bind=\'textInput: editHealthItem().tempHitpoints\' min="0">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n          <div class="form-group">\n            <label for="name" class="col-sm-2 control-label">Hit Dice Type</label>\n            <div class="col-sm-10">\n              <select class="form-control" data-bind="options: editHitDiceItem().hitDiceOptions,\n                         value: editHitDiceItem().hitDiceType,\n                         select2: {theme: \'classic\'}"></select>\n            </div>\n          </div>\n\t\t\t\t\t<div class="modal-footer">\n\t\t\t\t\t\t<button type="button" class="btn btn-primary" data-dismiss="modal">Done</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\x3c!-- Modal Body --\x3e\n\t\t</div>\x3c!-- Modal Content --\x3e\n\t</div>\x3c!-- Modal Dialog --\x3e\n</div>\x3c!-- Modal Fade --\x3e\n\x3c!-- /ko --\x3e\n'},function(e,t,n){"use strict";var a=n(1),i=n(15),r=n(2),o=n(0),s=n.n(o),c=n(465),l=n.n(c);s.a.components.register("player-status-line",{viewModel:function(e){var t=this;t.statusLine=s.a.observable(""),t.character=e.character,t.load=function(){a.f.status.changed.add(t.dataHasChanged),t.character.subscribe(t.dataHasChanged),t.dataHasChanged()},t.unload=function(){a.f.status.changed.remove(t.dataHasChanged),t.clear()},t.clear=function(){t.statusLine("")},t.dataHasChanged=function(){var e=a.a.activeCharacter().key(),n=r.a.findBy(i.v,"characterId",e),o=r.a.findBy(i.t,"characterId",e)[0];t.statusLine(t.getStatusLine(o,n))},t.getStatusLine=function(e,t){return e&&0!=t.length?e.characterName()+" is "+t.map(function(e,n,a){var i='<span class="text-'+e.type()+'">'+e.name()+"</span>";return t.length>1&&n==t.length-1?"and "+i:t.length>2?i+",&nbsp;":t.length>1?i+"&nbsp;":i}).join("")+".":""}},template:l.a})},function(e,t){e.exports='<span data-bind="html: statusLine"></span>\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(17),r=n(6),o=n(170),s=n.n(o),c=n(39),l=n.n(c),d=n(0),u=n.n(d),p=n(171),f=n.n(p),h=n(40),m=n.n(h),b=n(467),v=n.n(b);u.a.components.register("tracker",{viewModel:function(){var e=this;e.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"}},e.trackables=u.a.observableArray([]),e.editItem=u.a.observable(),e.modalOpen=u.a.observable(!1),e.editModalTitle=u.a.observable(""),e.sort=u.a.observable(e.sorts["name asc"]),e.filter=u.a.observable(""),e.meditation=f.a,e.campingTent=s.a,e.meditationWhite=m.a,e.campingTentWhite=l.a,e.trackedTypes=[i.d,i.r,i.e],e.load=function(){a.f.global.save.add(e.save),e.loadTrackedItems(),e.trackables().forEach(function(t,n,a){t.tracked().maxUses.subscribe(e.dataHasChanged),t.tracked().used.subscribe(e.dataHasChanged)}),a.f.events.shortRest.add(e.resetShortRestFeatures),a.f.events.longRest.add(e.resetLongRestFeatures),a.f.feat.changed.add(e.loadTrackedItems),a.f.trait.changed.add(e.loadTrackedItems),a.f.feature.changed.add(e.loadTrackedItems)},e.loadTrackedItems=function(){var t=a.a.activeCharacter().key(),n=[];e.trackedTypes.forEach(function(e,a,i){var o=r.l.findBy(e,"characterId",t);n=n.concat(o)});var o=n.filter(function(e,t,n){return e.isTracked()&&e.tracked(r.l.findFirstBy(i.q,"trackedId",e.trackedId())),e.isTracked()});e.trackables(o),e.trackables().forEach(function(t,n,a){t.tracked().maxUses.subscribe(e.dataHasChanged),t.tracked().used.subscribe(e.dataHasChanged)})},e.unload=function(){e.save(),a.f.global.save.remove(e.save),a.f.events.longRest.remove(e.resetShortRestFeatures),a.f.events.shortRest.remove(e.resetShortRestFeatures),a.f.feat.changed.remove(e.loadTrackedItems),a.f.trait.changed.remove(e.loadTrackedItems),a.f.feature.changed.remove(e.loadTrackedItems)},e.save=function(){e.trackables().forEach(function(e,t,n){e.tracked().save()})},e.trackedElementProgressWidth=function(e,t){return(parseInt(e)-parseInt(t))/parseInt(e)},e.shortName=function(e){return a.g.string.truncateStringAtLength(e(),15)},e.filteredAndSortedTrackables=u.a.computed(function(){return r.m.sortAndFilter(e.trackables(),e.sort(),null)}),e.sortArrow=function(t){return r.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(r.m.sortForName(e.sort(),t,e.sorts))},e.resetShortRestFeatures=function(){u.a.utils.arrayForEach(e.trackables(),function(e){e.tracked().resetsOn()===a.c.resting.shortRestEnum&&e.tracked().used(0)})},e.resetLongRestFeatures=function(){u.a.utils.arrayForEach(e.trackables(),function(e){e.tracked().used(0)})},e.maxTrackerWidth=function(){return 100/e.trackables().length},e.modifierHasFocus=u.a.observable(!1),e.editHasFocus=u.a.observable(!1),e.modalFinishedAnimating=function(){e.modifierHasFocus(!0)},e.modalFinishedClosing=function(){if(e.modalOpen()){var t=r.l.findFirstBy(i.q,"trackedId",e.editItem().trackedId());t.importValues(e.editItem().exportValues()),t.save(),e.trackables().forEach(function(e,n,a){e.trackedId()===t.trackedId()&&e.tracked().importValues(t.exportValues())})}e.dataHasChanged(),e.modalOpen(!1)},e.dataHasChanged=function(){e.save(),a.f.tracked.changed.dispatch()},e.editModalOpen=function(){e.editHasFocus(!0)},e.editTracked=function(t){e.editModalTitle(t.name()),e.editItem(new i.q),e.editItem().importValues(t.tracked().exportValues()),e.modalOpen(!0)},e.refreshTracked=function(e){e.tracked().used(0)},e.clear=function(){e.trackables([])}},template:v.a})},function(e,t){e.exports='<div class="panel panel-default">\n\t<div class=\'panel-body tight-inner\'>\n    <div class="progress" data-bind="{ foreach: trackables, visible: trackables().length > 0 }">\n      <div class="progress-bar" role="progressbar" aria-valuemin="0"\n        data-bind="style: { width: $parent.trackedElementProgressWidth(tracked().maxUses(), tracked().used()) * $parent.maxTrackerWidth() + \'%\' }, css: tracked().color()">\n        <span class="sr-only"></span>\n      </div>\n    </div>\n\t\t<table id=\'trackablesTable\' class="table table-responsive table-ac-bordered table-hover">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th class="col-sm-4 col-xs-3" data-bind="click: function(){sortBy(\'name\');}">Name\n            <i data-bind="css: sortArrow(\'name\')"></i>\n          </th>\n\t\t\t\t\t<th class="col-sm-1 hidden-xs">Max\n          </th> \x3c!-- Max --\x3e\n\t\t\t\t\t<th class="col-sm-2 hidden-sm hidden-xs">Resets on\n          </th> \x3c!-- Resets on --\x3e\n\t\t\t\t\t<th class="col-sm-4 col-xs-8 text-center">Used</th> \x3c!-- Stepper --\x3e\n\t\t\t\t\t<th class="col-xs-1">Reset</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\x3c!-- ko foreach: filteredAndSortedTrackables --\x3e\n\t\t\t\t<tr class="clickable">\n\t\t\t\t\t<td data-bind="click: $parent.editTracked"\n\t\t\t\t\tclass="feature-row table-data-overflow"\n          data-toggle="modal">\n            <span data-bind="css: tracked().color()" class="form-control pull-left color-picker-item"></span>\n  \t\t\t\t\t<span data-bind="html: $parent.shortName(name)" class="hidden-lg hidden-md"></span>\n\t\t\t\t\t\t<span data-bind="text: name" class="hidden-sm hidden-xs"></span>\n\t\t\t\t\t</td>\n\n\t\t\t\t\t<td class="col-content-vertical feature-row hidden-xs"\n            data-bind="click: $parent.editTracked" data-toggle="modal">\n\t\t\t\t\t\t<span data-bind="text: tracked().maxUses()"></span>\n\t\t\t\t\t</td>\n\n\t\t\t\t\t<td class="col-content-vertical hidden-sm hidden-xs feature-row"\n            data-bind="click: $parent.editTracked" data-toggle="modal">\n\t\t\t\t\t\t<img class="action-bar-icon"\n\t\t\t\t\t\t\tdata-bind="visible: tracked().resetsOn() === \'short\', attr: { src: $parent.meditation }"></img>\n\t\t\t\t\t\t<img class="action-bar-icon"\n\t\t\t\t\t\t\tdata-bind="visible: tracked().resetsOn() === \'long\', attr: { src: $parent.campingTent }"></img>\n\t\t\t\t\t</td>\n\n\t\t\t\t\t<td>\n            <plus-minus params="value: tracked().used, max: tracked().maxUses"></plus-minus>\n\t\t\t\t\t</td>\n\n\t\t\t\t\t<td class="col-content-vertical"> \x3c!--Refresh --\x3e\n\t\t\t\t\t\t<a data-bind="click: $parent.refreshTracked">\n\t\t\t\t\t\t\t<i class="fa fa-refresh fa-color"> </i>\n\t\t\t\t\t\t</a>\n          </td>\n\t\t\t\t</tr>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: filteredAndSortedTrackables().length == 0 --\x3e\n        <tr class="clickable">\n          <td colspan="12" class="text-center">\n            No Tracked Features, Feats, or Traits to display.\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>\n\n\x3c!-- ViewEdit Modal --\x3e\n\t<div class="modal fade" id="viewTracked" tabindex="-1" role="dialog"\n\t\taria-labelledby="viewTrackedLabel" data-bind="modal: {\n\t\topen: modalOpen, onopen: editModalOpen, onclose: modalFinishedClosing}, with: editItem">\n\t\t<div class="modal-dialog" role="document">\n\t\t\t<div class="modal-content">\n\t\t\t\t<div class="modal-header">\n\t\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;</span> </button>\n\t\t\t\t\t<h4 class="modal-title" id="addSlotLabel">\n\t\t\t\t\t\t<span data-bind="text: $parent.editModalTitle"></span>\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div class="modal-body">\n\t\t\t\t\t<form class="form-horizontal">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="bonus" class="col-sm-2 control-label">Max</label>\n\t\t\t\t\t\t<div class="col-sm-10">\n\t\t\t\t\t\t\t<input type="number" class="form-control" id="max" min="1" data-bind=\'textInput: maxUses\'>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label class="col-sm-2 control-label">Resets on...</label>\n\t\t\t\t\t\t<div class="col-sm-10">\n\t\t\t\t\t\t\t<div class="btn-group btn-group-justified" role="group">\n\t\t\t\t\t\t\t\t<label class="btn btn-default"\n\t\t\t\t\t\t\t\tdata-bind="css: { active: resetsOn() == \'short\'}">\n\t\t\t\t\t\t\t\t\t<input type="radio" class="hide-block"\n\t\t\t\t\t\t\t\t\tname="featureResetsOnShort" value="short" data-bind="checked: resetsOn"/>\n\t\t\t\t\t\t\t\t\t<img class="action-bar-icon" data-bind="attr: { src: $parent.meditationWhite }"></img>\n\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;Short Rest\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<label class="btn btn-default"\n\t\t\t\t\t\t\t\tdata-bind="css: { active: resetsOn() == \'long\'}">\n\t\t\t\t\t\t\t\t\t<input type="radio" class="hide-block"\n\t\t\t\t\t\t\t\t\tname="featureResetsOnLong" value="long" data-bind="checked: resetsOn"/>\n\t\t\t\t\t\t\t\t\t<img class="action-bar-icon" data-bind="attr: { src: $parent.campingTentWhite }"></img>\n\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;Long Rest\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="modal-footer">\n\t\t\t\t\t\t<button type="button" class="btn btn-primary" data-dismiss="modal">Done</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\x3c!-- Modal Body --\x3e\n\t\t</div>\n\x3c!-- Modal Content --\x3e\n\t</div>\n\x3c!-- Modal Dialog --\x3e\n</div>\n\x3c!-- Modal Fade --\x3e\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(6),r=n(15),o=n(39),s=n.n(o),c=n(0),l=n.n(c),d=n(40),u=n.n(d),p=n(469),f=n.n(p),h=n(22),m=n.n(h);l.a.components.register("traits",{viewModel:function(){var e=this;e.DESCRIPTION_MAX_LENGTH=45,e.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"},"race asc":{field:"race",direction:"asc"},"race desc":{field:"race",direction:"desc"}},e.traits=l.a.observableArray([]),e.blankTrait=l.a.observable(new r.y),e.blankTracked=l.a.observable(new r.x),e.modalOpen=l.a.observable(!1),e.editItemIndex=null,e.currentEditItem=l.a.observable(new r.y),e.currentEditTracked=l.a.observable(new r.x),e.sort=l.a.observable(e.sorts["name asc"]),e.filter=l.a.observable(""),e.shouldShowDisclaimer=l.a.observable(!1),e.previewTabStatus=l.a.observable("active"),e.editTabStatus=l.a.observable(""),e.firstModalElementHasFocus=l.a.observable(!1),e.editFirstModalElementHasFocus=l.a.observable(!1),e.meditation=u.a,e.campingTent=s.a,e.raceOptions=a.c.profile.raceOptions,e.load=function(){a.f.global.save.add(e.save);var t=a.a.activeCharacter().key();e.traits(i.l.findBy(r.y,"characterId",t))},e.unload=function(){a.f.global.save.remove(e.save)},e.save=function(){e.traits().forEach(function(e,t,n){e.save()})},e.traitsPrePopFilter=function(e,t){var n=e.term.toLowerCase();t((a.b.traits?Object.keys(a.b.traits):[]).filter(function(e,t,a){return e.toLowerCase().indexOf(n)>-1}))},e.populateRace=function(t,n){e.blankTrait().race(n)},e.populateRaceEdit=function(t,n){e.currentEditItem().race(n)},e.populateTrait=function(t,n){var i=a.b.traits[t];e.blankTrait().importValues(i),e.shouldShowDisclaimer(!0)},e.modalFinishedOpening=function(){e.shouldShowDisclaimer(!1),e.firstModalElementHasFocus(!0)},e.modalFinishedClosing=function(){if(e.previewTabStatus("active"),e.editTabStatus(""),e.modalOpen()){if(e.currentEditItem().isTracked())if(e.currentEditItem().trackedId()){var t=i.l.findFirstBy(r.x,"trackedId",e.currentEditItem().trackedId());t.importValues(e.currentEditTracked().exportValues()),t.save()}else e.currentEditItem().trackedId(m.a.v4()),e.addTracked(e.currentEditItem().trackedId(),e.currentEditItem().characterId(),e.currentEditTracked());else e.currentEditItem().trackedId()&&(i.l.findFirstBy(r.x,"trackedId",e.currentEditItem().trackedId()).delete(),e.currentEditItem().trackedId(null));a.g.array.updateElement(e.traits(),e.currentEditItem(),e.editItemIndex)}e.save(),e.currentEditItem(new r.y),e.currentEditTracked(new r.x),e.modalOpen(!1),a.f.trait.changed.dispatch()},e.selectPreviewTab=function(){e.previewTabStatus("active"),e.editTabStatus("")},e.selectEditTab=function(){e.editTabStatus("active"),e.previewTabStatus(""),e.editFirstModalElementHasFocus(!0)},e.filteredAndSortedTraits=l.a.computed(function(){return i.m.sortAndFilter(e.traits(),e.sort(),null)}),e.sortArrow=function(t){return i.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(i.m.sortForName(e.sort(),t,e.sorts))},e.addTrait=function(){var t=e.blankTrait();t.characterId(a.a.activeCharacter().key()),t.isTracked()&&(t.trackedId(m.a.v4()),e.addTracked(t.trackedId(),t.characterId(),e.blankTracked())),t.save(),e.traits.push(t),e.blankTrait(new r.y),e.blankTracked(new r.x)},e.addTracked=function(e,t,n){var o=new r.x;o.characterId(t),o.trackedId(e),o.maxUses(n.maxUses()),o.resetsOn(n.resetsOn()),o.type(r.y);var s=i.l.findBy(r.x,"characterId",t);o.color(a.c.general.colorList[s.length%a.c.general.colorList.length]),o.save()},e.clear=function(){e.traits([])},e.removeTrait=function(t){t.isTracked()&&i.l.findFirstBy(r.x,"trackedId",t.trackedId()).delete(),e.traits.remove(t),t.delete(),a.f.trait.changed.dispatch()},e.editTrait=function(t){e.editItemIndex=t.__id,e.currentEditItem(new r.y),e.currentEditItem().importValues(t.exportValues()),t.isTracked()&&e.currentEditTracked(i.l.findFirstBy(r.x,"trackedId",t.trackedId())),e.modalOpen(!0)},e.trackedPopoverText=function(){return"Tracked Traits are listed in the Tracker."}},template:f.a})},function(e,t){e.exports='<div class="panel panel-default bio">\n  <div class="panel-body tight-inner">\n    <table class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr>\n          <th data-bind="click: function(){sortBy(\'name\');}" class="col-md-7">\n            Trait\n            <span data-bind="css: sortArrow(\'name\')"></span>\n          </th>\n          <th data-bind="click: function(){sortBy(\'race\');}" class="col-md-4">\n            Race\n            <span data-bind="css: sortArrow(\'race\')"></span>\n          </th>\n          <th class="col-md-1">\n            <a data-toggle="modal"\n              data-target="#addTrait" href="#">\n              <i class="fa fa-plus fa-color"></i>\n            </a>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n      \x3c!-- ko foreach: filteredAndSortedTraits --\x3e\n        <tr class="clickable">\n          <td data-bind="text: name, click: $parent.editTrait" href="#"></td>\n          <td data-bind="text: race, click: $parent.editTrait" href="#"></td>\n          <td class="col-content-vertical">\n            <a data-bind="click: $parent.removeTrait" href="#">\n              <i class="fa fa-trash-o fa-color-hover">\n              </i>\n            </a>\n          </td>\n        </tr>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: filteredAndSortedTraits().length == 0 --\x3e\n        <tr class="clickable">\n          <td data-toggle="modal" data-target="#addTrait" href="#"\n            colspan="12" class="text-center">\n            <i class="fa fa-plus fa-color"></i>\n            Add a new Trait\n          </td>\n        </tr>\n        \x3c!-- /ko --\x3e\n      </tbody>\n    </table>\n  </div>\n</div>\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n     id="addTrait"\n     tabindex="-1"\n     role="dialog" data-bind="modal: {\n      onopen: modalFinishedOpening, onclose: modalFinishedClosing}">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title"\n            id="addTraitLabel">Add a new Trait.</h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label for="name" class="col-sm-2 control-label">Name</label>\n              <div class="col-sm-10">\n                <input type="text"\n                        class="form-control"\n                        id="traitName"\n                        placeholder="Trance"\n                        data-bind=\'textInput: blankTrait().name, hasFocus: firstModalElementHasFocus,\n                        autocomplete: { source: traitsPrePopFilter,\n                        onselect: populateTrait }\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label for="race" class="col-sm-2 control-label">Race</label>\n              <div class="col-sm-10">\n                <input type="text"\n                        class="form-control"\n                        id="race"\n                        placeholder="Elf"\n                        data-bind=\'textInput: blankTrait().race,\n                        autocomplete: { source: raceOptions,\n                        onselect: populateRace }\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label for="traitDescription" class="col-sm-2 control-label">Description</label>\n              <div class="col-sm-10">\n                <textarea type="password"\n                          class="form-control"\n                          id="traitDescription"\n                          rows="4"\n                          placeholder="Elves don\'t need to sleep..."\n                          data-bind=\'textInput: blankTrait().description\'>\n                </textarea>\n              </div>\n          </div>\n          <div class="form-group">\n            <label for="traitDescription" class="col-sm-3 control-label content-left">\n              <span class="fa fa-info-circle" style="cursor:pointer;"\n                      data-bind="popover: { content: trackedPopoverText }"></span>&nbsp;Tracked?</label>\n              <div class="col-sm-7">\n                <input type="checkbox"\n                         class="form-control"\n                         id="tracked"\n                         data-bind=\'checked: blankTrait().isTracked\'>\n              </div>\n          </div>\n          <div data-bind="visible: blankTrait().isTracked">\n            <div class="form-group">\n              <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:40px">\n              </div>\n              <label for="bonus" class="col-sm-2 control-label">Max</label>\n              <div class="col-sm-9">\n                <input type="number" class="form-control" id="max" min="1"\n                      data-bind=\'textInput: blankTracked().maxUses\'>\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:50px">\n              </div>\n              <label class="col-sm-2 control-label">Resets on...</label>\n              <div class="col-sm-9">\n                <div class="btn-group btn-group-justified" role="group">\n                  <label class="btn btn-default"\n                        data-bind="css: { active: blankTracked().resetsOn() == \'short\'}">\n                    <input type="radio" class="hide-block" name="blankresetsOnShort" value="short"\n                            data-bind="checked: blankTracked().resetsOn"/>\n                      <img class="action-bar-icon" data-bind="attr: { src: meditation }"></img>\n                      &nbsp;&nbsp;&nbsp;Short Rest\n                  </label>\n                  <label class="btn btn-default"\n                  data-bind="css: { active: blankTracked().resetsOn() == \'long\'}">\n                    <input type="radio" class="hide-block" name="blankresetsOnLong"\n                            value="long" data-bind="checked: blankTracked().resetsOn"/>\n                    <img class="action-bar-icon" data-bind="attr: { src: campingTent }"></img>\n                      &nbsp;&nbsp;&nbsp;Long Rest\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addTrait\'\n                    data-dismiss="modal">Add</button>\n            <p class="text-muted text-left" data-bind=\'visible: shouldShowDisclaimer\'>\n              <sm><i>This data is distributed under the\n                <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n                  target=\'_blank\'>\n                  OGL</a><br/>\n                  Open  Game  License v 1.0a  Copyright 2000, Wizards of  the Coast,  LLC.\n                </i><sm>\n            </p>\n          </div>\n        </form>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     id="viewWeapon"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      open: modalOpen,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit a Trait.</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#" aria-controls="traitModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#" aria-controls="traitModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane">\n            <div class="h3">\n              <span data-bind="text: name"></span>\n              <small data-bind="text: race"></small>\n            </div>\n            \x3c!-- ko if: isTracked --\x3e\n            <div class="row" >\n              <div class="col-sm-6 col-xs-12">\n                <b>Max Uses:</b>&nbsp;\n                <span data-bind="text: $parent.currentEditTracked().maxUses"></span>\n              </div>\n              <div class="col-sm-6 col-xs-12">\n                <b>Resets on:</b>&nbsp;\n                <span data-bind="visible: $parent.currentEditTracked().resetsOn() === \'short\'">\n                  Short Rest\n                </span>\n                <span data-bind="visible: $parent.currentEditTracked().resetsOn() === \'long\'">\n                  Long Rest\n                </span>\n              </div>\n            </div>\n            \x3c!-- /ko --\x3e\n            <hr />\n            <div class="row row-padded">\n              <div class="col-xs-12 col-padded">\n                <div data-bind="markdownPreview: description"\n                     class="preview-modal-overflow-sm">\n                </div>\n              </div>\n            </div>\n            <div class="modal-footer">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-dismiss="modal">Done</button>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="name" class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                        class="form-control"\n                        id="traitName"\n                        placeholder="Trance"\n                        data-bind=\'textInput: name, hasFocus: $parent.editFirstModalElementHasFocus\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="race" class="col-sm-2 control-label">Race</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         id="race"\n                         placeholder="Trance"\n                         data-bind=\'textInput: race,\n                        autocomplete: { source: $parent.raceOptions,\n                        onselect: $parent.populateRaceEdit }\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="traitDescription"\n                       class="col-sm-2 control-label">Description</label>\n                  <div class="col-sm-10">\n                    <textarea type="text" rows="6"\n                           class="form-control"\n                           placeholder="Elves don\'t need to sleep..."\n                           data-bind=\'value: description, markdownEditor: true\'></textarea>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="traitDescription" class="col-sm-2 control-label">Tracked?</label>\n                  <div class="col-sm-10">\n                    <input type="checkbox" class="form-control" id="tracked"\n                            data-bind=\'checked: isTracked\'>\n                  </div>\n              </div>\n              \x3c!-- ko if: isTracked --\x3e\n                <div class="form-group">\n                  <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:40px">\n                  </div>\n                  <label for="bonus" class="col-sm-2 control-label">Max</label>\n                  <div class="col-sm-9">\n                    <input type="number" class="form-control" id="max" min="1"\n                          data-bind=\'textInput: $parent.currentEditTracked().maxUses\'>\n                  </div>\n                </div>\n                <div class="form-group">\n                  <div class="col-sm-1 col-content-vertical" style="border-right:5px ridge #dce4ec;height:50px">\n                  </div>\n                  <label class="col-sm-2 control-label">Resets on...</label>\n                  <div class="col-sm-9">\n                    <div class="btn-group btn-group-justified" role="group">\n                      <label class="btn btn-default"\n                            data-bind="css: { active: $parent.currentEditTracked().resetsOn() == \'short\'}">\n                        <input type="radio" class="hide-block" name="blankresetsOnShort" value="short"\n                                data-bind="checked: $parent.currentEditTracked().resetsOn"/>\n                          <img class="action-bar-icon" data-bind="attr: { src: $parent.meditation }"></img>\n                          &nbsp;&nbsp;&nbsp;Short Rest\n                      </label>\n                      <label class="btn btn-default"\n                      data-bind="css: { active: $parent.currentEditTracked().resetsOn() != \'short\'}">\n                        <input type="radio" class="hide-block" name="blankresetsOnLong"\n                                value="long" data-bind="checked: $parent.currentEditTracked().resetsOn"/>\n                        <img class="action-bar-icon" data-bind="attr: { src: $parent.campingTent }"></img>\n                          &nbsp;&nbsp;&nbsp;Long Rest\n                      </label>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- /ko --\x3e\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n'},function(e,t,n){"use strict";var a=n(1),i=n(2),r=n(11),o=n(172),s=n.n(o),c=n(173),l=n.n(c),d=n(174),u=n.n(d),p=n(0),f=n.n(p),h=n(175),m=n.n(h),b=n(176),v=n.n(b),g=n(471),y=n.n(g);f.a.components.register("treasure",{viewModel:function(){var e=this;e.ppCoins=m.a,e.gpCoins=u.a,e.epCoins=l.a,e.spCoins=v.a,e.cpCoins=s.a,e.treasure=f.a.observable(new r.t),e.load=function(){a.f.global.save.add(e.save);var t=i.a.findFirstBy(r.t,"characterId",a.a.activeCharacter().key());t&&e.treasure(t),e.treasure().characterId(a.a.activeCharacter().key()),e.treasure().platinum.subscribe(e._dataHasChanged),e.treasure().gold.subscribe(e._dataHasChanged),e.treasure().electrum.subscribe(e._dataHasChanged),e.treasure().silver.subscribe(e._dataHasChanged),e.treasure().copper.subscribe(e._dataHasChanged)},e.unload=function(){e.treasure().save(),a.f.global.save.remove(e.save)},e.save=function(){e.treasure().save()},e.clear=function(){e.treasure().clear()},e._dataHasChanged=function(){e.treasure().save(),a.f.treasure.changed.dispatch()}},template:y.a})},function(e,t){e.exports='<div class="panel-body">\n  \x3c!-- Large devices row--\x3e\n  <div class="visible-lg-block">\n    <div class="row row-padded">\n      <div class="col-sm-2 col-md-offset-1 coin-input">\n        <div class="input-group">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: ppCoins }" width="30px" title="Platinum Coins" alt="Platinum Coins"/>\n          </span>\n          <input type="number" class="form-control coin-input" min="0"\n            data-bind=\'value: treasure().platinum\'/>\n        </div>\n      </div>\n      <div class="col-sm-2 coin-input">\n        <div class="input-group">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: gpCoins }" width="30px" title="Gold Coins" alt="Gold Coins"/>\n          </span>\n          <input type="number" class="form-control" min="0"\n            data-bind=\'value: treasure().gold\'/>\n        </div>\n      </div>\n      <div class="col-sm-2 coin-input">\n        <div class="input-group ">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: epCoins }" width="30px" title="Electrum Coins" alt="Electrum Coins"/>\n          </span>\n          <input type="number" class="form-control coin-input" min="0"\n            data-bind=\'value: treasure().electrum\'>\n        </div>\n      </div>\n      <div class="col-sm-2 coin-input">\n        <div class="input-group ">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: spCoins }" width="30px" title="Silver Coins" alt="Silver Coins"/>\n          </span>\n          <input type="number" class="form-control coin-input" min="0"\n            data-bind=\'value: treasure().silver\'>\n        </div>\n      </div>\n      <div class="col-sm-2 coin-input">\n        <div class="input-group">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: cpCoins }" width="30px" title="Copper Coins" alt="Copper Coins"/>\n          </span>\n          <input type="number" class="form-control coin-input" min="0"\n            data-bind=\'value: treasure().copper\'>\n        </div>\n      </div>\n    </div>\n  </div>\x3c!-- End lg row--\x3e\n  \x3c!-- Small/Medium devices row --\x3e\n  <div class="visible-md-block visible-sm-block">\n    <div class="row row-padded">\n      <div class="col-sm-4">\n        <div class="input-group ">\n          <span class="input-group-addon no-top-bottom-padding">\n              <img data-bind="attr: { src: ppCoins }" width="30px" title="Platinum Coins" alt="Platinum Coins"/>\n          </span>\n          <input type="number" class="form-control" min="1"\n            data-bind=\'value: treasure().platinum\'/>\n        </div>\n      </div>\n      <div class="col-sm-4">\n        <div class="input-group ">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: gpCoins }" width="30px" title="Gold Coins" alt="Gold Coins"/>\n          </span>\n          <input type="number" class="form-control" min="1"\n            data-bind=\'value: treasure().gold\'/>\n        </div>\n      </div>\n      <div class="col-sm-4">\n        <div class="input-group ">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: epCoins }" width="30px" title="Electrum Coins" alt="Electrum Coins"/>\n          </span>\n          <input type="number" class="form-control" min="1"\n            data-bind=\'value: treasure().electrum\'>\n        </div>\n      </div>\n    </div>\n    <div class="row row-padded">\n      <div class="col-sm-6">\n        <div class="input-group ">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: spCoins }" width="30px" title="Silver Coins" alt="Silver Coins"/>\n          </span>\n        <input type="number" class="form-control" min="1"\n          data-bind=\'value: treasure().silver\'>\n        </div>\n      </div>\n      <div class="col-sm-6">\n        <div class="input-group">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: cpCoins }" width="30px" title="Copper Coins" alt="Copper Coins"/>\n          </span>\n          <input type="number" class="form-control" min="1"\n              data-bind=\'value: treasure().copper\'>\n        </div>\n      </div>\n    </div>\n  </div> \x3c!-- end mg/sm row--\x3e\n  \x3c!-- xs device row--\x3e\n  <div class="visible-xs-block">\n    <div class="row row-padded">\n      <div class="col-sm-12 row-padded">\n        <div class="input-group ">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: ppCoins }" width="30px" title="Platinum Coins" alt="Platinum Coins"/>\n          </span>\n          <input type="number" class="form-control" min="1"\n            data-bind=\'value: treasure().platinum\'/>\n        </div>\n      </div>\n      <div class="col-sm-12 row-padded">\n        <div class="input-group ">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: gpCoins }" width="30px" title="Gold Coins" alt="Gold Coins"/>\n          </span>\n          <input type="number" class="form-control" min="1"\n            data-bind=\'value: treasure().gold\'/>\n        </div>\n      </div>\n      <div class="col-sm-12 row-padded">\n        <div class="input-group ">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: epCoins }" width="30px" title="Electrum Coins" alt="Electrum Coins"/>\n          </span>\n          <input type="number" class="form-control" min="1"\n            data-bind=\'value: treasure().electrum\'>\n        </div>\n      </div>\n      <div class="col-sm-12 row-padded">\n        <div class="input-group ">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: spCoins }" width="30px" title="Silver Coins" alt="Silver Coins"/>\n          </span>\n          <input type="number" class="form-control" min="1"\n            data-bind=\'value: treasure().silver\'>\n        </div>\n      </div>\n      <div class="col-sm-12 row-padded">\n        <div class="input-group">\n          <span class="input-group-addon no-top-bottom-padding">\n            <img data-bind="attr: { src: cpCoins }" width="30px" title="Copper Coins" alt="Copper Coins"/>\n          </span>\n          <input type="number" class="form-control" min="1"\n            data-bind=\'value: treasure().copper\'>\n        </div>\n      </div>\n    </div>\n  </div>\x3c!-- End lg row--\x3e\n</div> \x3c!-- end panel body  --\x3e\n<div class="container-fluid panel-footer">\n    <span class="pull-left">\n      Total gold:&nbsp;\n      <span data-bind=\'text: treasure().worthInGold\'>\n      </span>\n      &nbsp;(gp)\n    </span>\n    <span class="pull-right">Total weight:&nbsp;\n      <span data-bind="text: treasure().totalWeightLabel"></span>\n    </span>\n</div> \x3c!-- end panel footer --\x3e\n'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(6),r=n(11),o=n(0),s=n.n(o),c=n(473),l=n.n(c);s.a.components.register("weapons",{viewModel:function(){var e=this;e.blankWeapon=s.a.observable(new r.u),e.weapons=s.a.observableArray([]),e.modalOpen=s.a.observable(!1),e.editItemIndex=null,e.currentEditItem=s.a.observable(new r.u),e.shouldShowDisclaimer=s.a.observable(!1),e.previewTabStatus=s.a.observable("active"),e.editTabStatus=s.a.observable(""),e.firstModalElementHasFocus=s.a.observable(!1),e.editFirstModalElementHasFocus=s.a.observable(!1),e.currencyDenominationList=s.a.observableArray(a.c.general.currencyDenominationList),e.sorts={"weaponName asc":{field:"weaponName",direction:"asc"},"weaponName desc":{field:"weaponName",direction:"desc"},"totalBonus asc":{field:"totalBonus",direction:"asc",numeric:!0},"totalBonus desc":{field:"totalBonus",direction:"desc",numeric:!0},"weaponDmg asc":{field:"weaponDmg",direction:"asc"},"weaponDmg desc":{field:"weaponDmg",direction:"desc"},"weaponRange asc":{field:"weaponRange",direction:"asc"},"weaponRange desc":{field:"weaponRange",direction:"desc"},"weaponDamageType asc":{field:"weaponDamageType",direction:"asc"},"weaponDamageType desc":{field:"weaponDamageType",direction:"desc"},"weaponProperty asc":{field:"weaponProperty",direction:"asc"},"weaponProperty desc":{field:"weaponProperty",direction:"desc"},"weaponQuantity asc":{field:"weaponQuantity",direction:"asc"},"weaponQuantity desc":{field:"weaponQuantity",direction:"desc"}},e.filter=s.a.observable(""),e.sort=s.a.observable(e.sorts["weaponName asc"]),e.load=function(){a.f.global.save.add(e.save);var t=a.a.activeCharacter().key();e.weapons(i.l.findBy(r.u,"characterId",t)),a.f.abilityScores.changed.add(e.valueHasChanged),a.f.stats.changed.add(e.valueHasChanged)},e.unload=function(){e.save(),e.weapons([]),a.f.abilityScores.changed.remove(e.valueHasChanged),a.f.stats.changed.remove(e.valueHasChanged),a.f.global.save.remove(e.save)},e.save=function(){e.weapons().forEach(function(e,t,n){e.save()})},e.totalWeight=s.a.pureComputed(function(){var t=0;return e.weapons().length>0&&e.weapons().forEach(function(e,n,a){t+=e.weaponWeight()?parseInt(e.weaponWeight()):0}),t+" (lbs)"}),e.filteredAndSortedWeapons=s.a.computed(function(){return i.m.sortAndFilter(e.weapons(),e.sort(),null)}),e.sortArrow=function(t){return i.m.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(i.m.sortForName(e.sort(),t,e.sorts))},e.populateWeapon=function(t,n){var i=a.b.weapons[t];e.blankWeapon().importValues(i),e.shouldShowDisclaimer(!0)},e.modalFinishedOpening=function(){e.shouldShowDisclaimer(!1),e.firstModalElementHasFocus(!0)},e.modalFinishedClosing=function(){e.previewTabStatus("active"),e.editTabStatus(""),e.modalOpen()&&a.g.array.updateElement(e.weapons(),e.currentEditItem(),e.editItemIndex),e.save(),e.modalOpen(!1),a.f.weapon.changed.dispatch()},e.selectPreviewTab=function(){e.previewTabStatus("active"),e.editTabStatus("")},e.selectEditTab=function(){e.editTabStatus("active"),e.previewTabStatus(""),e.editFirstModalElementHasFocus(!0)},e.weaponsPrePopFilter=function(e,t){var n=e.term.toLowerCase();t((a.b.weapons?Object.keys(a.b.weapons):[]).filter(function(e,t,a){return e.toLowerCase().indexOf(n)>-1}))},e.addWeapon=function(){var t=e.blankWeapon();t.characterId(a.a.activeCharacter().key()),t.save(),e.weapons.push(t),e.blankWeapon(new r.u),a.f.weapon.changed.dispatch()},e.removeWeapon=function(t){e.weapons.remove(t),t.delete(),a.f.weapon.changed.dispatch()},e.editWeapon=function(t){e.editItemIndex=t.__id,e.currentEditItem(new r.u),e.currentEditItem().importValues(t.exportValues()),e.modalOpen(!0)},e.clear=function(){e.weapons([]),a.f.weapon.changed.dispatch()},e.valueHasChanged=function(){e.weapons().forEach(function(e,t,n){e.updateValues()}),a.f.weapon.changed.dispatch()}},template:l.a})},function(e,t){e.exports='<div class="panel panel-default">\n  <div class="panel-body tight-inner">\n    <table class="table table-responsive table-ac-bordered table-hover">\n      <thead>\n        <tr>\n          <th data-bind="click: function(){sortBy(\'weaponName\');}">\n            Weapon\n            <span data-bind="css: sortArrow(\'weaponName\')"></span>\n          </th>\n          <th data-bind="click: function(){sortBy(\'totalBonus\');}">\n             To Hit\n             <span data-bind="css: sortArrow(\'totalBonus\')"></span>\n          </th>\n          <th data-bind="click: function(){sortBy(\'weaponDmg\');}">\n            Damage\n            <span data-bind="css: sortArrow(\'weaponDmg\')"></span>\n          </th>\n          <th class="hidden-sm hidden-xs hidden-md"\n            data-bind="click: function(){sortBy(\'weaponDamageType\');}">\n            Damage Type\n            <span data-bind="css: sortArrow(\'weaponDamageType\')"></span>\n          </th>\n          <th class="hidden-sm hidden-xs"\n            data-bind="click: function(){sortBy(\'weaponRange\');}">\n            Range\n            <span data-bind="css: sortArrow(\'weaponRange\')"></span>\n          </th>\n          <th class="hidden-sm hidden-xs hidden-md"\n            data-bind="click: function(){sortBy(\'weaponProperty\');}">\n            Property\n            <span data-bind="css: sortArrow(\'weaponProperty\')"></span>\n          </th>\n          <th class="hidden-sm hidden-xs"\n            data-bind="click: function(){sortBy(\'weaponQuantity\');}">\n            Quantity\n            <span data-bind="css: sortArrow(\'weaponQuantity\')"></span>\n          </th>\n          <th>\n            <a data-toggle="modal"\n               data-target="#addWeapon" href="#">\n              <i class="fa fa-plus fa-color"></i>\n            </a>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n      \x3c!-- ko foreach: filteredAndSortedWeapons --\x3e\n        <tr class="clickable">\n          <td data-bind="click: $parent.editWeapon"\n              href="#">\n              <span data-bind="text: weaponName">\n              </span>&nbsp;\n              <span data-bind="text: magicalModifierLabel, css: { badge: applyMagicalModifierLabel }">\n              </span>\n          </td>\n          <td data-bind="text: hitBonusLabel, click: $parent.editWeapon"\n              href="#"></td>\n          <td data-bind="text: weaponDmg, click: $parent.editWeapon"\n              href="#"></td>\n          <td class="hidden-sm hidden-xs hidden-md"\n              data-bind="text: weaponDamageType, click: $parent.editWeapon"\n              href="#"></td>\n          <td class="hidden-sm hidden-xs"\n              data-bind="text: weaponRangeLabel, click: $parent.editWeapon"\n              href="#"></td>\n          <td class="hidden-sm hidden-xs hidden-md"\n              data-bind="text: weaponProperty, click: $parent.editWeapon"\n              href="#"></td>\n          <td class="hidden-sm hidden-xs"\n              data-bind="text: weaponQuantity, click: $parent.editWeapon"\n              href="#"></td>\n          <td>\n            <a data-bind="click: $parent.removeWeapon" href="#">\n              <i class="fa fa-trash-o fa-color-hover">\n              </i>\n            </a>\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: filteredAndSortedWeapons().length == 0 --\x3e\n        <tr class="clickable">\n          <td data-toggle="modal" data-target="#addWeapon" href="#"\n            colspan="12" class="text-center">\n            <i class="fa fa-plus fa-color"></i>\n            Add a new weapon\n          </td>\n        </tr>\n      \x3c!-- /ko --\x3e\n      </tbody>\n    </table>\n    </div> \x3c!-- end panel body --\x3e\n    <div class="container-fluid panel-footer">\n      <span class="pull-right">Total weight:&nbsp;\n        <span data-bind="text: totalWeight"></span>\n      </span>\n    </div> \x3c!-- end panel footer --\x3e\n    \x3c!-- Add Modal --\x3e\n    <div class="modal fade"\n         id="addWeapon"\n         tabindex="-1"\n         role="dialog"\n         data-bind="modal: { onopen: modalFinishedOpening }"\n         aria-labelledby="addWeaponLabel">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button"\n                    class="close"\n                    data-dismiss="modal"\n                    aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="addWeaponLabel">Add a weapon to your arsenal.</h4>\n        </div>\n          <div class="modal-body">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="weaponName"\n                       class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         id="weaponName"\n                         placeholder="Short Sword"\n                         data-bind=\'textInput: blankWeapon().weaponName, autocomplete: {\n                          source: weaponsPrePopFilter, onselect: populateWeapon},\n                          hasFocus: firstModalElementHasFocus\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponDmg"\n                       class="col-sm-2 control-label">Damage</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           id="weaponDmg"\n                           placeholder="1D4"\n                           data-bind=\'textInput: blankWeapon().weaponDmg\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponHit"\n                       class="col-sm-2 control-label">Magical Modifier</label>\n                <div class="col-sm-10">\n                  <input type="number" class="form-control"\n                         id="weaponHit"\n                         placeholder="Place magical modifier here"\n                         data-bind=\'textInput: blankWeapon().weaponHit\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponToHitModifier"\n                       class="col-sm-2 control-label">To Hit Modifier</label>\n                <div class="col-sm-10">\n                  <input type="number" class="form-control"\n                         id="weaponToHitModifier"\n                         placeholder="Adjust to hit modifier here"\n                         data-bind=\'textInput: blankWeapon().weaponToHitModifier\'>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponType"\n                       class="col-sm-2 control-label">Type</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankWeapon().weaponTypeOptions,\n                                     value: blankWeapon().weaponType,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponHandedness"\n                       class="col-sm-2 control-label">Handedness</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankWeapon().weaponHandednessOptions,\n                                     value: blankWeapon().weaponHandedness,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponProficiency"\n                       class="col-sm-2 control-label">Proficiency</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankWeapon().weaponProficiencyOptions,\n                                     value: blankWeapon().weaponProficiency,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponPrice"\n                       class="col-sm-2 control-label">Price</label>\n                <div class="col-sm-10">\n                  <div class="input-group">\n                    <input type="number" min="0" class="form-control input-select2-addon"\n                         id="weaponPrice"\n                         placeholder="5"\n                         data-bind=\'textInput: blankWeapon().weaponPrice\'>\n                         <span data-bind="console.log($parent.id)"></span>\n                     <span class="input-group-addon">\n                      <select class="form-control"\n                      data-bind="options: currencyDenominationList,\n                      value: blankWeapon().weaponCurrencyDenomination,\n                      select2: {theme: \'classic\'}"></select>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponWeight"\n                       class="col-sm-2 control-label">Weight</label>\n                  <div class="col-sm-10">\n                    <input type="number" min="0" class="form-control"\n                           id="weaponWeight"\n                           placeholder="6"\n                           data-bind=\'textInput: blankWeapon().weaponWeight\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponRange"\n                       class="col-sm-2 control-label">Range</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           id="weaponRange"\n                           placeholder="25/100"\n                           data-bind=\'textInput: blankWeapon().weaponRange\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponDamageType"\n                       class="col-sm-2 control-label">Damage Type</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankWeapon().weaponDamageTypeOptions,\n                                     value: blankWeapon().weaponDamageType,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponProperty"\n                       class="col-sm-2 control-label">Property</label>\n                  <div class="col-sm-10">\n                  <select class="form-control"\n                          data-bind="options: blankWeapon().weaponPropertyOptions,\n                                     value: blankWeapon().weaponProperty,\n                                     select2: {theme: \'classic\'}"></select>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label for="weaponQuantity"\n                       class="col-sm-2 control-label">Quantity</label>\n                  <div class="col-sm-10">\n                    <input type="number" min="0" class="form-control"\n                           id="weaponQuantity"\n                           placeholder="1"\n                           data-bind=\'textInput: blankWeapon().weaponQuantity\'>\n                  </div>\n              </div>\n\n              <div class="form-group">\n                <label for="weaponDescription"\n                       class="col-sm-2 control-label">Description</label>\n                  <div class="col-sm-10">\n                    <textarea type="password"\n                              class="form-control"\n                              id="weaponDescription"\n                              rows="4"\n                              placeholder="A sword...that is short..."\n                              data-bind=\'textInput: blankWeapon().weaponDescription\'>\n                    </textarea>\n                  </div>\n              </div>\n            </form>\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-default"\n                        data-dismiss="modal">Cancel</button>\n                <button type="button"\n                        class="btn btn-primary"\n                        data-bind=\'click: addWeapon\'\n                        data-dismiss="modal">Add</button>\n                <p class="text-muted text-left" data-bind=\'visible: shouldShowDisclaimer\'>\n                  <sm><i>This data is distributed under the\n                    <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n                      target=\'_blank\'>\n                      OGL</a><br/>\n                      Open  Game  License v 1.0a  Copyright 2000, Wizards of  the Coast,  LLC.\n                    </i><sm>\n                </p>\n              </div>\n          </div> \x3c!-- Modal Body --\x3e\n        </div> \x3c!-- Modal Content --\x3e\n      </div> \x3c!-- Modal Dialog --\x3e\n    </div> \x3c!-- Modal Fade --\x3e\n\n    \x3c!-- ViewEdit Modal --\x3e\n    <div class="modal fade"\n         id="viewWeapon"\n         tabindex="-1"\n         role="dialog"\n         aria-labelledby="viewWeaponLabel"\n         data-bind="modal: {\n           open: modalOpen,\n           onopen: modalFinishedOpening,\n           onclose: modalFinishedClosing\n        }">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button"\n                    class="close"\n                    data-dismiss="modal"\n                    aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="viewWeaponLabel">View a weapon from your arsenal.</h4>\n        </div>\n          <div class="modal-body">\n            \x3c!-- Begin Tabs --\x3e\n            <ul class="nav nav-tabs tabs">\n              <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n                <a href="#weaponsModalPreview" aria-controls="weaponsModalPreview" role="tab" data-toggle="tab">\n                    <b>Preview</b>\n                </a>\n              </li>\n              <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n                <a href="#weaponsModalEdit" aria-controls="weaponsModalEdit" role="tab" data-toggle="tab">\n                    <b>Edit</b>\n                </a>\n              </li>\n            </ul>\n            <div class="tab-content" data-bind="with: currentEditItem">\n              <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane" id="weaponsModalPreview">\n                <div class="h3">\n                  <span data-bind="text: weaponName"></span>\n                  <small data-bind="text: magicalModifierLabel"></small>\n                </div>\n                <hr />\n                <div class="row">\n                  <div class="col-sm-6 col-xs-12"><b>Damage:</b>&nbsp;<span data-bind="text: weaponDmg"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>To Hit Modifier:</b>&nbsp;<span data-bind="text: toHitModifierLabel"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Range:</b>&nbsp;<span data-bind="text: weaponRangeLabel"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Type:</b>&nbsp;<span data-bind="text: weaponType"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Weight:</b>&nbsp;<span data-bind="text: weaponWeightLabel"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Damage Type:</b>&nbsp;<span data-bind="text: weaponDamageType"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Proficiency:</b>&nbsp;<span data-bind="text: weaponProficiency"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Handedness:</b>&nbsp;<span data-bind="text: weaponHandedness"></span></div>\n                  <div class="col-sm-6 col-xs-12"><b>Property:</b>&nbsp;<span data-bind="text: weaponProperty"></span></div>\n                </div>\n                <hr />\n                <h4>Description</h4>\n                <div class="row row-padded">\n                  <div class="col-xs-12 col-padded">\n                    <div data-bind="html: weaponDescriptionHTML"\n                         class="preview-modal-overflow">\n                    </div>\n                  </div>\n                </div>\n                <div class="modal-footer">\n                  <button type="button"\n                          class="btn btn-primary"\n                          data-dismiss="modal">Done</button>\n                </div>\n              </div> \x3c!-- End Preview Tab --\x3e\n              <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane" id="weaponsModalEdit">\n                <form class="form-horizontal">\n                  <div class="form-group">\n                    <label for="weaponName"\n                           class="col-sm-2 control-label">Name</label>\n                    <div class="col-sm-10">\n                      <input type="text"\n                             class="form-control"\n                             id="weaponName"\n                             placeholder="Short Sword"\n                             data-bind=\'textInput: weaponName,\n                             hasFocus: $parent.editFirstModalElementHasFocus\'>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="weaponDmg"\n                           class="col-sm-2 control-label">Damage</label>\n                      <div class="col-sm-10">\n                        <input type="text"\n                               class="form-control"\n                               id="weaponDmg"\n                               placeholder="1D4"\n                               data-bind=\'textInput: weaponDmg\'>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="weaponHit"\n                           class="col-sm-2 control-label">Magical Modifier</label>\n                    <div class="col-sm-10">\n                      <input type="number" class="form-control"\n                             id="weaponHit"\n                             placeholder="Place magical modifier here"\n                             data-bind=\'textInput: weaponHit\'>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="weaponToHitModifier"\n                           class="col-sm-2 control-label">To Hit Modifier</label>\n                    <div class="col-sm-10">\n                      <input type="number" class="form-control"\n                             id="weaponToHitModifier"\n                             placeholder="Adjust to hit modifier here"\n                             data-bind=\'textInput: weaponToHitModifier\'>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="weaponType"\n                           class="col-sm-2 control-label">Type</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: weaponTypeOptions,\n                                         value: weaponType,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="weaponHandedness"\n                           class="col-sm-2 control-label">Handedness</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: weaponHandednessOptions,\n                                         value: weaponHandedness,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="weaponProficiency"\n                           class="col-sm-2 control-label">Proficiency</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: weaponProficiencyOptions,\n                                         value: weaponProficiency,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="weaponPrice"\n                           class="col-sm-2 control-label">Price</label>\n                    <div class="col-sm-10">\n                      <div class="input-group">\n                        <input type="number" min="0" class="form-control input-select2-addon"\n                             id="weaponPrice"\n                             placeholder="5"\n                             data-bind=\'textInput: weaponPrice\'>\n                         <span class="input-group-addon">\n                          <select class="form-control"\n                                  data-bind="options: $parent.currencyDenominationList,\n                                             value: weaponCurrencyDenomination,\n                                             select2: {theme: \'classic\'}"></select>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="weaponWeight"\n                           class="col-sm-2 control-label">Weight</label>\n                      <div class="col-sm-10">\n                        <input type="number" min="0" class="form-control"\n                               id="weaponWeight"\n                               placeholder="6"\n                               data-bind=\'textInput: weaponWeight\'>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="weaponRange"\n                           class="col-sm-2 control-label">Range</label>\n                      <div class="col-sm-10">\n                        <input type="text"\n                               class="form-control"\n                               id="weaponRange"\n                               placeholder="25/100"\n                               data-bind=\'textInput: weaponRange\'>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="weaponDamageType"\n                           class="col-sm-2 control-label">Damage Type</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: weaponDamageTypeOptions,\n                                         value: weaponDamageType,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                      </div>\n                    <div class="form-group">\n                    <label for="weaponProperty"\n                           class="col-sm-2 control-label">Property</label>\n                      <div class="col-sm-10">\n                      <select class="form-control"\n                              data-bind="options: weaponPropertyOptions,\n                                         value: weaponProperty,\n                                         select2: {theme: \'classic\'}"></select>\n                      </div>\n                  </div>\n\n                  <div class="form-group">\n                    <label for="weaponQuantity"\n                           class="col-sm-2 control-label">Quantity</label>\n                      <div class="col-sm-10">\n                        <input type="number" min="0" class="form-control"\n                               id="weaponQuantity"\n                               placeholder="1"\n                               data-bind=\'textInput: weaponQuantity\'>\n                      </div>\n                  </div>\n\n                  <div class="form-group">\n                    <label for="weaponDescription"\n                           class="col-sm-2 control-label">Description</label>\n                      <div class="col-sm-10">\n                        <textarea type="password"\n                                  class="form-control"\n                                  id="weaponDescription"\n                                  rows="4"\n                                  placeholder="A sword...that is short..."\n                                  data-bind=\'textInput: weaponDescription\'>\n                        </textarea>\n                      </div>\n                  </div>\n                  <div class="modal-footer">\n                    <button type="button"\n                            class="btn btn-primary"\n                            data-dismiss="modal">Done</button>\n                  </div>\n                </form>\n              </div> \x3c!-- End Edit Tab --\x3e\n            </div> \x3c!-- End Tab Content --\x3e\n          </div> \x3c!-- Modal Body --\x3e\n        </div> \x3c!-- Modal Content --\x3e\n      </div> \x3c!-- Modal Dialog --\x3e\n    </div> \x3c!-- Modal Fade --\x3e\n</div> \x3c!-- Panel --\x3e\n'},function(e,t,n){"use strict";n(475);var a=n(17),i=n(20),r=n(1),o=n(28),s=n(0),c=n.n(s),l=n(476),d=n.n(l);c.a.components.register("other-stats",{viewModel:function(){var e=this;e.otherStats=c.a.observable(new a.j),e.armorClass=c.a.observable(),e.level=c.a.observable(""),e.experience=c.a.observable(""),e._dummy=c.a.observable(),e.initiativeLabel=c.a.observable(),e.initiativePopover=c.a.observable(),e.proficiencyPopover=c.a.observable(),e.armorClassPopover=c.a.observable(),e.load=function(){var t=r.a.activeCharacter().key(),n=i.l.findBy(a.j,"characterId",t);n.length>0?e.otherStats(n[0]):e.otherStats(new a.j),e.otherStats().characterId(t);var o=i.l.findBy(a.l,"characterId",t)[0];o&&(e.level(o.level()),e.experience(o.exp())),e.calculateInitiativeLabel(),e.otherStats().proficiency.subscribe(e.proficiencyHasChanged),e.otherStats().inspiration.subscribe(e.inspirationHasChanged),e.otherStats().initiative.subscribe(e.initiativeHasChanged),e.otherStats().armorClassModifier.subscribe(e.armorClassModifierDataHasChanged),e.otherStats().speed.subscribe(e.dataHasChanged),e.level.subscribe(e.levelDataHasChanged),e.experience.subscribe(e.experienceDataHasChanged),r.f.profile.changed.add(e._dummy.valueHasMutated),r.f.armorClass.changed.add(e.updateArmorClass),r.f.abilityScores.dexterity.changed.add(e.calculateInitiativeLabel)},e.calculatedProficiencyLabel=c.a.pureComputed(function(){e._dummy();var t=i.m.sharedService(),n=t.proficiencyBonusByLevel(),a=t.proficiencyModifier();return e.updateProficiencyPopoverMessage(n,a),i.m.sharedService().proficiency()}),e.updateProficiencyPopoverMessage=function(t,n){e.proficiencyPopover('<span style="white-space:nowrap;"><strong>Proficiency</strong> = (<strong>Level</strong> / 4) + 1 + <strong>Modifier</strong></span><br />Proficiency = '+t+" + 1 + "+n)},e.calculateInitiativeLabel=function(){var t=r.a.activeCharacter().key(),n=i.l.findFirstBy(a.a,"characterId",t),s=Object(o.b)(n.dex())?Object(o.b)(n.dex()):0,c=e.otherStats().initiative()?parseInt(e.otherStats().initiative()):0;e.updateInitiativePopoverMessage(s,c),e.initiativeLabel(s+c)},e.updateInitiativePopoverMessage=function(t,n){e.initiativePopover('<span style="white-space:nowrap;"><strong>Initiative</strong> = Dexterity Modifier + Modifier</span><br />Initiative = '+t+" + "+n)},e.updateArmorClassPopoverMessage=function(t,n){var o=i.a.sharedService(),s=o.baseArmorClass(),c=o.dexBonus(),l=o.equippedArmorMagicalModifier()+o.equippedShieldMagicalModifier(),d=o.hasShield()?o.getEquippedShieldBonus():0,u=i.l.findFirstBy(a.j,"characterId",r.a.activeCharacter().key()),p=0;u&&(p=u.armorClassModifier()?u.armorClassModifier():0),e.armorClassPopover("<span><strong>Armor Class</strong> = Base AC + Dexterity Modifier + Magical Modifier(s) + Shield + Modifier</span><br /><strong>Armor Class</strong> = "+s+" + "+c+" + "+l+" + "+d+" + "+p)},e.updateArmorClass=function(){e.updateArmorClassPopoverMessage(),e.armorClass(i.a.sharedService().armorClass())},e.inspirationHasChanged=function(){e.otherStats().save(),r.f.otherStats.inspiration.changed.dispatch()},e.dataHasChanged=function(){e.otherStats().save()},e.initiativeHasChanged=function(){e.otherStats().save(),e.calculateInitiativeLabel()},e.armorClassModifierDataHasChanged=function(){e.otherStats().save(),r.f.stats.armorClassModifier.changed.dispatch()},e.levelDataHasChanged=function(){var t=i.l.findFirstBy(a.l,"characterId",r.a.activeCharacter().key());t.level(e.level()),t.save(),r.f.profile.level.changed.dispatch()},e.experienceDataHasChanged=function(){var t=i.l.findFirstBy(a.l,"characterId",r.a.activeCharacter().key());t.exp(e.experience()),t.save(),r.f.profile.experience.changed.dispatch()},e.proficiencyHasChanged=function(){e.otherStats().save(),r.f.otherStats.proficiency.changed.dispatch()}},template:d.a})},function(e,t,n){"use strict";var a=n(0),i=n.n(a);i.a.bindingHandlers.popover={init:function(e,t){var n=i.a.utils.unwrapObservable(t()),a={};i.a.utils.extend(a,i.a.bindingHandlers.popover.options),i.a.utils.extend(a,n),$(e).popover(a),i.a.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).popover("destroy")})},options:{placement:"top",html:!0}}},function(e,t){e.exports='\x3c!--AC, Initiative, Speed--\x3e\n <div class="row">\n   <div class="col-md-6 col-padded">\n     <div class="input-group">\n       <span class="input-group-addon" id="basic-addon2">AC&nbsp;\n          <span class="fa fa-info-circle" style="cursor:pointer;" data-bind="popover: { content: armorClassPopover }"></span>\n       </span>\n       <span class="input-group-addon" id="basic-addon3" data-bind="text: armorClass"></span>\n       <input type="number" class="form-control" aria-describedby="basic-addon2" data-bind="value: otherStats().armorClassModifier">\n     </div>\n   </div>\n   <div class="col-md-6 col-padded">\n     <div class="input-group">\n       <span class="input-group-addon" id="basic-addon2">\n        Proficiency Bonus&nbsp;\n         <span class="fa fa-info-circle" style="cursor:pointer;" data-bind="popover: { content: proficiencyPopover }"></span>\n      </span>\n       <span class="input-group-addon" id="basic-addon3" data-bind="text: calculatedProficiencyLabel"></span>\n       <input type="number" class="form-control" aria-describedby="basic-addon2" data-bind="value: otherStats().proficiency">\n     </div>\n   </div>\n </div>\n <div class="row">\n   <div class="col-md-6 col-padded">\n     <div class="input-group">\n       <span class="input-group-addon" id="basic-addon2">Initiative&nbsp;\n          <span class="fa fa-info-circle" style="cursor:pointer;" data-bind="popover: { content: initiativePopover }"></span>\n       </span>\n       <span class="input-group-addon" id="basic-addon3" data-bind="text: initiativeLabel"></span>\n       <input type="number" class="form-control" aria-describedby="basic-addon2" data-bind="value: otherStats().initiative">\n     </div>\n   </div>\n   <div class="col-md-6 col-padded">\n     <div class="input-group">\n       <span class="input-group-addon" id="basic-addon2">Speed</span>\n       <input type="number" class="form-control" aria-describedby="basic-addon2" data-bind="value: otherStats().speed" min="0">\n     </div>\n   </div>\n </div>\n \x3c!--  Level and exp --\x3e\n <div class="row">\n   <div class="col-md-6 col-padded">\n     <div class="input-group">\n       <span class="input-group-addon" id="basic-addon2">Level</span>\n       <input type="number" class="form-control" aria-describedby="basic-addon2"\n        data-bind="value: level" min="0">\n     </div>\n   </div>\n   <div class="col-md-6 col-padded">\n     <div class="input-group">\n       <span class="input-group-addon" id="basic-addon2">Experience</span>\n       <input type="number" class="form-control" aria-describedby="basic-addon2"\n        data-bind="value: experience" min="0">\n     </div>\n   </div>\n </div>\n <div class="row">\n   <div class="col-md-6 col-padded">\n     <div class="input-group">\n       <span class="input-group-addon" id="basic-addon2">Inspiration</span>\n       <input type="number" class="form-control" aria-describedby="basic-addon2" data-bind="value: otherStats().inspiration" min="0">\n     </div>\n   </div>\n </div>\n'},function(e,t,n){"use strict";n(177),n(178),n(480),n(179),n(483),n(485),n(494),n(496),n(498),n(500),n(502),n(504),n(180),n(506);var a=n(508);n.n(a),n(509),n(511),n(513),n(516),n(183),n(543),n(548),n(561)},function(e,t){e.exports='<div class="container-fluid">\n  <div class="row" style="margin-top:50px;">\n    <div class="col-sm-12 col-md-5 col-md-offset-2 text-center">\n      <div class="h2">\n        Characters and Games\n        <br />\n        <small>Which of your characters/campaigns would you like to use?</small>\n      </div>\n      <div class="container-fluid text-left">\n        <div class="col-sm-12">\n          <div class="list-group">\n            \x3c!-- ko foreach: characters --\x3e\n            <a href="#" class="list-group-item"\n                data-bind="click: $parent.changeCharacter">\n              <div class="row">\n                <div class="col-xs-2">\n                  <img data-bind="attr: { src: playerImage }" class="img img-circle" width="60"\n                    height="60" style="margin-top: 7px;" />\n                </div>\n                <div class="col-xs-10">\n                  <span class="lead" data-bind=\'text: playerTitle\'></span>\n                  <small>\n                    by <span data-bind=\'text: playerAuthor\'></span>\n                  </small>\n                  <div>\n                    <small data-bind=\'text: playerSummary\'></small>\n                  </div>\n                </div>\n              </div>\n            </a>\n            \x3c!-- /ko --\x3e\n            <a href="#" class="list-group-item" data-bind="click: showWizard">\n              <div class="row">\n                <div class="col-xs-12 text-center">\n                  <i class="fa fa-plus"></i>&nbsp;\n                  Create a new Character/Campaign or Import an Existing One\n                </div>\n              </div>\n            </a>\n          </div>\n          <div class="panel panel-default">\n            <div class="panel-body">\n              <p class="text-center">\n                You\'ve used <span data-bind=\'text: localStoragePercent\'></span>% of\n                your total local space.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="col-sm-12 col-md-4 text-center">\n      <img class="img-rounded" data-bind="attr: { src: logo }"\n        style="width:90%; max-width:400px;" />\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div class="modal fade" id="charactersModal" tabindex="-1" role="dialog"\n  aria-labelledby="charactersModalLabel" data-bind="modal: {\n    open: modalStatus,\n    onclose: modalFinishedClosing }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content container-fluid">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title" id="importModalLabel">\n          Characters and Games\n        </h4>\n      </div>\n      <div class="modal-body">\n        <div class=\'container-fluid\'>\n          <table data-bind=\'foreach: characters\' class="table table-hover table-ac-bordered">\n            <tr>\n              <td class="clickable"\n                data-bind="click: $parent.changeCharacter"\n                data-dismiss="modal">\n                <div class="row">\n                  <div class="col-xs-2">\n                    <img data-bind="attr: { src: playerImage }" class="img img-circle"\n                      width="50" height="50" style="margin-top: 3px;" />\n                  </div>\n                  <div class="col-xs-10">\n                    <span class="lead" data-bind=\'text: playerTitle\'></span>\n                    <small>\n                      by <span data-bind=\'text: playerAuthor\'></span>\n                    </small>\n                    <div>\n                      <small data-bind=\'text: playerSummary\'></small>\n                    </div>\n                  </div>\n                </div>\n              </td>\n              <td>\n                <button class="close"\n                  data-bind="click: $parent.removeCharacter"\n                  data-dismiss="modal">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n              </td>\n            </tr>\n          </table>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <div class=\'pull-left\'>\n          <p class="text-left">\n            You\'ve used <span data-bind=\'text: localStoragePercent\'></span>% of your total local space.\n          </p>\n        </div>\n        <button type="button" class="btn btn-primary pull-right"\n          data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">Done</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";var a=n(6),i=n(1),r=n(179),o=n(15),s=n(180),c=n(159),l=n(0),d=n.n(l),u=n(482),p=n.n(u),f=n(22),h=n.n(f);d.a.components.register("chat",{viewModel:function(e){var t=new s.a;return t.chats=d.a.observableArray(),t.isActive=e.isActive,t.isConnectedToParty=d.a.observable(!1),t.title="Chats",t.shouldDisplayModelOnNewItem=!0,t.didLoad=function(){t._purgeChats(),t.reloadCells(),t.selectedCell(t.cells()[0]),t.checkForParty(),i.f.chat.message.add(t._deliverMessageToRoom),i.f.chat.room.add(t.reloadCells),i.f.chat.member.joined.add(t._userHasJoinedOrLeft),i.f.chat.member.left.add(t._userHasJoinedOrLeft),i.f.party.joined.add(t._didJoinParty),i.f.party.left.add(t._hasLeftParty),i.f.party.players.changed.add(t.reloadCells)},t.didUnload=function(){i.f.chat.message.remove(t._deliverMessageToRoom),i.f.chat.room.remove(t.reloadCells),i.f.chat.member.joined.remove(t._userHasJoinedOrLeft),i.f.chat.member.left.remove(t._userHasJoinedOrLeft),i.f.party.joined.remove(t._didJoinParty),i.f.party.left.remove(t._hasLeftParty),i.f.party.players.changed.remove(t.reloadCells)},t.checkForParty=function(){var e=a.d.sharedService();t.isConnectedToParty(null!=e.currentPartyNode)},t.addItem=function(e){var n=h.a.v4().substring(0,6);if(0!==e.length){var i=n+"@chat.adventurerscodex.com",r=a.d.sharedService().createRoomAndInvite(i,e);t.reloadCells();var o=t.cells().filter(function(e,t,n){return e.id()===r.chatId()})[0];t.selectedCell(o)}},t.deleteCell=function(e){a.d.sharedService().leave(e.id(),"test",console.log);var n=a.l.findFirstBy(o.e,"chatId",e.id());n&&(n.purge(),n.delete()),t.reloadCells(),t.selectedCell(t.cells()[0])},t.selectCell=function(e){var n=a.l.findFirstBy(o.e,"chatId",e.id());t.updateBadge(n)},t.getDetailObject=function(e){return e},t.modalFinishedOpening=function(){},t.modalFinishedClosing=function(e){t.modalIsOpen(!1),e.length>0&&t.addItem(e)},t.updateBadge=function(e){var n=t.cells().filter(function(t,n,a){return t.id()===e.chatId()})[0];n&&n.badge(e.getUnreadMessages().length)},t.reloadCells=function(){t.chats(t._getChats()),t.cells(t._getChatCells())},t.refreshCells=function(){return t.cells().forEach(function(e,t,n){e.reload()})},t._getChatCells=function(){return t.chats().map(function(e,t,n){var a=new r.a(e);return a.reload(),a})},t._getChats=function(){var e=i.a.activeCharacter().key(),t=a.d.sharedService().currentPartyNode;return a.l.findByPredicates(o.e,[new a.h("characterId",e),new a.k([new a.h("chatId",t),new a.h("partyId",t)])]).sort(function(e,t){var n=e.isParty()?1:-1;return(t.isParty()?1:-1)-n})},t._isSelectedRoom=function(e){return!(!e||!t.selectedCell())&&t.selectedCell().id()===e.chatId()},t._childViewModelShouldUpdate=function(){t.selectedObject.valueHasMutated()},t._deliverMessageToRoom=function(e,n,r,o){t.reloadCells(),t._isSelectedRoom(e)?t._childViewModelShouldUpdate():r||t.updateBadge(e),"active"==t.isActive()||r||n.messageType()==a.b.META||(o?i.f.userNotification.infoNotification.dispatch(n.shortHtml()):i.f.userNotification.infoNotification.dispatch(n.shortHtml(),n.fromUsername()))},t._userHasJoinedOrLeft=function(e){if(!t._isMe(e.fromUsername())){var n=a.l.findFirstBy(o.e,"chatId",e.fromBare());t._deliverMessageToRoom(n,e,!1,!0)}},t._didJoinParty=function(){t.reloadCells(),t.selectedCell(t.cells()[0]),t.checkForParty()},t._hasLeftParty=function(){t.reloadCells(),t._purgeChats(),t.checkForParty()},t._isMe=function(e){var t=c.g.sharedService();return Strophe.getNodeFromJid(t.connection.jid)===e},t._purgeChats=function(){var e=i.a.activeCharacter().key();a.l.findBy(o.e,"characterId",e).forEach(function(e,t,n){e.purge()})},t},template:p.a})},function(e,t){e.exports='\x3c!-- ko with: chatViewModel --\x3e\n  \x3c!--ko if: !isConnectedToParty()--\x3e\n  <div class="detail-place-holder well text-center">\n    <p class="lead text-muted heading">You are not connected to a Party.</p>\n    <p class="text-muted">Create or join a Party with friends to Chat!<br/>\n      Create a free account <a href="https://app.adventurerscodex.com/accounts/register/">here</a> or learn more about the Chat <a href="https://adventurerscodex.com/collaboration.html#chat" target="_blank">here</a>.</p>\n  </div>\n  \x3c!-- /ko --\x3e\n  <div class="row">\n    \x3c!--ko if: isConnectedToParty()--\x3e\n    <div data-bind="css: listCSS">\n      <div class="panel panel-default">\n        <div class="panel-body">\n          <div class="panel-heading">\n            <div class="h4">\n              <span data-bind="html: title"></span>\n              <div class="pull-right">\n                <span class="fa fa-plus fa-lg" style="cursor:pointer;"\n                  data-bind="click: addButtonWasClicked"></span>\n              </div>\n            </div>\n          </div>\n          <nested-list params="cells: cells, selectedCell: selectedCell, ondelete: deleteButtonWasClicked, onadd: addButtonWasClickedWithParent">\n          </nested-list>\n        </div>\n      </div>\n    </div>\n    <div data-bind="css: detailViewModelCSS">\n      \x3c!-- ko if: detailViewModel --\x3e\n      \x3c!-- ko with: detailViewModel --\x3e\n      <div data-bind="template: {\n        name: templateName,\n        templateUrl: templateUrl,\n        data: $data\n      }"></div>\n      \x3c!-- /ko --\x3e\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko ifnot: detailViewModel --\x3e\n      <div class="detail-place-holder well text-center"\n        style="cursor:pointer;" data-bind="click: addButtonWasClicked">\n        <p class="lead text-muted heading" data-bind="html: addNewItemText"></p>\n      </div>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: modalViewModel --\x3e\n      \x3c!-- ko with: modalViewModel --\x3e\n      <div data-bind="template: {\n        name: templateName,\n        templateUrl: templateUrl,\n        data: $data\n      }"></div>\n      \x3c!-- /ko --\x3e\n      \x3c!-- /ko --\x3e\n    </div>\n    \x3c!-- /ko --\x3e\n  </div>\n\x3c!-- /ko --\x3e\n'},function(e,t){e.exports='\x3c!--ko ifnot: isConnectedToParty()--\x3e\n<div class="detail-place-holder well text-center">\n  <p class="lead text-muted heading">You are not connected to a Party.</p>\n  <p class="text-muted">Create or join a Party with friends to Chat!<br/>\n    Create a free account <a href="https://app.adventurerscodex.com/accounts/register/">here</a> or learn more about the Chat <a href="https://adventurerscodex.com/collaboration.html#chat" target="_blank">here</a>.</p>\n</div>\n\x3c!-- /ko --\x3e\n\x3c!--ko if: isConnectedToParty()--\x3e\n<div class="row">\n  <div data-bind="css: listCSS">\n    <div class="panel panel-default">\n      <div class="panel-body">\n        <div class="panel-heading">\n          <div class="h4">\n            <span data-bind="html: title"></span>\n            <div class="pull-right">\n              <span class="fa fa-plus fa-lg" style="cursor:pointer;"\n                data-bind="click: addButtonWasClicked"></span>\n            </div>\n          </div>\n        </div>\n        <nested-list params="cells: cells, selectedCell: selectedCell, onselect: selectCell, ondelete: deleteButtonWasClicked, onadd: addButtonWasClickedWithParent">\n        </nested-list>\n      </div>\n    </div>\n  </div>\n  <div data-bind="css: detailViewModelCSS">\n    <chat-detail params="room: selectedObject"></chat-detail>\n  </div>\n</div>\n<chat-modal params="isOpen: modalIsOpen, onopen: modalFinishedOpening, onclose: modalFinishedClosing"></chat-modal>\n\x3c!-- /ko --\x3e\n'},function(e,t,n){"use strict";var a=n(6),i=n(1),r=n(11),o=n(0),s=n.n(o),c=n(484),l=n.n(c),d='    <div class="col-md-2 col-xs-3 text-center col-padded">        <img src="{card.image}" width="60" height="60"             class="img img-circle img-padded" /><br />        <small class="text-lightgray">{card.name}</small>    </div>';s.a.components.register("chat-detail",{viewModel:function(e){var t=this;t.room=e.room,t.members=e.room().members,t.isGroupChat=e.room().isGroupChat,t._getRoomMembers=e.room()._getRoomMembers,t.wasAtBottom=s.a.observable(!0),t.log=s.a.observableArray(),t.message=s.a.observable(""),t._xmppIsConnected=s.a.observable(!1),t.id=s.a.pureComputed(function(){return t.room().id()}),t.load=function(){t.room.subscribe(t.cleanReload),t.cleanReload(),i.f.xmpp.connected.add(t._updateStatus),i.f.xmpp.disconnected.add(t._updateStatus),i.f.chat.room.add(t.reloadData),i.f.chat.member.joined.add(t.reloadData),i.f.chat.member.left.add(t.reloadData),i.f.party.joined.add(t.reloadData),i.f.party.left.add(t.reloadData),i.f.party.players.changed.add(t.reloadData)},t.dispose=function(){i.f.xmpp.connected.remove(t._updateStatus),i.f.xmpp.disconnected.remove(t._updateStatus),i.f.chat.room.remove(t.reloadData),i.f.chat.member.joined.remove(t.reloadData),i.f.chat.member.left.remove(t.reloadData),i.f.party.left.remove(t.reloadData),i.f.party.joined.remove(t.reloadData),i.f.party.players.changed.remove(t.reloadData)},t.cleanReload=function(){t.log([]),t._markAllAsRead(),t.reloadData(),t._updateStatus()},t.reloadData=function(){var e=a.l.findFirstBy(r.e,"chatId",t.id());if(e){t.members(e.getRoomMembers());var n=t._getRecentItems();s.a.utils.arrayPushAll(t.log,n)}},t.onitemrender=function(){var e=$('[data-scroll="true"]')[0];!(e.scrollHeight-e.scrollTop-5<=e.clientHeight)&&t.wasAtBottom()&&(t.wasAtBottom(!0),e.scrollTop=e.scrollHeight-e.clientHeight)},t.name=s.a.pureComputed(function(){return t.members().map(function(e,n,a){return t._getMemberTemplate(e)}).join("")}),t.messageFieldShouldHaveFocus=s.a.observable(!0),t.sendButtonShouldBeDisabled=s.a.pureComputed(function(){return!t._xmppIsConnected()}),t.sendMessage=function(){var e=t._buildMessage();if(e)return t._sendMessage(e,function(){t.log.push(e)},function(){e.failed(!0),t.log.push(e)}),t.isGroupChat()||(e.read(!0),e.save(),t.log.push(e)),t.message(""),!1},t._markAllAsRead=function(){a.l.findBy(r.e,"chatId",t.id())[0].getUnreadMessages().forEach(function(e,t,n){e.read(!0),e.save()})},t._buildMessage=function(){if(0===t.message().trim().length)return null;var e=a.p.sharedService(),n=i.a.activeCharacter().key(),o=new r.j;return o.importValues({from:e.connection.jid,html:t.message(),to:t.id(),type:"groupchat",id:e.connection.getUniqueId(),characterId:n}),o},t._sendMessage=function(e,t,n){var i=a.p.sharedService();i.connection.send(e.tree()),i.connection.flush()},t._updateStatus=function(){a.p.sharedService().connection.connected?t._xmppIsConnected(!0):t._xmppIsConnected(!1)},t._getMemberTemplate=function(e){if("string"==typeof e){var t=e;return d.replace("{card.image}","https://www.gravatar.com/avatar/null?d=mm").replace("{card.name}",Strophe.getNodeFromJid(t))}return d.replace("{card.image}",e.get("imageUrl")[0]).replace("{card.name}",e.get("name")[0])},t._getLatestTimeStamp=function(){var e=t.log().length-1;return e<0?0:t.log()[e].dateReceived()},t._getRecentItems=function(){var e=t._getLatestTimeStamp();return i.a.activeCharacter().key(),a.l.findFiltered(r.j,function(n,a){return Strophe.getBareJidFromJid(n.from)==t.id()&&n.dateReceived>e&&!n.subject&&!n.invite}).concat(a.l.findFiltered(r.p,function(n,a){return Strophe.getBareJidFromJid(n.from)==t.id()&&n.dateReceived>e})).sort(function(e,t){return e.dateReceived()-t.dateReceived()})}},template:l.a})},function(e,t){e.exports='\x3c!-- ko if: room --\x3e\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <div class="container-fluid">\n      <div class="row" data-bind="html: name"></div>\n    </div>\n  </div>\n  <div class="panel-body">\n\t\t<div class="form-horizontal">\n\t\t\t<form data-bind="submit: sendMessage">\n\t\t\t  <div class="container-fluid">\n\t\t\t\t  <ul class="list-group chat-style" data-scroll="true"\n\t\t\t\t    data-bind="foreach: { data: log, as: \'message\' }, bottomsUp: true">\n            \x3c!-- ko if: message.messageType() == \'chat\' --\x3e\n              <chat-log-chat-item params="message: message, onrender: $parent.onitemrender"></chat-log-chat-item>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko if: message.messageType() == \'system\' --\x3e\n              <chat-log-system-item params="message: message, onrender: $parent.onitemrender"></chat-log-system-item>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko if: message.messageType() == \'read-aloud\' --\x3e\n              <chat-log-read-aloud-item params="message: message, onrender: $parent.onitemrender"></chat-log-read-aloud-item>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko if: message.messageType() == \'image\' --\x3e\n              <chat-log-image-item params="message: message, onrender: $parent.onitemrender"></chat-log-image-item>\n            \x3c!-- /ko --\x3e\n\t\t\t\t  </ul>\n\t\t\t  </div>\n\t\t\t  <div class="row">\n          <div class="col-sm-12">\n            <div class="input-group">\n              <input type="text" class="form-control" id="text"\n                data-bind="textInput: message, hasFocus: $parent.messageFieldShouldHaveFocus,\n                  disable: sendButtonShouldBeDisabled" autocomplete="off">\n              <span class="input-group-btn">\n                <button data-bind="disable: sendButtonShouldBeDisabled"\n                  type="submit" class="btn btn-default">Send</button>\n              </span>\n          </div>\n  \t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n  </div>\n</div>\n\x3c!-- /ko --\x3e\n\x3c!-- ko ifnot: room --\x3e\n<div class="detail-place-holder well text-center"\n  style="cursor:pointer;" data-bind="click: addButtonWasClicked">\n  <p class="lead text-muted heading" data-bind="html: addNewItemText"></p>\n</div>\n\x3c!-- /ko --\x3e\n'},function(e,t,n){"use strict";var a=n(6),i=n(1),r=n(11),o=n(62),s=n(0),c=n.n(s),l=n(486),d=n.n(l),u=n(493),p=n.n(u);c.a.components.register("chat-log-chat-item",{viewModel:function(e){var t=this;t.message=e.message,t.timestamp=c.a.pureComputed(function(){return t.message.dateReceived()}),t.listItemClass=c.a.observable(""),t.load=function(){e.onrender()},t.shouldShowSaveToChatButton=c.a.pureComputed(function(){return i.a.activeCharacter().playerType().key==r.o.characterPlayerType.key}),t.image=c.a.pureComputed(function(){var e=t.getCard();return e?e.get("imageUrl"):"https://www.gravatar.com/avatar/{}?d=mm"}),t.name=c.a.pureComputed(function(){var e=t.getCard();return e?e.get("name")+" ("+t.message.fromUsername()+")":t.message.fromUsername()}),t.html=c.a.pureComputed(function(){return d()(t.message.html(),o.a.linkifyOptions)}),t.saveToNotes=function(){var e=i.a.activeCharacter().key(),n=a.l.findByPredicates(r.k,[new a.h("characterId",e),new a.h("isSavedChatNotes",!0)])[0];n||((n=new r.k).characterId(e),n.text("# Saved from Chat"),n.isSavedChatNotes(!0)),n.text(n.text()+"\n\n"+t.message.toText()),n.save(),i.f.notes.changed.dispatch(),i.f.userNotification.successNotification.dispatch("Saved to Notes.")},t.getCard=function(){var e=i.a.activeCharacter(),n=a.d.sharedService().rooms[t.message.fromBare()];if(!n)return null;var r=n.roster[t.message.fromUsername()];if(!r)return null;var o=r.jid,s=null;return(s="character"==e.playerType().key?a.c.sharedService():a.e.sharedService()).pCards[o]?s.pCards[o]:null}},template:p.a})},function(e,t,n){e.exports=n(487).default},function(e,t,n){"use strict";function a(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(e){return e.replace(/"/g,"&quot;")}function r(e){if(!e)return"";var t=[];for(var n in e){var a=e[n]+"";t.push(n+'="'+i(a)+'"')}return t.join(" ")}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=new l(t);for(var n=c(e),o=[],s=0;s<n.length;s++){var d=n[s];if("nl"===d.type&&t.nl2br)o.push("<br>\n");else if(d.isLink&&t.check(d)){var u=t.resolve(d),p=u.formatted,f=u.formattedHref,h=u.tagName,m=u.className,b=u.target,v=u.attributes,g="<"+h+' href="'+i(f)+'"';m&&(g+=' class="'+i(m)+'"'),b&&(g+=' target="'+i(b)+'"'),v&&(g+=" "+r(v)),g+=">"+a(p)+"</"+h+">",o.push(g)}else o.push(a(d.toString()))}return o.join("")}t.__esModule=!0;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(488)),c=s.tokenize,l=s.options.Options;String.prototype.linkify||(String.prototype.linkify=function(e){return o(this,e)}),t.default=o},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0,t.tokenize=t.test=t.scanner=t.parser=t.options=t.inherits=t.find=void 0;var i=n(68),r=a(n(489)),o=a(n(490)),s=a(n(491));Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var c=function(e){return s.run(o.run(e))};t.find=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=c(e),a=[],i=0;i<n.length;i++){var r=n[i];!r.isLink||t&&r.type!==t||a.push(r.toObject())}return a},t.inherits=i.inherits,t.options=r,t.parser=s,t.scanner=o,t.test=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=c(e);return 1===n.length&&n[0].isLink&&(!t||n[0].type===t)},t.tokenize=c},function(e,t,n){"use strict";function a(e){e=e||{},this.defaultProtocol=e.defaultProtocol||o.defaultProtocol,this.events=e.events||o.events,this.format=e.format||o.format,this.formatHref=e.formatHref||o.formatHref,this.nl2br=e.nl2br||o.nl2br,this.tagName=e.tagName||o.tagName,this.target=e.target||o.target,this.validate=e.validate||o.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||o.attributes,this.className=e.className||e.linkClass||o.className;for(var t=e.ignoreTags||o.ignoreTags,n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function i(e){return e}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={defaultProtocol:"http",events:null,format:i,formatHref:i,nl2br:!1,tagName:"a",target:function(e,t){return"url"===t?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};t.defaults=o,t.Options=a,t.contains=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},a.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var a=this[e];if(!a)return a;switch(void 0===a?"undefined":r(a)){case"function":return a(t,n.type);case"object":var i=a[n.type]||o[e];return"function"==typeof i?i(t,n.type):i}return a},getObject:function(e,t,n){var a=this[e];return"function"==typeof a?a(t,n.type):a}}},function(e,t,n){"use strict";t.__esModule=!0,t.start=t.run=t.TOKENS=t.State=void 0;var a=n(181),i=n(97),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),o="aaa|aarp|abb|abbott|abogado|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|af|afl|ag|agency|ai|aig|airforce|airtel|al|alibaba|alipay|allfinanz|alsace|am|amica|amsterdam|an|analytics|android|ao|apartments|app|apple|aq|aquarelle|ar|aramco|archi|army|arpa|arte|as|asia|associates|at|attorney|au|auction|audi|audio|author|auto|autos|avianca|aw|ax|axa|az|azure|ba|baidu|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bb|bbc|bbva|bcg|bcn|bd|be|beats|beer|bentley|berlin|best|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bom|bond|boo|book|boots|bosch|bostik|bot|boutique|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|camera|camp|cancerresearch|canon|capetown|capital|car|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chloe|christmas|chrome|church|ci|cipriani|circle|cisco|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|date|dating|datsun|day|dclk|de|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|dnp|do|docs|dog|doha|domains|download|drive|dubai|durban|dvag|dz|earth|eat|ec|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|er|erni|es|esq|estate|et|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|fairwinds|faith|family|fan|fans|farm|fashion|fast|feedback|ferrero|fi|film|final|finance|financial|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|florist|flowers|flsmidth|fly|fm|fo|foo|football|ford|forex|forsale|forum|foundation|fox|fr|fresenius|frl|frogans|frontier|fund|furniture|futbol|fyi|ga|gal|gallery|gallup|game|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|gold|goldpoint|golf|goo|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|group|gs|gt|gu|gucci|guge|guide|guitars|guru|gw|gy|hamburg|hangout|haus|hdfcbank|health|healthcare|help|helsinki|here|hermes|hiphop|hitachi|hiv|hk|hm|hn|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hr|hsbc|ht|hu|hyundai|ibm|icbc|ice|icu|id|ie|ifm|iinet|il|im|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|international|investments|io|ipiranga|iq|ir|irish|is|iselect|ist|istanbul|it|itau|iwc|jaguar|java|jcb|je|jetzt|jewelry|jlc|jll|jm|jmp|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kitchen|kiwi|km|kn|koeln|komatsu|kp|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|lamborghini|lamer|lancaster|land|landrover|lanxess|lasalle|lat|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|legal|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|limited|limo|lincoln|linde|link|live|living|lixil|lk|loan|loans|local|locus|lol|london|lotte|lotto|love|lr|ls|lt|ltd|ltda|lu|lupin|luxe|luxury|lv|ly|ma|madrid|maif|maison|makeup|man|management|mango|market|marketing|markets|marriott|mba|mc|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|mg|mh|miami|microsoft|mil|mini|mk|ml|mm|mma|mn|mo|mobi|mobily|moda|moe|moi|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mp|mq|mr|ms|mt|mtn|mtpc|mtr|mu|museum|mutuelle|mv|mw|mx|my|mz|na|nadex|nagoya|name|natura|navy|nc|ne|nec|net|netbank|network|neustar|new|news|nexus|nf|ng|ngo|nhk|ni|nico|nikon|ninja|nissan|nl|no|nokia|norton|nowruz|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|office|okinawa|om|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|origins|osaka|otsuka|ovh|pa|page|pamperedchef|panerai|paris|pars|partners|parts|party|passagens|pe|pet|pf|pg|ph|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pohl|poker|porn|post|pr|praxi|press|pro|prod|productions|prof|promo|properties|property|protection|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|racing|re|read|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|ricoh|rio|rip|ro|rocher|rocks|rodeo|room|rs|rsvp|ru|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|saxo|sb|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scor|scot|sd|se|seat|security|seek|select|sener|services|seven|sew|sex|sexy|sfr|sg|sh|sharp|shell|shia|shiksha|shoes|show|shriram|si|singles|site|sj|sk|ski|skin|sky|skype|sl|sm|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|st|stada|star|starhub|statefarm|statoil|stc|stcgroup|stockholm|storage|store|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|taobao|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|team|tech|technology|tel|telecity|telefonica|temasek|tennis|tf|tg|th|thd|theater|theatre|tickets|tienda|tiffany|tips|tires|tirol|tj|tk|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tp|tr|trade|trading|training|travel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubs|ug|uk|unicom|university|uno|uol|us|uy|uz|va|vacations|vana|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|viking|villas|vin|vip|virgin|vision|vista|vistaprint|viva|vlaanderen|vn|vodka|volkswagen|vote|voting|voto|voyage|vu|vuelos|wales|walter|wang|wanggou|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|wme|wolterskluwer|work|works|world|ws|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|youtube|yt|za|zara|zero|zip|zm|zone|zuerich|zw".split("|"),s="0123456789".split(""),c="0123456789abcdefghijklmnopqrstuvwxyz".split(""),l=[" ","\f","\r","\t","\v","","",""],d=[],u=function(e){return new a.CharacterState(e)},p=u(),f=u(i.NUM),h=u(i.DOMAIN),m=u(),b=u(i.WS);p.on("@",u(i.AT)).on(".",u(i.DOT)).on("+",u(i.PLUS)).on("#",u(i.POUND)).on("?",u(i.QUERY)).on("/",u(i.SLASH)).on("_",u(i.UNDERSCORE)).on(":",u(i.COLON)).on("{",u(i.OPENBRACE)).on("[",u(i.OPENBRACKET)).on("<",u(i.OPENANGLEBRACKET)).on("(",u(i.OPENPAREN)).on("}",u(i.CLOSEBRACE)).on("]",u(i.CLOSEBRACKET)).on(">",u(i.CLOSEANGLEBRACKET)).on(")",u(i.CLOSEPAREN)).on("&",u(i.AMPERSAND)).on([",",";","!",'"',"'"],u(i.PUNCTUATION)),p.on("\n",u(i.NL)).on(l,b),b.on(l,b);for(var v=0;v<o.length;v++){var g=(0,a.stateify)(o[v],p,i.TLD,i.DOMAIN);d.push.apply(d,g)}var y=(0,a.stateify)("file",p,i.DOMAIN,i.DOMAIN),x=(0,a.stateify)("ftp",p,i.DOMAIN,i.DOMAIN),w=(0,a.stateify)("http",p,i.DOMAIN,i.DOMAIN),k=(0,a.stateify)("mailto",p,i.DOMAIN,i.DOMAIN);d.push.apply(d,y),d.push.apply(d,x),d.push.apply(d,w);var S=y.pop(),C=x.pop(),I=w.pop(),_=k.pop(),T=u(i.DOMAIN),E=u(i.PROTOCOL),A=u(i.MAILTO);C.on("s",T).on(":",E),I.on("s",T).on(":",E),d.push(T),S.on(":",E),T.on(":",E),_.on(":",A);var M=(0,a.stateify)("localhost",p,i.LOCALHOST,i.DOMAIN);d.push.apply(d,M),p.on(s,f),f.on("-",m).on(s,f).on(c,h),h.on("-",m).on(c,h);for(var F=0;F<d.length;F++)d[F].on("-",m).on(c,h);m.on("-",m).on(s,h).on(c,h),p.defaultTransition=u(i.SYM);var O=p;t.State=a.CharacterState,t.TOKENS=r,t.run=function(e){for(var t=e.replace(/[A-Z]/g,function(e){return e.toLowerCase()}),n=e.length,a=[],i=0;i<n;){for(var r=p,o=null,s=0,c=null,l=-1;i<n&&(o=r.next(t[i]));)(r=o).accepts()?(l=0,c=r):l>=0&&l++,s++,i++;if(!(l<0)){i-=l,s-=l;var d=c.emit();a.push(new d(e.substr(i-s,s)))}}return a},t.start=O},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0,t.start=t.run=t.TOKENS=t.State=void 0;var i=n(181),r=n(97),o=(a(r),n(492)),s=a(o),c=function(e){return new i.TokenState(e)},l=c(),d=c(),u=c(),p=c(),f=c(),h=c(),m=c(),b=c(o.URL),v=c(),g=c(o.URL),y=c(o.URL),x=c(),w=c(),k=c(),S=c(),C=c(),I=c(o.URL),_=c(o.URL),T=c(o.URL),E=c(o.URL),A=c(),M=c(),F=c(),O=c(),P=c(),D=c(),N=c(o.EMAIL),R=c(),B=c(o.EMAIL),L=c(o.MAILTOEMAIL),H=c(),j=c(),U=c(),z=c(),W=c(o.NL);l.on(r.NL,W).on(r.PROTOCOL,d).on(r.MAILTO,u).on(r.SLASH,p),d.on(r.SLASH,p),p.on(r.SLASH,f),l.on(r.TLD,h).on(r.DOMAIN,h).on(r.LOCALHOST,b).on(r.NUM,h),f.on(r.TLD,y).on(r.DOMAIN,y).on(r.NUM,y).on(r.LOCALHOST,y),h.on(r.DOT,m),P.on(r.DOT,D),m.on(r.TLD,b).on(r.DOMAIN,h).on(r.NUM,h).on(r.LOCALHOST,h),D.on(r.TLD,N).on(r.DOMAIN,P).on(r.NUM,P).on(r.LOCALHOST,P),b.on(r.DOT,m),N.on(r.DOT,D),b.on(r.COLON,v).on(r.SLASH,y),v.on(r.NUM,g),g.on(r.SLASH,y),N.on(r.COLON,R),R.on(r.NUM,B);var q=[r.DOMAIN,r.AT,r.LOCALHOST,r.NUM,r.PLUS,r.POUND,r.PROTOCOL,r.SLASH,r.TLD,r.UNDERSCORE,r.SYM,r.AMPERSAND],V=[r.COLON,r.DOT,r.QUERY,r.PUNCTUATION,r.CLOSEBRACE,r.CLOSEBRACKET,r.CLOSEANGLEBRACKET,r.CLOSEPAREN,r.OPENBRACE,r.OPENBRACKET,r.OPENANGLEBRACKET,r.OPENPAREN];y.on(r.OPENBRACE,w).on(r.OPENBRACKET,k).on(r.OPENANGLEBRACKET,S).on(r.OPENPAREN,C),x.on(r.OPENBRACE,w).on(r.OPENBRACKET,k).on(r.OPENANGLEBRACKET,S).on(r.OPENPAREN,C),w.on(r.CLOSEBRACE,y),k.on(r.CLOSEBRACKET,y),S.on(r.CLOSEANGLEBRACKET,y),C.on(r.CLOSEPAREN,y),I.on(r.CLOSEBRACE,y),_.on(r.CLOSEBRACKET,y),T.on(r.CLOSEANGLEBRACKET,y),E.on(r.CLOSEPAREN,y),A.on(r.CLOSEBRACE,y),M.on(r.CLOSEBRACKET,y),F.on(r.CLOSEANGLEBRACKET,y),O.on(r.CLOSEPAREN,y),w.on(q,I),k.on(q,_),S.on(q,T),C.on(q,E),w.on(V,A),k.on(V,M),S.on(V,F),C.on(V,O),I.on(q,I),_.on(q,_),T.on(q,T),E.on(q,E),I.on(V,I),_.on(V,_),T.on(V,T),E.on(V,E),A.on(q,I),M.on(q,_),F.on(q,T),O.on(q,E),A.on(V,A),M.on(V,M),F.on(V,F),O.on(V,O),y.on(q,y),x.on(q,y),y.on(V,x),x.on(V,x),u.on(r.TLD,L).on(r.DOMAIN,L).on(r.NUM,L).on(r.LOCALHOST,L),L.on(q,L).on(V,H),H.on(q,L).on(V,H);var $=[r.DOMAIN,r.NUM,r.PLUS,r.POUND,r.QUERY,r.UNDERSCORE,r.SYM,r.AMPERSAND,r.TLD];h.on($,j).on(r.AT,U),b.on($,j).on(r.AT,U),m.on($,j),j.on($,j).on(r.AT,U).on(r.DOT,z),z.on($,j),U.on(r.TLD,P).on(r.DOMAIN,P).on(r.LOCALHOST,N);t.State=i.TokenState,t.TOKENS=s,t.run=function(e){for(var t=e.length,n=0,a=[],i=[];n<t;){for(var r=l,s=null,c=null,d=0,u=null,p=-1;n<t&&!(s=r.next(e[n]));)i.push(e[n++]);for(;n<t&&(c=s||r.next(e[n]));)s=null,(r=c).accepts()?(p=0,u=r):p>=0&&p++,n++,d++;if(p<0)for(var f=n-d;f<n;f++)i.push(e[f]);else{i.length>0&&(a.push(new o.TEXT(i)),i=[]),n-=p,d-=p;var h=u.emit();a.push(new h(e.slice(n-d,n)))}}return i.length>0&&a.push(new o.TEXT(i)),a},t.start=l},function(e,t,n){"use strict";function a(e){return e instanceof o.DOMAIN||e instanceof o.TLD}t.__esModule=!0,t.URL=t.TEXT=t.NL=t.EMAIL=t.MAILTOEMAIL=t.Base=void 0;var i=n(182),r=n(68),o=n(97),s=(0,i.createTokenClass)();s.prototype={type:"token",isLink:!1,toString:function(){for(var e=[],t=0;t<this.v.length;t++)e.push(this.v[t].toString());return e.join("")},toHref:function(){return this.toString()},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(e)}}};var c=(0,r.inherits)(s,(0,i.createTokenClass)(),{type:"email",isLink:!0}),l=(0,r.inherits)(s,(0,i.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){this.v;return"mailto:"+this.toString()}}),d=(0,r.inherits)(s,(0,i.createTokenClass)(),{type:"text"}),u=(0,r.inherits)(s,(0,i.createTokenClass)(),{type:"nl"}),p=(0,r.inherits)(s,(0,i.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",t=!1,n=!1,i=this.v,r=[],s=0;i[s]instanceof o.PROTOCOL;)t=!0,r.push(i[s].toString().toLowerCase()),s++;for(;i[s]instanceof o.SLASH;)n=!0,r.push(i[s].toString()),s++;for(;a(i[s]);)r.push(i[s].toString().toLowerCase()),s++;for(;s<i.length;s++)r.push(i[s].toString());return r=r.join(""),t||n||(r=e+"://"+r),r},hasProtocol:function(){return this.v[0]instanceof o.PROTOCOL}});t.Base=s,t.MAILTOEMAIL=c,t.EMAIL=l,t.NL=u,t.TEXT=d,t.URL=p},function(e,t){e.exports='<li class="list-group-item" data-bind="css: listItemClass">\n  <div class="row">\n    <div class="col-xs-1 hidden-xs" style="width:32px; padding-top:10px; margin-right:5px;">\n      <img class="img img-circle" width="30px" height="30px" data-bind="attr: { src: image }" />\n    </div>\n    <div class="col-xs-11">\n      <div class="row">\n        <div class="col-xs-12">\n          <small class="text-muted" data-bind="html: name"></small>\n        </div>\n      </div>\n      <div class="row">\n        \x3c!-- ko if: shouldShowSaveToChatButton --\x3e\n        <div class="col-xs-11">\n          <span data-bind="html: html"></span>\n        </div>\n        <div class="col-xs-1">\n          <div class="input-group">\n            <i class="fa fa-save fa-color-hover-success clickable" data-bind="click: saveToNotes"></i>\n          </div>\n        </div>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko ifnot: shouldShowSaveToChatButton --\x3e\n        <div class="col-xs-12">\n          <span data-bind="html: html"></span>\n        </div>\n        \x3c!-- /ko --\x3e\n      </div>\n  </div>\n  </div>\n</li>\n'},function(e,t,n){"use strict";var a=n(6),i=n(1),r=n(11),o=n(95),s=n(0),c=n.n(s),l=n(495),d=n.n(l);c.a.components.register("chat-log-image-item",{viewModel:function(e){var t=this;t.message=e.message,t.timestamp=c.a.pureComputed(function(){return t.message.dateReceived()}),t.listItemClass=c.a.observable("image-chat-highlight"),t.load=function(){e.onrender()},t.shouldShowSaveToNotesButton=c.a.pureComputed(function(){return i.a.activeCharacter().playerType().key==r.o.characterPlayerType.key}),t.image=c.a.pureComputed(function(){var e=t.getCard();return e?e.get("imageUrl"):"https://www.gravatar.com/avatar/{}?d=mm"}),t.name=c.a.pureComputed(function(){var e=t.getCard();return e?e.get("name")+" ("+t.message.fromUsername()+")<br />Private":t.message.fromUsername()}),t.messageImage=c.a.pureComputed(function(){return i.g.string.createDirectDropboxLink(t.message.item().json.url)}),t.html=c.a.pureComputed(function(){return"<h3>{name}</h3>".replace("{name}",t.message.item().json.name)}),t.imageHtml=function(){return'<img src="{url}" width="100%" />'.replace("{url}",t.messageImage())},t.saveToNotes=function(){var e=i.a.activeCharacter().key(),n=(new Date).toDateString(),a=new r.k;a.characterId(e),a.text(t.html()+"\n\n"+n+"\n\n"+t.imageHtml()),a.save(),i.f.notes.changed.dispatch(),i.f.userNotification.successNotification.dispatch("Saved to Notes.")},t.getCard=function(){var e=i.a.activeCharacter(),n=o.b.sharedService().rooms[t.message.fromBare()];if(!n)return null;var r=n.roster[t.message.fromUsername()];if(!r)return null;var s=r.jid,c=null;return(c="character"==e.playerType().key?a.c.sharedService():a.e.sharedService()).pCards[s]?c.pCards[s]:null}},template:d.a})},function(e,t){e.exports='<li class="list-group-item" data-bind="css: listItemClass">\n  <div class="row">\n   <div class="col-xs-1 hidden-xs" style="width:32px; padding-top:10px; margin-right:5px;">\n     <img class="img img-circle" width="30px" height="30px" data-bind="attr: { src: image }" />\n   </div>\n   <div class="col-xs-11">\n     <div class="row">\n       <div class="col-xs-12">\n         <small class="text-muted" data-bind="html: name"></small>\n       </div>\n     </div>\n     <div class="row">\n       \x3c!-- ko if: shouldShowSaveToNotesButton --\x3e\n       <div class="col-xs-11">\n         <span data-bind="html: html"></span>\n         <img data-bind="attr: { src: messageImage }" width="100%" />\n       </div>\n       <div class="col-xs-1">\n         <div class="input-group">\n           <i class="fa fa-save fa-color-hover-success clickable" data-bind="click: saveToNotes"></i>\n         </div>\n       </div>\n       \x3c!-- /ko --\x3e\n       \x3c!-- ko ifnot: shouldShowSaveToNotesButton --\x3e\n       <div class="col-xs-12">\n         <h3 data-bind="text: name"></h3>\n         <img data-bind="attr: { src: messageImage }" width="100%" />\n       </div>\n       \x3c!-- /ko --\x3e\n     </div>\n   </div>\n </div>\n</li>\n'},function(e,t,n){"use strict";var a=n(6),i=n(11),r=n(1),o=n(2),s=n(0),c=n.n(s),l=n(497),d=n.n(l);c.a.components.register("chat-log-read-aloud-item",{viewModel:function(e){var t=this;t.message=e.message,t.timestamp=c.a.pureComputed(function(){return t.message.dateReceived()}),t.listItemClass=c.a.observable("info-chat-highlight"),t.load=function(){e.onrender()},t.shouldShowSaveToChatButton=c.a.pureComputed(function(){return r.a.activeCharacter().playerType().key==i.o.characterPlayerType.key}),t.image=c.a.pureComputed(function(){var e=t.getCard();return e?e.get("imageUrl"):"https://www.gravatar.com/avatar/{}?d=mm"}),t.name=c.a.pureComputed(function(){var e=t.getCard();return e?e.get("name")+" ("+t.message.fromUsername()+")<br />Private":t.message.fromUsername()}),t.html=c.a.pureComputed(function(){return t.message.item().json.html}),t.saveToNotes=function(){var e=r.a.activeCharacter().key(),n=o.a.findByPredicates(i.k,[new a.h("characterId",e),new a.h("isSavedChatNotes",!0)])[0],s=(new Date).toDateString();n||((n=new i.k).characterId(e),n.text("# Saved from Chat"),n.isSavedChatNotes(!0)),n.text(n.text()+"\n\n**"+s+"**\n\n"+t.html()),n.save(),r.f.notes.changed.dispatch(),r.f.userNotification.successNotification.dispatch("Saved to Notes.")},t.getCard=function(){var e=r.a.activeCharacter(),n=a.d.sharedService().rooms[t.message.fromBare()];if(!n)return null;var i=n.roster[t.message.fromUsername()];if(!i)return null;var o=i.jid,s=null;return(s="character"==e.playerType().key?a.c.sharedService():a.e.sharedService()).pCards[o]?s.pCards[o]:null}},template:d.a})},function(e,t){e.exports='<li class="list-group-item" data-bind="css: listItemClass">\n  <div class="row">\n   <div class="col-xs-1 hidden-xs" style="width:32px; padding-top:10px; margin-right:5px;">\n     <img class="img img-circle" width="30px" height="30px" data-bind="attr: { src: image }" />\n   </div>\n   <div class="col-xs-11">\n     <div class="row">\n       <div class="col-xs-12">\n         <small class="text-muted" data-bind="html: name"></small><br />\n       </div>\n     </div>\n     <div class="row">\n       \x3c!-- ko if: shouldShowSaveToChatButton --\x3e\n       <div class="col-xs-11">\n         <span data-bind="html: html"></span>\n       </div>\n       <div class="col-xs-1">\n         <div class="input-group">\n           <i class="fa fa-save fa-color-hover-success clickable" data-bind="click: saveToNotes"></i>\n         </div>\n       </div>\n       \x3c!-- /ko --\x3e\n       \x3c!-- ko ifnot: shouldShowSaveToChatButton --\x3e\n       <div class="col-xs-12">\n         <span data-bind="html: html"></span>\n       </div>\n       \x3c!-- /ko --\x3e\n     </div>\n   </div>\n  </div>\n</li>\n'},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(499),o=n.n(r);i.a.components.register("chat-log-system-item",{viewModel:function(e){var t=this;t.message=e.message,t.timestamp=i.a.pureComputed(function(){return t.message.dateReceived()}),t.listItemClass=i.a.observable(""),t.load=function(){e.onrender()},t.html=i.a.pureComputed(function(){return t.message.html()})},template:o.a})},function(e,t){e.exports='<li class="list-group-item" data-bind="css: listItemClass">\n  <div class="row">\n    <div class="col-sm-12 text-center">\n      <i><small class="text-muted" data-bind="html: html"></small></i>\n    </div>\n  </div>\n</li>\n'},function(e,t,n){"use strict";var a=n(6),i=n(83),r=n(0),o=n.n(r),s=n(501),c=n.n(s);o.a.components.register("chat-modal",{template:c.a,viewModel:function(e){var t=this;t.isOpen=e.isOpen,t.modalFinishedClosing=e.onclose,t.modalFinishedOpening=e.onopen,t.partyMembers=o.a.observableArray(),t.partyMembersToAdd=o.a.observableArray(),t.isSubmitButtonDisabled=o.a.observable(!1),t.isErrorMessageVisible=o.a.observable(!1),t.load=function(){t.partyMembersToAdd.subscribe(t.isRoomDuplicate),t.isOpen.subscribe(t.dataHasChanged)},t.dataHasChanged=function(){t.isOpen()&&(t.modalFinishedOpening(),t.partyMembers(t.getAllPartyMembers()))},t.isRoomDuplicate=function(){var e=a.d.sharedService(),n=!1;Object.keys(e.rooms).forEach(function(a,i,r){if(a!==e.currentPartyNode){var o=e.rooms[a],s=Object.keys(o.roster);s.length==t.partyMembersToAdd().length+1&&(n=t.partyMembersToAdd().every(function(e,t,n){return s.indexOf(Strophe.getNodeFromJid(e.jid))>-1}))}}),n?(t.isSubmitButtonDisabled(!0),t.isErrorMessageVisible(!0)):(t.isSubmitButtonDisabled(!1),t.isErrorMessageVisible(!1))},t.getAllPartyMembers=function(){var e=i.a.activeCharacter();return a.d.sharedService(),("character"==e.playerType().key?a.c.sharedService():a.e.sharedService()).getPCardsExceptMine().map(function(e,t,n){return{name:e.get("name")[0],image:e.get("imageUrl")[0],jid:e.get("publisherJid")[0]}})},t._modalDoneButtonWasClicked=function(){t.isOpen(!1),t.modalFinishedClosing(t.partyMembersToAdd())}}})},function(e,t){e.exports='\x3c!-- Edit Modal --\x3e\n<div class="modal fade" tabindex="-1" role="dialog"\n   data-bind="modal: {\n      open: isOpen,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">\n          Create a new Chat Room\n        </h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal" onsubmit="return false">\n          <div class="h4">\n            Invite your party members to the room\n          </div>\n          <div class="text-danger text-center" data-bind="visible: isErrorMessageVisible">\n            A room with these members already exists.\n          </div>\n          <div class="invite.members">\n            <image-picker params="cells: partyMembers, selectedCells: partyMembersToAdd"></image-picker>\n          <div class="spacer"></div>\n      </div>\n      <div class="modal-footer">\n        <div class="form-group">\n          <div class="col-xs-offset-7 col-xs-5">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind="click: _modalDoneButtonWasClicked, disable: isSubmitButtonDisabled"\n                    data-dismiss="modal">Done</button>\n          </div>\n        </div>\n      </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";var a=n(6),i=n(0),r=n.n(i),o=n(503),s=n.n(o);r.a.components.register("export",{viewModel:function(e){var t=this;t.selectedCharacter=e.selectedCharacter,t.modalStatus=e.modalStatus||r.a.observable(!1),t.isLoggedIn=r.a.observable(!1),t.load=function(){t.doesUserExist()},t.unload=function(){t.modalStatus(!1)},t.doesUserExist=function(){var e=null!=a.o.sharedService().user();t.isLoggedIn(e)},t.closeModal=function(){t.modalStatus(!1)}},template:s.a})},function(e,t){e.exports='<div class="modal fade" id="exportModal" tabindex="-1" role="dialog"\r\n    aria-labelledby="exportModalLabel" data-bind="modal: {\r\n        open: modalStatus,\r\n        onclose: closeModal }">\r\n    <div class="modal-dialog" role="document" data-bind="with: selectedCharacter">\r\n        <div class="modal-content container-fluid">\r\n            <div class="modal-header">\r\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n                <h4 class="modal-title" id="exportModalLabel" data-dismiss="modal">Export</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n                <p>Save your character or campaign to a file for easy access in the future! Put it in Dropbox for added convenience.</p>\r\n                <p>Note: Safari users will need to save the contents of the page.</p>\r\n                \x3c!-- ko ifnot: $parent.isLoggedIn --\x3e\r\n                <p class="text-warning">You must be logged in to export directly to Dropbox.</p>\r\n                \x3c!-- /ko --\x3e\r\n                </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-primary" data-bind="click: saveToFile"\r\n                    data-dismiss="modal">Export to file</button>\r\n                \x3c!-- ko if: $parent.isLoggedIn --\x3e\r\n                <button type="button" class="btn btn-primary" data-bind="click: saveToDropbox" data-dismiss="modal">Export to Dropbox</button>\r\n                \x3c!-- /ko --\x3e\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var a=n(6),i=n(1),r=n(11),o=n(0),s=n.n(o),c=n(505),l=n.n(c);s.a.components.register("login",{viewModel:function(){var e=this;e._loginLink="/api/o/authorize?client_id={client_id}&response_type=token",e.signupLink="/accounts/register/",e._logoutLink="/accounts/logout/?next=/charactersheet/",e._revokeToken="/api/o/revoke_token/",e._dummy=s.a.observable(),e.load=function(){i.f.authentication.loggedIn.add(e.dataHasChanged),a.o.sharedService().init(),a.a.sharedService().init()},e.unload=function(){i.f.authentication.loggedIn.remove(e.dataHasChanged)},e.loginLink=s.a.pureComputed(function(){return e._dummy(),e._loginLink.replace("{client_id}","5vkLTV59I383qojsDTAlgYWuM0uuCfHTf9G0HAeD")}),e.loggedIn=s.a.pureComputed(function(){e._dummy();var t=a.l.findAll(r.b)[0];return t&&t.isValid()}),e.username=s.a.pureComputed(function(){e._dummy();var t=a.o.sharedService().user();return t?t.username:null}),e.logoutLinkWasClicked=function(){var t=a.l.findAll(r.b)[0];return t&&(t.delete(),$.post(e._revokeToken,{token:t.accessToken,client_id:"5vkLTV59I383qojsDTAlgYWuM0uuCfHTf9G0HAeD"})),!0},e.dataHasChanged=function(){e._dummy.valueHasMutated()}},template:l.a})},function(e,t){e.exports='<ul class="nav navbar-nav navbar-right">\n  \x3c!-- ko ifnot: loggedIn --\x3e\n  <li class="secondary-nav">\n    <a data-bind="attr: { href: loginLink }">\n      Login\n    </a>\n  </li>\n  <li class="secondary-nav">\n    <a data-bind="attr: { href: signupLink }">\n      Sign Up\n    </a>\n  </li>\n  \x3c!-- /ko --\x3e\n  \x3c!-- ko if: loggedIn --\x3e\n  <li class="dropdown">\n    <a href="#" class="dropdown-toggle" data-toggle="dropdown"\n      role="button" aria-haspopup="true" aria-expanded="false">\n        <span data-bind="text: username"></span>\n        <span class="caret"></span>\n    </a>\n    <ul class="dropdown-menu">\n      <li><a href="/accounts/profile/">Account</a></li>\n      <li role="separator" class="divider"></li>\n      <li class="secondary-nav">\n        <a data-bind="click: logoutLinkWasClicked, attr: { href: _logoutLink }">\n          <span>Logout</span>\n        </a>\n      </li>\n    </ul>\n  </li>\n  \x3c!-- /ko --\x3e\n</ul>\n'},function(e,t,n){"use strict";n(23);var a=n(1),i=n(11),r=n(2),o=n(0),s=n.n(o),c=n(507),l=n.n(c);s.a.components.register("notes",{viewModel:function(){var e=this;e.notes=s.a.observableArray(),e.selectedNote=s.a.observable(),e.load=function(){e.reloadData(),a.f.global.save.add(e.save),a.f.notes.changed.add(e.reloadData)},e.unload=function(){e.save(),a.f.global.save.remove(e.save)},e.save=function(){e.notes().forEach(function(e,t,n){e.save()})},e.reloadData=function(){var t=a.a.activeCharacter().key(),n=r.a.findBy(i.k,"characterId",t);n.length>0?e.notes(n):e.addNote(),e.selectNote(e.notes()[0])},e.addNote=function(){var t=a.a.activeCharacter().key(),n=new i.k;n.characterId(t),n.save(),e.notes.push(n),e.selectNote(n)},e.deleteNote=function(t){e.notes.remove(t),t.delete(),e.notes().length>0?e.selectNote(e.notes()[0]):e.selectedNote(!1)},e.selectNote=function(t){e.selectedNote(t),e.selectedNote().text.subscribe(e.selectedNote().save)},e.isActiveCSS=function(t){return e.selectedNote()===t?"active":""}},template:l.a})},function(e,t){e.exports='<div class="row">\n  <div class="col-xs-12 col-md-3">\n    <div class="panel panel-default">\n      <div class="panel-body">\n        <div class="h4">\n          All Notes\n          <div class="pull-right">\n              <span class="fa fa-plus" style="cursor:pointer;"\n                data-bind="click: addNote"></span>\n            </div>\n          </div>\n        </div>\n        <div class="list-group" data-bind="foreach: notes">\n          <a href="#" class="list-group-item"\n            data-bind="click: $parent.selectNote, css: $parent.isActiveCSS($data)">\n            <span data-bind="html: headline"></span>\n            \x3c!-- ko if: $parent.isActiveCSS($data) == \'active\' --\x3e\n            <div class="pull-right">\n              <span class="fa fa-trash-o fa-color-white-hover fa-lg"\n                data-bind="click: $parent.deleteNote"></span>\n            </div>\n            \x3c!-- /ko --\x3e\n          </a>\n        </div>\n      </div>\n    </div>\n    <div class="col-xs-12 col-md-9">\n      \x3c!-- ko if: selectedNote --\x3e\n      <div class="panel panel-default">\n        <div class="panel-body" data-bind="with: selectedNote">\n          <div class="row">\n            <div class="col-xs-12">\n              <markdown-edit-preview params="text: text, rows: 15, previewHeight: 200,\n                placeholder: \'Captain\\\'s Log...\'"></markdown-edit-preview>\n            </div>\n          </div>\n        </div>\n      </div>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko ifnot: selectedNote --\x3e\n      <div class="notes-place-holder text-center"\n           style="cursor:pointer;"\n           data-bind="click: addNote">\n        <p class="lead text-muted heading">Add a note to begin documenting your adventure</p>\n      </div>\n      \x3c!-- /ko --\x3e\n    </div>\n  </div>\n</div>\n'},function(e,t){},function(e,t,n){"use strict";var a=n(11),i=n(1),r=n(6),o=n(0),s=n.n(o),c=n(510),l=n.n(c);s.a.components.register("party-manager",{viewModel:function(){var e=this;e.loggedIn=s.a.observable(!1),e.inAParty=s.a.observable(!1),e.parties=s.a.observableArray([]),e.createOrJoin=s.a.observable("create"),e.roomId=s.a.observable(""),e.roomJid=function(){return e.roomId()+"@chat.adventurerscodex.com"},e.load=function(){i.f.xmpp.connected.add(e.dataHasChanged),i.f.xmpp.reconnected.add(e._handleReconnection),i.f.xmpp.disconnected.add(e._handleDisconnection),i.f.xmpp.error.add(e._handleConnectionError),i.f.xmpp.conflict.add(e._handleConflict),e.parties(e._getParties()),e.checkIfInAParty(),i.f.party.joined.add(e._handleSubscription),i.f.party.left.add(e._handleUnsubscription),e.dataHasChanged()},e.roomLink=s.a.pureComputed(function(){return e.roomId()?encodeURI("https://app.adventurerscodex.com/charactersheet/?party_node="+e.roomId()):""}),e.createPartyWasClicked=function(){e.createParty()},e.joinPartyWasClicked=function(){e.roomId().length>6&&e.joinParty(e.roomId().toLowerCase())},e.joinPartyWasClickedWithParty=function(t){e.joinParty(Strophe.getNodeFromJid(t.chatId()))},e.leavePartyWasClicked=function(){e.leaveParty(e.roomJid(),!0)},e.deletePartyWasClicked=function(t){e.deleteParty(t)},e.dateCreatedLabel=function(e){return new Date(e.dateCreated()).toLocaleDateString()},e.checkIfInAParty=function(){var t=r.d.sharedService().currentPartyNode;t&&(e.roomId(Strophe.getNodeFromJid(t)),e.inAParty(!0))},e.createParty=function(){var t=r.d.sharedService().getUniqueNodeId();e.joinParty(t)},e.joinParty=function(e){var t=r.p.sharedService();r.d.sharedService().join(e+"@chat.adventurerscodex.com",Strophe.getNodeFromJid(t.connection.jid),!0)},e.joinExistingParty=function(t){NodeServiceManager.sharedService().subscribe(t,e._handleSuccessfulSubscription,e._handleFailedSubscription)},e.leaveParty=function(e,t){var n=r.p.sharedService();r.d.sharedService().leave(e,Strophe.getNodeFromJid(n.connection.jid))},e.deleteParty=function(t){t.delete(),e.parties(e._getParties())},e.dataHasChanged=function(){var t=r.l.findAll(a.b)[0],n=r.p.sharedService();e.loggedIn(t&&t.isValid()&&n.connection.authenticated)},e._getParties=function(){var t=i.a.activeCharacter().key(),n=r.l.findByPredicates(a.e,[new r.h("characterId",t),new r.h("isParty",!0)]);return n.length>0?e.createOrJoin("join"):e.createOrJoin("create"),n},e._leaveOnSwitch=function(){e.inAParty()&&e._handleUnsubscription("",!0)},e._handleDisconnection=function(t){e.dataHasChanged(),e.loggedIn(!1),e.roomId(null),e.inAParty(!1),t&&i.f.userNotification.warningNotification.dispatch("It looks like you've been disconnected. Is your internet ok?","",{timeOut:0,extendedTimeOut:0})},e._handleSubscription=function(t,n){if(n){if(e.inAParty())return;e.roomId(Strophe.getNodeFromJid(t)),e.inAParty(!0),e.parties(e._getParties()),i.f.userNotification.successNotification.dispatch("You have successfully joined "+e.roomId())}else i.f.userNotification.warningNotification.dispatch("An error has occurred while attempting to join the party")},e._handleUnsubscription=function(t,n){n?(e.roomId(null),e.inAParty(!1),i.f.userNotification.successNotification.dispatch("You have successfully left your party.")):i.f.userNotification.warningNotification.dispatch("An error has occurred while attempting to leave the party")},e._handleConnectionError=function(t){e.loggedIn(!1),i.f.userNotification.warningNotification.dispatch('You will not be able to access party features until this issue is resolved. <a href="https://adventurerscodex.com/faq.html#connection">Click here for more info.</a>',"A connection error has occurred.",{timeOut:0,extendedTimeOut:0})},e._handleReconnection=function(t){e.inAParty(!0),i.f.userNotification.successNotification.dispatch("You're back online.","Connection reestablished",{timeOut:0,extendedTimeOut:0})},e._handleConflict=function(){i.f.userNotification.dangerNotification.dispatch("It looks like you're trying to use your account in two places at once.\n            To use the party features you'll have to log out of the other session             and refresh this page.","Conflict",{timeOut:0,extendedTimeOut:0})}},template:l.a})},function(e,t){e.exports='<div class="modal-dialog" role="document">\n  <div class="modal-content container-fluid">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n        <span aria-hidden="true">&times;</span>\n      </button>\n      <h4 class="modal-title" id="importModalLabel">\n        Manage Party\n      </h4>\n    </div>\n    <div class="modal-body">\n      \x3c!-- ko if: !loggedIn() --\x3e\n        <div class="detail-place-holder well text-center">\n            <p class="lead text-muted heading">You are not connected to a Party.</p>\n            <p class="text-muted">\n            Create or join a Party with friends to unlock the Party Tools!<br/>\n            Create a free account <a href="https://app.adventurerscodex.com/accounts/register/">here</a> or learn more about Parties <a href="https://adventurerscodex.com/collaboration.html#party" target="_blank">here</a>.\n            </p>\n        </div>\n      \x3c!--/ko--\x3e\n      \x3c!-- ko if: loggedIn --\x3e\n      <div class="form-horizontal" data-bind="">\n        \x3c!-- ko ifnot: inAParty --\x3e\n        <div class="form-group">\n          <div class="container-fluid">\n            <div class="form-group">\n              <div class="col-sm-12">\n                <div class="h4">\n                  Which would you like to do?\n                </div>\n                <div class="btn-group btn-group-justified" role="group">\n                  <label class="btn btn-default"\n                  data-bind="css: { active: createOrJoin() == \'create\'}">\n                    <input type="radio" class="hide-block"\n                    name="createParty" value="create" data-bind="checked: createOrJoin"/>\n                    Create a Party\n                  </label>\n                  <label class="btn btn-default"\n                  data-bind="css: { active: createOrJoin() == \'join\'}">\n                    <input type="radio" class="hide-block"\n                    name="joinParty" value="join" data-bind="checked: createOrJoin"/>\n                    Join a Party\n                  </label>\n                </div>\n              </div>\n            </div>\n            <hr />\n            <div class="text-center container-fluid">\n              \x3c!-- ko if: createOrJoin() === \'create\' --\x3e\n              <p class="text-left col-padded">\n                This will create a new party for you and your friends. Joining a\n                party means that you will be able to interact with others in your\n                party and that your DM will be able to see your character\'s stats.\n              </p>\n              <button data-bind="click: createPartyWasClicked" class="btn btn-primary">\n                Create</button>\n              \x3c!-- /ko --\x3e\n              \x3c!-- ko if: createOrJoin() === \'join\' --\x3e\n                \x3c!-- ko if: parties().length === 0  --\x3e\n                <p class="text-left">\n                  It looks like you don\'t have any parties saved. Create one from\n                  scratch or join an existing one to save it.\n                </p>\n                \x3c!-- /ko --\x3e\n                \x3c!-- ko if: parties().length > 0  --\x3e\n                <p class="text-left">\n                  Click or tap a party to join it.\n                </p>\n                <div class="list-group" data-bind="foreach: parties" style="max-height: 250px; overflow-y:scroll;">\n                    <button type="button" class="list-group-item text-left col-xs-12"\n                      data-bind="click: $parent.joinPartyWasClickedWithParty">\n                      <div class="col-xs-11">\n                        <span data-bind="text: chatName"></span><br/>\n                        <small class="text-muted">Created:\n                          <span data-bind="text: $parent.dateCreatedLabel($data)"></span>\n                        </small>\n                      </div>\n                      <div class="col-xs-1">\n                        <a data-bind="click: $parent.deletePartyWasClicked" href="#">\n                          <i class="fa fa-trash-o fa-color-hover"></i>\n                        </a>\n                      </div>\n                    </button>\n                </div>\n                \x3c!-- /ko --\x3e\n              <p class="text-left">\n                If one of your friends has already made a party, you can join it by\n                using the party link or by entering the Party ID here.\n              </p>\n              <div class="row">\n                <label for="roomName"\n                       class="col-sm-2 control-label">Party ID</label>\n                <div class="col-sm-10">\n                  <div class="input-group">\n                  <input type="text"\n                         class="form-control"\n                         data-bind="value: roomId">\n                    <span class="input-group-btn">\n                      <button data-bind="click: joinPartyWasClicked" class="btn btn-primary">\n                        <span>Add and join</span>\n                      </button>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- /ko --\x3e\n            </div>\n          </div>\n        </div>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: inAParty --\x3e\n        <div class="form-group">\n\x3c!--\n          <p class="text-center">\n            Invite people to this party by giving them the link below...\n          </p>\n          <div class="row row-padded">\n            <label for="roomName"\n                   class="col-sm-3 control-label">Party Link</label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <input type="text" readonly id="roomLink"\n                      class="form-control"\n                      data-bind="value: roomLink">\n                <span class="input-group-btn">\n                  <button class="btn" data-clipboard-target="#roomLink">\n                    <i class="fa fa-clipboard" aria-hidden="true" title="Copy to clipboard"></i>\n                  </button>\n                </span>\n              </div>\n            </div>\n          </div>\n --\x3e\n          <p class="text-center">\n            Invite people to this party by giving them the code below.\n          </p>\n          <div class="row row-padded">\n            <label for="roomName"\n                   class="col-sm-3 control-label">Party ID</label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <input type="text" readonly id="nodeId"\n                      class="form-control"\n                      data-bind="value: roomId">\n                <span class="input-group-btn">\n                  <button class="btn" data-clipboard-target="#nodeId">\n                    <i class="fa fa-clipboard" aria-hidden="true" title="Copy to clipboard"></i>\n                  </button>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-sm-12 col-padded text-center">\n              <button class="btn btn-danger" data-bind="click: leavePartyWasClicked">Leave</button>\n            </div>\n          </div>\n        </div>\n        \x3c!-- /ko --\x3e\n      </div>\n      \x3c!-- /ko --\x3e\n    </div>\n    <div class="modal-footer">\n      <button type="button" class="btn btn-primary pull-right"\n        data-dismiss="modal" aria-label="Close">\n        <span aria-hidden="true">Done</span>\n      </button>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n(23);var a=n(1),i=n(11),r=n(6),o=n(17),s=n(0),c=n.n(s),l=n(512),d=n.n(l);c.a.components.register("player-image",{viewModel:function(){var e=this;e.openModal=c.a.observable(!1),e.imageSource=c.a.observable("picker"),e.imageUrl=c.a.observable(""),e.email=c.a.observable(""),e.defaultImages=c.a.observableArray(a.c.defaultProfilePictures),e.selectedDefaultImages=c.a.observableArray(),e.height=c.a.observable(80),e.width=c.a.observable(80),e.hasInspiredGlow=c.a.observable(!1),e.firstFieldHasFocus=c.a.observable(!1),e.load=function(){e.selectedDefaultImages.subscribe(e.dataHasChangedUrl),a.f.playerInfo.changed.add(e.saveAndNotify),a.f.otherStats.inspiration.changed.add(e.inspirationHasChanged),a.f.xmpp.connected.add(e._handleConnectionStatusChanged),a.f.xmpp.disconnected.add(e._handleConnectionStatusChanged),a.f.characterManager.changed.add(e.dataHasChanged),e.dataHasChanged(),e.inspirationHasChanged(),e._handleConnectionStatusChanged()},e.doneButtonClicked=(()=>{e.saveAndNotify()}),e.saveAndNotify=(()=>{e.save(),a.f.playerImage.changed.dispatch()}),e.dataHasChanged=(()=>{var t=a.a.activeCharacter().key(),n=r.l.findFirstBy(i.f,"characterId",t);n?e.imageUrl(n.imageUrl()):((n=new i.f).characterId(t),n.save());var o=r.l.findFirstBy(i.n,"characterId",t);o?e.email(o.email()):((o=new i.n).characterId(t),o.save());var s=r.l.findFirstBy(i.m,"characterId",t);s?e.imageSource(s.imageSource()):((s=new i.m).characterId(t),s.save())}),e.dataHasChangedUrl=function(){var t=e.selectedDefaultImages()[0]?e.selectedDefaultImages()[0].image:"";e.imageUrl(t)},e.inspirationHasChanged=function(){var t=a.a.activeCharacter().key(),n=r.l.findFirstBy(o.j,"characterId",t);e.hasInspiredGlow(n&&parseInt(n.inspiration()))},e.inspiredGlowClass=c.a.pureComputed(function(){return e.hasInspiredGlow()?"image-border-inspired":""}),e.clear=function(){e.imageUrl(""),e.email(""),e.selectedDefaultImages([])},e.save=function(){var t=a.a.activeCharacter().key(),n=r.l.findFirstBy(i.n,"characterId",t);n&&(n.email(e.email()),n.save());var o=r.l.findFirstBy(i.f,"characterId",t);o&&(o.imageUrl(e.imageUrl()),o.save());var s=r.l.findFirstBy(i.m,"characterId",t);s&&("picker"==e.imageSource()?s.imageSource("link"):s.imageSource(e.imageSource()),s.save())},e.imageBorderClass=c.a.pureComputed(function(){return(e.playerImageSrc().length?"no-border":"dashed-border")+" "+e.inspiredGlowClass()}),e._isConnectedToXMPP=c.a.observable(),e.statusIndicatorClass=c.a.pureComputed(function(){return e._isConnectedToXMPP()?"success":"failure"}),e._handleConnectionStatusChanged=function(){var t=r.p.sharedService();e._isConnectedToXMPP(t.connection.connected)},e.playerImageSrc=c.a.pureComputed(function(){if("link"==e.imageSource())return a.g.string.createDirectDropboxLink(e.imageUrl());var t=e.selectedDefaultImages()[0]?e.selectedDefaultImages()[0].image:"";return"picker"==e.imageSource()?t:(t=e._getEmailUrl(),"email"==e.imageSource()&&e.email()?t:"")}),e.toggleModal=function(){e.openModal(!e.openModal())},e.modalFinishedOpening=function(){e.firstFieldHasFocus(!0)},e.modalFinishedClosing=function(){e.openModal(!1),e.firstFieldHasFocus(!1)},e._getEmailUrl=function(){var e=a.a.activeCharacter().key(),t=r.l.findFirstBy(i.n,"characterId",e);if(t)return t.gravatarUrl()}},template:d.a})},function(e,t){e.exports='<div class="circular-profile no-padding center-block" style="cursor: pointer;"\n  data-bind="click: toggleModal,\n    attr: {\n      height: height,\n      width: width,\n    },\n    css: imageBorderClass">\n  <div class="image-upload-preview text-center">\n    \x3c!-- ko if: playerImageSrc --\x3e\n    <img class="img-circle"\n      data-bind="attr: {\n        src: playerImageSrc,\n        height: height,\n        width: width\n      }">\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko ifnot: playerImageSrc --\x3e\n    <div class="text-muted player-image-style">\n      <small>Click to add a picture</small>\n    </div>\n    \x3c!-- /ko --\x3e\n  </div>\n</div>\n<div class="connection-status">\n  <div class="circle-indicator" data-bind="css: statusIndicatorClass"></div>\n</div>\n\n\x3c!-- Modal --\x3e\n<div class="modal fade" tabindex="-1" role="dialog"\n   aria-labelledby="viewSkillLabel"\n   data-bind="modal: {\n      open: openModal,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title" id="addSkillLabel">\n          Choose one of the following\n        </h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal" onsubmit="return false">\n          <div class="form-group">\n            <div class="col-sm-12">\n              <div class="btn-group btn-group-justified" role="group">\n                <label class="btn btn-default"\n                data-bind="css: { active: imageSource() == \'picker\'}">\n                  <input type="radio" class="hide-block"\n                  name="imageSourcePicker" value="picker" data-bind="checked: imageSource"/>\n                  Choose a default\n                </label>\n                <label class="btn btn-default"\n                data-bind="css: { active: imageSource() == \'link\'}">\n                  <input type="radio" class="hide-block"\n                  name="imageSourceLink" value="link" data-bind="checked: imageSource"/>\n                  Image Link\n                </label>\n                <label class="btn btn-default"\n                data-bind="css: { active: imageSource() == \'email\'}">\n                  <input type="radio" class="hide-block"\n                  name="imageSourceEmail" value="email" data-bind="checked: imageSource"/>\n                  Gravatar Email\n                </label>\n              </div>\n            </div>\n          </div>\n          \x3c!-- ko if: imageSource() == \'picker\' --\x3e\n          <div class="form-group center-block">\n            <image-picker params="cells: defaultImages, selectedCells: selectedDefaultImages, multiselect: false"></image-picker>\n          </div>\n          \x3c!-- /ko --\x3e\n          \x3c!-- ko if: imageSource() == \'link\' --\x3e\n          <div class="form-group">\n            \x3c!-- Image URL --\x3e\n            <label for="spellName"\n                   class="col-sm-4 control-label">Image Link</label>\n            <div class="col-sm-8">\n              <input type="text"\n                     class="form-control"\n                     data-bind="value: imageUrl, hasFocus: firstFieldHasFocus">\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-sm-offset-1 col-xs-10">\n            <p class="text-muted text-center"><small>Paste in a link to your favorite profile picture. Make sure it\'s the full image link though.</small></p>\n            </div>\n          </div>\n          \x3c!-- /ko --\x3e\n          \x3c!-- ko if: imageSource() == \'email\' --\x3e\n          <div class="form-group">\n            \x3c!-- Gravatar --\x3e\n            <label for="spellName"\n                   class="col-sm-4 control-label">Gravatar Email</label>\n            <div class="col-sm-8">\n              <input type="text"\n                     class="form-control"\n                     data-bind="value: email">\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-sm-offset-1 col-xs-10">\n            <p class="text-muted text-center"><small><a href="http://en.gravatar.com" target="_blank">Gravatar is a free service</a> that allows you to set a profile picture based on your email, and it works in lots of places.</small></p>\n            </div>\n          </div>\n          \x3c!-- /ko --\x3e\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-dismiss="modal"\n                    data-bind="click: doneButtonClicked">Done</button>\n          </div> \x3c!-- Modal Footer --\x3e\n        </form>\n      </div> \x3c!-- Modal Content --\x3e\n    </div> \x3c!-- Modal Dialog --\x3e\n  </div> \x3c!-- Modal Fade --\x3e\n</div>\n'},function(e,t,n){"use strict";n(514);var a=n(15),i=n(1),r=n(2),o=n(0),s=n.n(o),c=n(515),l=n.n(c);s.a.components.register("player-name",{viewModel:function(){var e=this;e.profile=s.a.observable(),e.playerType=s.a.observable(),e.campaign=s.a.observable(),e.name=s.a.observable(""),e.load=function(){e.dataHasChanged(),i.f.characterManager.changed.add(e.dataHasChanged),e.name.subscribe(e.nameHasChanged)},e.placeholderText=s.a.pureComputed(function(){return"character"==e.playerType()?"<i>Character Name</i>":"<i>A Story of Wonder</i>"}),e.nameHasChanged=function(){"character"==e.playerType()?(e.profile().characterName(e.name()),e.profile().save(),i.f.profile.characterName.changed.dispatch()):(e.campaign().name(e.name()),e.campaign().save(),i.f.campaign.changed.dispatch())},e.dataHasChanged=function(){var t=i.a.activeCharacter();if(e.playerType(t.playerType().key),"character"==e.playerType()){var n=r.a.findFirstBy(a.t,"characterId",t.key());n&&(e.profile(n),e.name(n.characterName()))}else{var o=r.a.findFirstBy(a.b,"characterId",t.key());o&&(e.campaign(o),e.name(o.name()))}}},template:l.a})},function(e,t,n){"use strict";var a=n(0),i=n.n(a);i.a.bindingHandlers.contenteditable={init:function(e,t,n){var a=t();$(e).attr("contenteditable","true"),$(e).on("blur",function(){try{a.text($(e).text())}catch(e){throw"Text variable provided is not observable."}})},update:function(e,t){var n=t();n.text()?$(e).text(n.text()):$(e).html(i.a.utils.unwrapObservable(n.placeholder))}}},function(e,t){e.exports='<div class="row">\r\n    \x3c!-- ko if: playerType() == \'character\' --\x3e\r\n    <div class="col-md-12 text-center-xs text-left-sm">\r\n    <div class="h3" id="characterName" autocomplete="off" autocorrect="off"\r\n        spellcheck="false" data-bind="contenteditable: {\r\n        text: name,\r\n        placeholder: placeholderText\r\n    }"></div>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: playerType() == \'dm\' --\x3e\r\n    <div class="col-md-12 text-center-xs text-left-sm">\r\n    <div class="h3" id="dmName" autocomplete="off" autocorrect="off"\r\n        spellcheck="false" data-bind="contenteditable: {\r\n        text: name,\r\n        placeholder: placeholderText\r\n    }"></div>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";var a=n(95),i=n(1),r=n(35),o=n.n(r),s=n(0),c=n.n(s),l=n(517),d=n.n(l);c.a.components.register("party-status",{viewModel:function(){var e=this;e.partyStatus=c.a.observable(),e.load=function(){i.f.party.joined.add(e._updatePartyStatus),i.f.party.left.add(e._clearPartyStatus),i.f.xmpp.disconnected.add(e._updatePartyStatus),i.f.characterManager.changed.add(e._clearPartyStatus),e._updatePartyStatus(null,!0)},e._updatePartyStatus=function(t,n){if(n)if(t){var i=a.b.sharedService();e.partyStatus('<i>You\'re connected to <span class="text-info">'+o.a.getNodeFromJid(i.currentPartyNode)+"</span></i>.")}else e.partyStatus("<i>You're not connected to a party.</i>")},e._clearPartyStatus=function(){e.partyStatus("<i>You're not connected to a party.</i>")}},template:d.a})},function(e,t){e.exports='<div class="col-xs-12">\r\n    <small data-bind="html: partyStatus"></small>\r\n</div>'},function(e,t,n){var a=n(519);"string"==typeof a&&(a=[[e.i,a,""]]);var i={};i.transform=void 0;n(42)(a,i);a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,"/*\nResponsive Styles\n*/\n.text-center-xs {\n    text-align: center;\n}\n.text-left-xs {\n    text-align: left;\n}\n.text-left-xs {\n    text-align: left;\n}\n\n/* Small devices (tablets, 768px and up) */\n@media (min-width: 768px) {\n    .text-center-sm {\n        text-align: center;\n    }\n    .text-left-sm {\n        text-align: left;\n    }\n}\n\n/* Medium devices (desktops, 992px and up) */\n@media (min-width: 992px) {\n    .text-center-md {\n        text-align: center;\n    }\n    .text-left-md {\n        text-align: left;\n    }\n}\n\n/* Large devices (large desktops, 1200px and up) */\n@media (min-width: 1200px) {\n    .text-center-lg {\n        text-align: center;\n    }\n    .text-left-lg {\n        text-align: left;\n    }\n}\n\n\n/*\nGeneral Styling\n*/\nhtml, body {height: 100%;}\n\n#content {\n  max-width: 1800px;\n  font-family: \"Lato\", sans-serif;\n  min-height: 100%;\n}\n\n.main {\n  padding-bottom:150px;\n  overflow:auto;\n}\n\nh1, h2, h3, h4, .h1, .h2, .h3, .h4 {\n  font-family: 'IM Fell English SC', serif;\n}\n\nsmall {\n  font-family: \"Lato\", sans-serif;\n}\n\n.brand-icon {\n  margin-top: -5px;\n  margin-right: 10px;\n}\n\n.footer {\n  position: relative;\n  height: 178px;\n\tclear:both;\n  margin-top:0px;\n  padding-top:30px;\n  background-color: #ecf0f1;\n  padding-bottom: 20px;\n}\n\n.close-check {\n  margin-left: -5px;\n  margin-right: -8px\n}\n\n.progress {\n  height:34px;\n}\n\n.progress.thin {\n  height:6px;\n}\n\n.row-padded {\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n\n.img-padded {\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n\n.no-top-bottom-padding {\n    padding-top: 0px;\n    padding-bottom: 0px;\n    padding-left: 5px;\n    padding-right: 5px;\n}\n\n.well-top-shadow {\n  box-shadow: 0px 2px 2px -2px #888888 inset;\n}\n\n.col-padded {\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n\n.table-ac-bordered tr {\n  border-bottom: thin solid #ecf0f1;\n}\n\n.no-bottom-margin {\n  margin-bottom: 0px;\n}\n\n.beta {\n  color:orange;\n}\n\n.spacer {\n\twidth:10px;\n\theight:10px;\n}\n\n.spacer-lg {\n  height:23px;\n  width:23px;\n}\n\n.inline-left {\n\tfloat:left;\n\tdisplay:inline;\n\twidth: 49%;\n}\n\n.inline-right {\n\tfloat:right;\n\tdisplay:inline;\n\twidth: 49%\n}\n\n.tri {\n\tmargin-left:2%;\n\tmargin-right:2%;\n\twidth:30%;\n}\n\n.quad {\n\tmargin-left:2%;\n\tmargin-right:2%;\n\twidth:22%;\n}\n\n/**\n * Additional Progress Bar Colors\n */\ndiv.progress-text {\n  line-height: 2.5em;\n  position: absolute;\n}\n\n.progress-bar-blue {\n  background-color: #337ab7 !important;\n}\n.progress-bar-orange {\n  background-color: #f0ad4e !important;\n}\n.progress-bar-red {\n  background-color: #d9534f !important;\n}\n.progress-bar-green {\n  background-color: #5cb85c !important;\n}\n.progress-bar-purple {\n  background-color: purple !important;\n}\n.progress-bar-teal {\n  background-color: #01DFD7 !important;\n}\n.progress-bar-yellow {\n  background-color: #D7DF01 !important;\n}\n.progress-bar-indigo {\n  background-color: #8000FF !important;\n}\n.progress-bar-brown {\n  background-color: #906713 !important;\n}\n.progress-bar-magenta {\n  background-color: #C82D78 !important;\n}\n.progress-bar-sky {\n  background-color: #71D4E8 !important;\n}\n.progress-bar-forest {\n  background-color: #2F972F !important;\n}\n\n\n/*******\n * Experimental stuff\n *******/\n\n.panel-heading {\n}\n.panel {\n  box-shadow: 2px 3px 0px 0px #ecf0f1;\n}\n\ndiv.hr {\n  height:80px;\n  background:url('/images/page-divider.png') no-repeat;\n\n}\n\n.tab-pane {\n  padding-top:10px;\n}\n\n.dice-full {\n  cursor:pointer;\n  background: url("+n(520)+");\n  width:24px;\n  height:24px;\n  display: inline-block;\n  padding: 0 0 0 0px;\n}\n\n.dice-empty {\n  cursor:pointer;\n  background: url("+n(521)+");\n  width:24px;\n  height:24px;\n  display: inline-block;\n  padding: 0 0 0 0px;\n}\n\n.ds-failure-full {\n  cursor:pointer;\n  background: url("+n(522)+");\n  width:24px;\n  height:24px;\n  display: inline-block;\n  padding: 0 0 0 0px;\n}\n\n.ds-failure-empty {\n  cursor:pointer;\n  background: url("+n(523)+");\n  width:24px;\n  height:24px;\n  display: inline-block;\n  padding: 0 0 0 0px;\n}\n\n.ds-success-full {\n  cursor:pointer;\n  background: url("+n(524)+");\n  width:24px;\n  height:24px;\n  display: inline-block;\n  padding: 0 0 0 0px;\n}\n\n.ds-success-empty {\n  cursor:pointer;\n  background: url("+n(525)+");\n  width:24px;\n  height:24px;\n  display: inline-block;\n  padding: 0 0 0 0px;\n}\n\n.circular-profile {\n\twidth: 80px;\n\theight: 80px;\n\tborder-radius: 40px;\n\t-webkit-border-radius: 40px;\n\t-moz-border-radius: 40px;\n\toverflow:hidden;\n}\n\n.no-padding {\n  padding:0px;\n}\n\n.no-top-margin {\n  margin-top:0px;\n}\n\n.no-border {\n  border:none;\n}\n\n.dashed-border {\n  border-style: dashed;\n  border-color: lightgray;\n}\n\n.underline {\n  text-decoration: underline;\n}\n\n.tab-icon {\n  width: 35px;\n}\n\n.tab-subtext {\n  text-align: center;\n  color: #2c3e50;\n}\n\n.text-lightgray {\n  color: #798d8f;\n}\n\n.tab-subtext:hover {\n  color: #2c3e50;\n}\n.tab-subtext:focus {\n  color: #2c3e50;\n}\n\n.action-bar-icon {\n  width: 2em;\n}\n\ntextarea.dark-area {\n  background-color: #ecf0f1;\n}\n\n/**\n * Alerts\n */\n\n.alert {\n  min-height: 43px;\n  line-height: 16px;\n  margin-bottom:10px;\n}\n\n.alert-warning {\n  background-color: #fad79e;\n  color: #925d07;\n}\n\n.alert-danger {\n  background-color: #f7c1bb;\n  color: #9f1f14;\n}\n\n.alert-info {\n  background-color: #bedef4;\n  color: #1b6698;\n}\n\n.alert-success {\n  background-color: #d2f9f1;\n  color: #128770;\n}\n\n.coin-input {\n  padding-right: 10px;\n}\n.coin-input input {\n  min-width: 75px;\n}\n\n.alert .close {\n  top:-7px;\n}\n\n.inline-block {\n  display: inline-block;\n}\n\n.fa-color {\n  color:#2c3e50;\n}\n\n.fa-color-hover {\n  color:#2c3e50;\n}\n\n.fa-color-hover:hover {\n  color:#e74c3c;\n}\n\n.fa-color-hover-success:hover {\n  color:#128770;\n}\n\n.fa-color-white-hover {\n  color:#ffffff;\n}\n\n.fa-color-white-hover:hover {\n  color:#e74c3c;\n}\n\n.fa-disabled {\n  color: lightgray;\n}\n\n.feature-row span {\n  line-height: 3em;\n}\n\n.table-data-overflow {\n  white-space: nowrap;\n  overflow-x: hidden;\n}\n\n.color-picker-item {\n  margin:10px;\n  padding-right:0px;\n  width:25px;\n  height:25px;\n  border-radius:40px;\n}\n\n.hit-dice-list {\n  height:100%;\n  padding:15px;\n  line-height:0.7em;\n}\n\n.hit-dice-list-empty-fill {\n  padding:15px;\n  line-height:1.5em;\n}\n\n.input-select2-addon {\n  height:100%;\n  padding:18px;\n}\n\n.chat-style {\n  overflow-y:auto;\n  overflow-x: hidden;\n  height: 500px;\n}\n\n.chat-profile-image {\n  margin-top:-5px;\n  margin-bottom:-5px;\n}\n\n.img-circle.active {\n  border-radius: 50%;\n  border: 5px solid #18bc9c;\n}\n\n.col-content-vertical {\n  vertical-align:middle !important;\n}\n\n.ac-plus-minus {\n  width: 100%;\n  text-align: center;\n}\n.ac-plus-minus div {\n  display:inline-block;\n  background-color:#DCE4EC;\n  float: none;\n  margin: 0 auto;\n  border-radius: 10px;\n}\n\n.used-slot-span {\n  padding:10px 12px;\n  font-size:15px;\n}\n\n.clickable {\n  cursor:pointer;\n}\n\n.hide-block {\n  display: none;\n}\n\n.player-image-style {\n  margin-top:4px;\n  margin-left: 6px;\n  margin-right: 6px;\n}\n\n.spell-slots-level {\n  border:none;\n  background:none;\n}\n\n.user-notification-height {\n  max-height:100px;\n}\n\n.characters-module-style {\n  padding-top:10px;\n  padding-bottom:10px;\n}\n\n.characters-player-name {\n  margin-top:-20px;\n}\n\n.stats-health-border {\n  border-right:1px solid #ecf0f1;\n}\n\n.tabs .secondary-nav {\n\tfloat:right;\n\tmargin-left:10px;\n\tmargin-right:10px;\n\tline-height: 3.6em\n}\n\ntable.table-no-margin {\n  margin-bottom: 0px;\n}\n\ntable.table-no-margin tbody td {\n  padding-top:13px;\n}\n\ndiv.h3 small {\n  color: #6f7d88;\n}\n\n\n.ability-score-input {\n  width: 65px;\n}\n\n.modal-footer-ability-scores {\n  padding: 15px;\n  text-align: left;\n  border-top: 1px solid #e5e5e5;\n}\n\nul.footer-icons li {\n  margin: 0px 10px;\n  display:inline;\n}\n\n.social-media {\n  color: #798d8f;\n  font-size: 1.5em;\n}\n\n.preview-modal-overflow {\n  max-height: 225px;\n  overflow-y: auto;\n}\n\n.encounter-detail-place-holder {\n  height: 400px;\n  padding-top:175px;\n}\n\n.notes-place-holder {\n  height: 548px;\n  padding-top:175px;\n  background-color: #ecf0f1;;\n}\n\n.preview-modal-overflow-sm {\n  max-height: 225px;\n  overflow-y: auto;\n}\n\n.embedded-image {\n  margin-left: auto;\n  margin-right: auto;\n  max-height: 225px;\n}\n\n.btn-group-padding {\n  padding: 10px 0px;\n}\n\n.no-top-or-bottom-margin {\n  margin-top: 0px;\n  margin-bottom: 0px;\n}\n\n.content-left {\n  text-align: left !important;\n}\n/*\n * The following CSS is to fix the modal on tablets.\n * Modal Fix Start\n */\nbody {\n  padding-right: 0px !important;\n}\n\n.modal-open {\n  overflow-y: auto;\n}\n\n.popover {\n  max-width: 100%;\n}\n\n/*\n * Modal Fix End\n */\n\n\n.ui-autocomplete {\n  z-index: 1051;\n}\n\nul.ui-autocomplete {\n  margin: 0;\n  padding-left: 0;\n  border-color: #aaa;\n  border-radius: 0px 0px 4px 4px;\n  box-shadow: 0 -4px 5px rgba(0, 0, 0, .15);\n}\n\nul.ui-autocomplete li {\n  list-style: none;\n  display: list-item;\n  background-image: none;\n  min-height: 1em;\n  font-size: 15px;\n}\n\n\nul.ui-autocomplete .ui-state-active {\n  background: #2c3e50;\n  color: #fff;\n}\n\n/*\n * Data validation CSS\n */\n\n.errormessagetext {\n  color: #ca2f2b;\n  font-weight: 600;\n  vertical-align: -webkit-baseline-middle;\n}\n\n/*\n * Spell School Icon CSS\n */\n\n.abjuration {\n  background-image: url("+n(526)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.conjuration {\n  background-image: url("+n(527)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.divination {\n  background-image: url("+n(528)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.enchantment {\n  background-image: url("+n(529)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.evocation {\n  background-image: url("+n(530)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.illusion {\n  background-image: url("+n(531)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.necromancy {\n  background-image: url("+n(532)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.transmutation {\n  background-image: url("+n(533)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n/*\n * Magic Items Icon CSS\n */\n\n.armor-magic-item-card {\n  background-image: url("+n(184)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.potion-magic-item-card {\n  background-image: url("+n(534)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.ring-magic-item-card {\n  background-image: url("+n(535)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.rod-magic-item-card {\n  background-image: url("+n(536)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.scroll-magic-item-card {\n  background-image: url("+n(537)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.staff-magic-item-card {\n  background-image: url("+n(538)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.sword-magic-item-card {\n  background-image: url("+n(539)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.armor-wand-item-card {\n  background-image: url("+n(184)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.wand-magic-item-card {\n  background-image: url("+n(540)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.weapon-magic-item-card {\n  background-image: url("+n(541)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.wondrous-magic-item-card {\n  background-image: url("+n(542)+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n/*\n * Encounter Section Icon CSS\n */\n\n.encounter-section-img {\n  height: 35px;\n  margin-top: 3px;\n  margin-left: 5px;\n  margin-right: 10px;\n  float: left;\n}\n\n/*\n * Skills view table ability score color\n */\n\n.skills-ability-type {\n  color: #b4bcc2;\n}\n\n/*\n * Resize logo on the navbar\n */\nimg.resize_logo_nav {\n  width:36px;\n  height:auto;\n}\n\n\nli.info-chat-highlight {\n  border-left: 2px solid #3498db;\n  padding-left: 1em;\n}\n\n.image-border-inspired {\n   -webkit-box-shadow: 0px 0px 20px 0px #3498db;\n   -moz-box-shadow: 0px 0px 20px 0px #3498db;\n   box-shadow: 0px 0px 20px 0px #3498db;\n}\n\nli.image-chat-highlight {\n  border-left: 2px solid #18bc9c;\n  padding-left: 1em;\n}\n.exhibitActiveIcon {\n  color: #0EADE1;\n}\n\n.master-list .list-group-item {\n  border-radius: 0px;\n  border: none;\n}\n\n.tight-right {\n  padding-right:0px;\n}\n\n/**\n * Tight panels remove the padding around themselves but add it back for inner\n * table cells and some inner divs. Tables in tight panels stretch across the\n * full inner width.\n */\n.tight-inner {\n  padding-left:0px;\n  padding-right: 0px;\n}\n\n.tight-inner tr td:first-child {\n  padding-left:15px;\n}\n\n.tight-inner tr td:last-child {\n  padding-right:15px;\n}\n\n.tight-inner tr th:first-child {\n  padding-left:15px;\n}\n\n.tight-inner tr th:last-child {\n  padding-right:15px;\n}\n\n.tight-inner .progress {\n  margin-left:15px;\n  margin-right:15px;\n}\n\n.tight-inner .input-group {\n  margin-left:15px;\n  margin-right:15px;\n}\n\n.tight-inner .container-fluid {\n  margin-left:15px;\n  margin-right:15px;\n}\n\n.tight-inner .h3 {\n  margin-left:15px;\n  margin-right:15px;\n}\n\n.connection-status {\n  position: relative;\n  width:15px;\n  margin-left:auto;\n  margin-right:auto;\n}\n\n.connection-status .circle-indicator {\n  position: absolute;\n  width:15px;\n  height:15px;\n  margin-left: 30px;\n  margin-top: -18px;\n  z-index:1000;\n  border-radius:15px;\n\n  border: 2px solid white;\n}\n\n.circle-indicator.success {\n  background: #18bc9c;\n}\n\n.circle-indicator.failure {\n  background: #e74c3c;\n}\n\ndiv.toggle-arrow-container {\n  padding-left: 5px;\n  padding-right: 5px;\n  display: inline;\n  text-align: center;\n}\n",""])},function(e,t,n){e.exports=n.p+"349ce5d2df8c56b6c37cc5f782c6d7c8.svg"},function(e,t,n){e.exports=n.p+"d006676d820b3ceb66c8040a7c858f93.svg"},function(e,t,n){e.exports=n.p+"f7a040ca09ad4d21b09d8a8f9e2db1fd.svg"},function(e,t,n){e.exports=n.p+"9299fd4963ab7387323e58d2ebecb35e.svg"},function(e,t,n){e.exports=n.p+"ec8783d18f8a230fb59c160be6356f57.svg"},function(e,t,n){e.exports=n.p+"594f38dbb71fac4bad28aab3a72484f8.svg"},function(e,t,n){e.exports=n.p+"fc0c92ff5d70534ab7b1002fbf3caea9.svg"},function(e,t,n){e.exports=n.p+"38c5d8ab27afca5a963951770a3bb3af.svg"},function(e,t,n){e.exports=n.p+"59759d466d7117863347eedb4dcd59dc.svg"},function(e,t,n){e.exports=n.p+"661c2b9f38887acf600306c1d6378ca5.svg"},function(e,t,n){e.exports=n.p+"e548d079eb455a53191a74735d8ac79a.svg"},function(e,t,n){e.exports=n.p+"213130ac0ef0cd652e380e4ae4d3ee9f.svg"},function(e,t,n){e.exports=n.p+"08ab7b7e43a31dedccb0ae10b52f1d5b.svg"},function(e,t,n){e.exports=n.p+"4c0ba4fec1079ca486d85111247db721.svg"},function(e,t,n){e.exports=n.p+"9707abdc5d42d21e53aaeaefdaafb74b.svg"},function(e,t,n){e.exports=n.p+"5479b64fb0c9691d91b5ca54f1e8651d.svg"},function(e,t,n){e.exports=n.p+"2c1f6b58ae93a61264f28adeaced8322.svg"},function(e,t,n){e.exports=n.p+"28a3f3096646fac58abb1fd8117b3a53.svg"},function(e,t,n){e.exports=n.p+"9381912601c96e039eb2c444cae7a416.svg"},function(e,t,n){e.exports=n.p+"93d3b08dda8420fede9e8c2d47325d0c.svg"},function(e,t,n){e.exports=n.p+"b8560c8abf2997fa2c66162f75cafc3c.svg"},function(e,t,n){e.exports=n.p+"d268baae173b08315289cb8ef5cc256a.svg"},function(e,t,n){e.exports=n.p+"4978cfe89d658b2243ded1f61d72346a.svg"},function(e,t,n){"use strict";var a=n(544),i=(n.n(a),n(1)),r=(n(2),n(0)),o=n.n(r),s=n(546),c=n.n(s);o.a.components.register("user-notifications",{viewModel:function(){var e=this;e.load=function(){i.f.userNotification.infoNotification.add(e.addInfoNotification),i.f.userNotification.successNotification.add(e.addSuccessNotification),i.f.userNotification.warningNotification.add(e.addWarningNotification),i.f.userNotification.dangerNotification.add(e.addDangerNotification),c.a.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"10000",extendedTimeOut:"10000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}},e.unload=function(){i.f.userNotification.infoNotification.remove(e.addInfoNotification),i.f.userNotification.successNotification.remove(e.addSuccessNotification),i.f.userNotification.warningNotification.remove(e.addWarningNotification),i.f.userNotification.dangerNotification.remove(e.addDangerNotification)},e.addInfoNotification=function(e,t,n){c.a.info(e,t,n)},e.addSuccessNotification=function(e,t,n){c.a.success(e,t,n)},e.addWarningNotification=function(e,t,n){c.a.warning(e,t,n)},e.addDangerNotification=function(e,t,n){c.a.error(e,t,n)}},template:"<span></span>"})},function(e,t,n){var a=n(545);"string"==typeof a&&(a=[[e.i,a,""]]);var i={};i.transform=void 0;n(42)(a,i);a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(9)(void 0)).push([e.i,".toast-title{font-weight:700}.toast-message{-ms-word-wrap:break-word;word-wrap:break-word}.toast-message a,.toast-message label{color:#FFF}.toast-message a:hover{color:#CCC;text-decoration:none}.toast-close-button{position:relative;right:-.3em;top:-.3em;float:right;font-size:20px;font-weight:700;color:#FFF;-webkit-text-shadow:0 1px 0 #fff;text-shadow:0 1px 0 #fff;opacity:.8;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=80);filter:alpha(opacity=80);line-height:1}.toast-close-button:focus,.toast-close-button:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.4;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=40);filter:alpha(opacity=40)}.rtl .toast-close-button{left:-.3em;float:left;right:.3em}button.toast-close-button{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.toast-top-center{top:0;right:0;width:100%}.toast-bottom-center{bottom:0;right:0;width:100%}.toast-top-full-width{top:0;right:0;width:100%}.toast-bottom-full-width{bottom:0;right:0;width:100%}.toast-top-left{top:12px;left:12px}.toast-top-right{top:12px;right:12px}.toast-bottom-right{right:12px;bottom:12px}.toast-bottom-left{bottom:12px;left:12px}#toast-container{position:fixed;z-index:999999;pointer-events:none}#toast-container *{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}#toast-container>div{position:relative;pointer-events:auto;overflow:hidden;margin:0 0 6px;padding:15px 15px 15px 50px;width:300px;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;background-position:15px center;background-repeat:no-repeat;-moz-box-shadow:0 0 12px #999;-webkit-box-shadow:0 0 12px #999;box-shadow:0 0 12px #999;color:#FFF;opacity:.8;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=80);filter:alpha(opacity=80)}#toast-container>div.rtl{direction:rtl;padding:15px 50px 15px 15px;background-position:right 15px center}#toast-container>div:hover{-moz-box-shadow:0 0 12px #000;-webkit-box-shadow:0 0 12px #000;box-shadow:0 0 12px #000;opacity:1;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);filter:alpha(opacity=100);cursor:pointer}#toast-container>.toast-info{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGwSURBVEhLtZa9SgNBEMc9sUxxRcoUKSzSWIhXpFMhhYWFhaBg4yPYiWCXZxBLERsLRS3EQkEfwCKdjWJAwSKCgoKCcudv4O5YLrt7EzgXhiU3/4+b2ckmwVjJSpKkQ6wAi4gwhT+z3wRBcEz0yjSseUTrcRyfsHsXmD0AmbHOC9Ii8VImnuXBPglHpQ5wwSVM7sNnTG7Za4JwDdCjxyAiH3nyA2mtaTJufiDZ5dCaqlItILh1NHatfN5skvjx9Z38m69CgzuXmZgVrPIGE763Jx9qKsRozWYw6xOHdER+nn2KkO+Bb+UV5CBN6WC6QtBgbRVozrahAbmm6HtUsgtPC19tFdxXZYBOfkbmFJ1VaHA1VAHjd0pp70oTZzvR+EVrx2Ygfdsq6eu55BHYR8hlcki+n+kERUFG8BrA0BwjeAv2M8WLQBtcy+SD6fNsmnB3AlBLrgTtVW1c2QN4bVWLATaIS60J2Du5y1TiJgjSBvFVZgTmwCU+dAZFoPxGEEs8nyHC9Bwe2GvEJv2WXZb0vjdyFT4Cxk3e/kIqlOGoVLwwPevpYHT+00T+hWwXDf4AJAOUqWcDhbwAAAAASUVORK5CYII=)!important}#toast-container>.toast-error{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHOSURBVEhLrZa/SgNBEMZzh0WKCClSCKaIYOED+AAKeQQLG8HWztLCImBrYadgIdY+gIKNYkBFSwu7CAoqCgkkoGBI/E28PdbLZmeDLgzZzcx83/zZ2SSXC1j9fr+I1Hq93g2yxH4iwM1vkoBWAdxCmpzTxfkN2RcyZNaHFIkSo10+8kgxkXIURV5HGxTmFuc75B2RfQkpxHG8aAgaAFa0tAHqYFfQ7Iwe2yhODk8+J4C7yAoRTWI3w/4klGRgR4lO7Rpn9+gvMyWp+uxFh8+H+ARlgN1nJuJuQAYvNkEnwGFck18Er4q3egEc/oO+mhLdKgRyhdNFiacC0rlOCbhNVz4H9FnAYgDBvU3QIioZlJFLJtsoHYRDfiZoUyIxqCtRpVlANq0EU4dApjrtgezPFad5S19Wgjkc0hNVnuF4HjVA6C7QrSIbylB+oZe3aHgBsqlNqKYH48jXyJKMuAbiyVJ8KzaB3eRc0pg9VwQ4niFryI68qiOi3AbjwdsfnAtk0bCjTLJKr6mrD9g8iq/S/B81hguOMlQTnVyG40wAcjnmgsCNESDrjme7wfftP4P7SP4N3CJZdvzoNyGq2c/HWOXJGsvVg+RA/k2MC/wN6I2YA2Pt8GkAAAAASUVORK5CYII=)!important}#toast-container>.toast-success{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADsSURBVEhLY2AYBfQMgf///3P8+/evAIgvA/FsIF+BavYDDWMBGroaSMMBiE8VC7AZDrIFaMFnii3AZTjUgsUUWUDA8OdAH6iQbQEhw4HyGsPEcKBXBIC4ARhex4G4BsjmweU1soIFaGg/WtoFZRIZdEvIMhxkCCjXIVsATV6gFGACs4Rsw0EGgIIH3QJYJgHSARQZDrWAB+jawzgs+Q2UO49D7jnRSRGoEFRILcdmEMWGI0cm0JJ2QpYA1RDvcmzJEWhABhD/pqrL0S0CWuABKgnRki9lLseS7g2AlqwHWQSKH4oKLrILpRGhEQCw2LiRUIa4lwAAAABJRU5ErkJggg==)!important}#toast-container>.toast-warning{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGYSURBVEhL5ZSvTsNQFMbXZGICMYGYmJhAQIJAICYQPAACiSDB8AiICQQJT4CqQEwgJvYASAQCiZiYmJhAIBATCARJy+9rTsldd8sKu1M0+dLb057v6/lbq/2rK0mS/TRNj9cWNAKPYIJII7gIxCcQ51cvqID+GIEX8ASG4B1bK5gIZFeQfoJdEXOfgX4QAQg7kH2A65yQ87lyxb27sggkAzAuFhbbg1K2kgCkB1bVwyIR9m2L7PRPIhDUIXgGtyKw575yz3lTNs6X4JXnjV+LKM/m3MydnTbtOKIjtz6VhCBq4vSm3ncdrD2lk0VgUXSVKjVDJXJzijW1RQdsU7F77He8u68koNZTz8Oz5yGa6J3H3lZ0xYgXBK2QymlWWA+RWnYhskLBv2vmE+hBMCtbA7KX5drWyRT/2JsqZ2IvfB9Y4bWDNMFbJRFmC9E74SoS0CqulwjkC0+5bpcV1CZ8NMej4pjy0U+doDQsGyo1hzVJttIjhQ7GnBtRFN1UarUlH8F3xict+HY07rEzoUGPlWcjRFRr4/gChZgc3ZL2d8oAAAAASUVORK5CYII=)!important}#toast-container.toast-bottom-center>div,#toast-container.toast-top-center>div{width:300px;margin-left:auto;margin-right:auto}#toast-container.toast-bottom-full-width>div,#toast-container.toast-top-full-width>div{width:96%;margin-left:auto;margin-right:auto}.toast{background-color:#030303}.toast-success{background-color:#51A351}.toast-error{background-color:#BD362F}.toast-info{background-color:#2F96B4}.toast-warning{background-color:#F89406}.toast-progress{position:absolute;left:0;bottom:0;height:4px;background-color:#000;opacity:.4;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=40);filter:alpha(opacity=40)}@media all and (max-width:240px){#toast-container>div{padding:8px 8px 8px 50px;width:11em}#toast-container>div.rtl{padding:8px 50px 8px 8px}#toast-container .toast-close-button{right:-.2em;top:-.2em}#toast-container .rtl .toast-close-button{left:-.2em;right:.2em}}@media all and (min-width:241px) and (max-width:480px){#toast-container>div{padding:8px 8px 8px 50px;width:18em}#toast-container>div.rtl{padding:8px 50px 8px 8px}#toast-container .toast-close-button{right:-.2em;top:-.2em}#toast-container .rtl .toast-close-button{left:-.2em;right:.2em}}@media all and (min-width:481px) and (max-width:768px){#toast-container>div{padding:15px 15px 15px 50px;width:25em}#toast-container>div.rtl{padding:15px 50px 15px 15px}}",""])},function(e,t,n){var a,i;n(547),a=[n(18)],void 0===(i=function(e){return function(){function t(t,n){return t||(t=r()),(s=e("#"+t.containerId)).length?s:(n&&(s=function(t){return(s=e("<div/>").attr("id",t.containerId).addClass(t.positionClass)).appendTo(e(t.target)),s}(t)),s)}function n(t,n,a){var i=!(!a||!a.force)&&a.force;return!(!t||!i&&0!==e(":focus",t).length)&&(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){o(t)}}),!0)}function a(e){c&&c(e)}function i(n){function i(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(t){var n=t&&!1!==h.closeMethod?h.closeMethod:h.hideMethod,i=t&&!1!==h.closeDuration?h.closeDuration:h.hideDuration,r=t&&!1!==h.closeEasing?h.closeEasing:h.hideEasing;if(!e(":focus",v).length||t)return clearTimeout(k.intervalId),v[n]({duration:i,easing:r,complete:function(){o(v),clearTimeout(b),h.onHidden&&"hidden"!==S.state&&h.onHidden(),S.state="hidden",S.endTime=new Date,a(S)}})}function u(){(h.timeOut>0||h.extendedTimeOut>0)&&(b=setTimeout(c,h.extendedTimeOut),k.maxHideTime=parseFloat(h.extendedTimeOut),k.hideEta=(new Date).getTime()+k.maxHideTime)}function p(){clearTimeout(b),k.hideEta=0,v.stop(!0,!0)[h.showMethod]({duration:h.showDuration,easing:h.showEasing})}function f(){var e=(k.hideEta-(new Date).getTime())/k.maxHideTime*100;x.width(e+"%")}var h=r(),m=n.iconClass||h.iconClass;if(void 0!==n.optionsOverride&&(h=e.extend(h,n.optionsOverride),m=n.optionsOverride.iconClass||m),!function(e,t){if(e.preventDuplicates){if(t.message===l)return!0;l=t.message}return!1}(h,n)){d++,s=t(h,!0);var b=null,v=e("<div/>"),g=e("<div/>"),y=e("<div/>"),x=e("<div/>"),w=e(h.closeHtml),k={intervalId:null,hideEta:null,maxHideTime:null},S={toastId:d,state:"visible",startTime:new Date,options:h,map:n};return n.iconClass&&v.addClass(h.toastClass).addClass(m),function(){if(n.title){var e=n.title;h.escapeHtml&&(e=i(n.title)),g.append(e).addClass(h.titleClass),v.append(g)}}(),function(){if(n.message){var e=n.message;h.escapeHtml&&(e=i(n.message)),y.append(e).addClass(h.messageClass),v.append(y)}}(),h.closeButton&&(w.addClass(h.closeClass).attr("role","button"),v.prepend(w)),h.progressBar&&(x.addClass(h.progressClass),v.prepend(x)),h.rtl&&v.addClass("rtl"),h.newestOnTop?s.prepend(v):s.append(v),function(){var e="";switch(n.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}v.attr("aria-live",e)}(),v.hide(),v[h.showMethod]({duration:h.showDuration,easing:h.showEasing,complete:h.onShown}),h.timeOut>0&&(b=setTimeout(c,h.timeOut),k.maxHideTime=parseFloat(h.timeOut),k.hideEta=(new Date).getTime()+k.maxHideTime,h.progressBar&&(k.intervalId=setInterval(f,10))),h.closeOnHover&&v.hover(p,u),!h.onclick&&h.tapToDismiss&&v.click(c),h.closeButton&&w&&w.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),h.onCloseClick&&h.onCloseClick(e),c(!0)}),h.onclick&&v.click(function(e){h.onclick(e),c()}),a(S),h.debug&&console&&console.log(S),v}}function r(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},p.options)}function o(e){s||(s=t()),e.is(":visible")||(e.remove(),e=null,0===s.children().length&&(s.remove(),l=void 0))}var s,c,l,d=0,u={error:"error",info:"info",success:"success",warning:"warning"},p={clear:function(a,i){var o=r();s||t(o),n(a,o,i)||function(t){for(var a=s.children(),i=a.length-1;i>=0;i--)n(e(a[i]),t)}(o)},remove:function(n){var a=r();s||t(a),n&&0===e(":focus",n).length?o(n):s.children().length&&s.remove()},error:function(e,t,n){return i({type:u.error,iconClass:r().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:t,info:function(e,t,n){return i({type:u.info,iconClass:r().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){c=e},success:function(e,t,n){return i({type:u.success,iconClass:r().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.4",warning:function(e,t,n){return i({type:u.warning,iconClass:r().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return p}()}.apply(t,a))||(e.exports=i)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";n(549),n(551),n(553),n(556),n(558)},function(e,t,n){"use strict";var a=n(67),i=n.n(a),r=n(0),o=n.n(r),s=n(550),c=n.n(s);o.a.components.register("wizard-ability-score-step",{viewModel:function(e){var t=this;t.icon=i.a,t.TEMPLATE_FILE="wizard_ability_scores_step.tmpl",t.IDENTIFIER="WizardAbilityScoresStep",t.stepReady=e.stepReady,t.stepResult=e.results,t.REQUIRED_FIELDS=["str","dex","con","int","wis","cha"],t.init=function(){},t.load=function(){t.str.subscribe(t.dataHasChanged),t.dex.subscribe(t.dataHasChanged),t.con.subscribe(t.dataHasChanged),t.int.subscribe(t.dataHasChanged),t.wis.subscribe(t.dataHasChanged),t.cha.subscribe(t.dataHasChanged)},t.unload=function(){},t.str=o.a.observable().extend({required:"&#9679; Required"}),t.dex=o.a.observable().extend({required:"&#9679; Required"}),t.con=o.a.observable().extend({required:"&#9679; Required"}),t.int=o.a.observable().extend({required:"&#9679; Required"}),t.wis=o.a.observable().extend({required:"&#9679; Required"}),t.cha=o.a.observable().extend({required:"&#9679; Required"}),t.dataHasChanged=function(){t.results(),t.ready()},t.ready=o.a.pureComputed(function(){var e=t.REQUIRED_FIELDS.filter(function(e,n,a){return!t[e]()||!t[e]().trim()});t.stepReady(0===e.length)}),t.results=o.a.pureComputed(function(){t.stepResult({str:t.str(),dex:t.dex(),con:t.con(),int:t.int(),wis:t.wis(),cha:t.cha()})})},template:c.a})},function(e,t){e.exports='<div class="row">\n  <div class="col-xs-12">\n    \x3c!-- Begin About Section --\x3e\n    <div class="row">\n      <div class="col-sm-offset-1 col-sm-11 col-xs-12">\n        <div class="h1">Ability Scores<br />\n          <small>These scores are the core of all of your abilities. Choose them wisely.</small>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-offset-1 col-sm-7 col-xs-12">\n        <div class="h3">Rolling for Ability Scores<br />\n          <small>One method is to roll four D6 dice and record the total of the highest\n          three; do this until you have six numbers. Or you can use\n          the following scores instead: 15, 14, 13, 12, 10, 8.\n          </small>\n        </div>\n        <p></p>\n        <div class="row">\n          <div class="col-md-4 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Strength\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n              <input type="number"\n                     class="form-control"\n                     aria-describedby="basic-addon2"\n                     min="1"\n                     max="18"\n                data-bind=\'textInput: str, valueUpdate: "afterkeydown"\'>\n            </div>\n          </div>\n          <div class="col-md-2 col-padded">\n            <span data-bind=\'visible: str.hasError, html: str.validationMessage,\n              css: { errormessagetext: str.hasError }\'> </span>\n          </div>\n          <div class="col-md-4 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Dexterity\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n              <input type="number"\n                     class="form-control"\n                     aria-describedby="basic-addon2"\n                     min="1"\n                     max="18"\n                data-bind=\'textInput: dex, valueUpdate: "afterkeydown"\'>\n            </div>\n          </div>\n          <div class="col-md-2 col-padded">\n            <span data-bind=\'visible: dex.hasError, html: dex.validationMessage,\n              css: { errormessagetext: dex.hasError }\'> </span>\n          </div>\n        </div>\n        <div class="row">\n        \x3c!-- Race, Gender, Class, Alignment --\x3e\n          <div class="col-md-4 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Constitution</span>\n              <input type="number"\n                     class="form-control"\n                     aria-describedby="basic-addon2"\n                     min="1"\n                     max="18"\n                data-bind=\'textInput: con, valueUpdate: "afterkeydown"\'>\n            </div>\n          </div>\n          <div class="col-md-2 col-padded">\n            <span data-bind=\'visible: con.hasError, html: con.validationMessage,\n              css: { errormessagetext: con.hasError }\'> </span>\n          </div>\n          <div class="col-md-4 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Intelligence</span>\n              <input type="number"\n                     class="form-control"\n                     aria-describedby="basic-addon2"\n                     min="1"\n                     max="18"\n                data-bind=\'textInput: int, valueUpdate: "afterkeydown"\'>\n            </div>\n          </div>\n          <div class="col-md-2 col-padded">\n            <span data-bind=\'visible: int.hasError, html: int.validationMessage,\n              css: { errormessagetext: int.hasError }\'> </span>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-4 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Wisdom\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n              <input type="number"\n                     class="form-control"\n                     aria-describedby="basic-addon2"\n                     min="1"\n                     max="18"\n                data-bind=\'textInput: wis, valueUpdate: "afterkeydown"\'>\n            </div>\n          </div>\n          <div class="col-md-2 col-padded">\n            <span data-bind=\'visible: wis.hasError, html: wis.validationMessage,\n              css: { errormessagetext: wis.hasError }\'> </span>\n          </div>\n          <div class="col-md-4 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Charisma\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n              <input type="number"\n                     class="form-control"\n                     aria-describedby="basic-addon2"\n                     min="1"\n                     max="18"\n                     data-bind=\'textInput: cha, valueUpdate: "afterkeydown"\'>\n            </div>\n          </div>\n          <div class="col-md-2 col-padded">\n            <span data-bind=\'visible: cha.hasError, html: cha.validationMessage,\n              css: { errormessagetext: cha.hasError }\'> </span>\n          </div>\n        </div>\n      </div>\n      <div class="col-sm-3 hidden-xs">\n        <img data-bind="attr: { src: icon }" width="100%">\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(552),o=n.n(r);i.a.components.register("wizard-campaign-step",{viewModel:function(e){var t=this;t.TEMPLATE_FILE="wizard_campaign_step.tmpl",t.IDENTIFIER="WizardCampaignStep",t.REQUIRED_FIELDS=["campaignName","playerName"],t.stepReady=e.stepReady,t.stepResult=e.results,t.init=function(){},t.load=function(){t.campaignName.subscribe(t.dataHasChanged),t.playerName.subscribe(t.dataHasChanged)},t.unload=function(){},t.campaignName=i.a.observable().extend({required:"&#9679; Required"}),t.playerName=i.a.observable().extend({required:"&#9679; Required"}),t.dataHasChanged=function(){t.results(),t.ready()},t.ready=i.a.pureComputed(function(){var e=t.REQUIRED_FIELDS.filter(function(e,n,a){return!t[e]()||!t[e]().trim()});t.stepReady(0===e.length)}),t.results=i.a.pureComputed(function(){t.stepResult({playerName:t.playerName(),campaignName:t.campaignName()})})},template:o.a})},function(e,t){e.exports='<div class="row">\n  <div class="col-xs-12">\n    \x3c!-- Begin About Section --\x3e\n    <div class="row">\n      <div class="col-sm-offset-1 col-sm-11 col-xs-12">\n        <div class="h1">It all began<br />\n          <small>"Long ago, in a land of fire and ice..." -Unknown</small>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-offset-1 col-sm-7 col-xs-12">\n        <div class="h3">Tell us a story!<br />\n          <small>Before we can create your campaign, we just need a few bits of information.</small>\n        </div>\n        \x3c!-- Names --\x3e\n        <div class="row">\n          <div class="col-md-10 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Campaign Name</span>\n              <input type="text" class="form-control" aria-describedby="basic-addon2"\n                data-bind=\'textInput: campaignName, valueUpdate: "afterkeydown"\' />\n            </div>\n          </div>\n          <div class="col-md-2 col-padded">\n            <span data-bind=\'visible: campaignName.hasError, html: campaignName.validationMessage,\n              css: { errormessagetext: campaignName.hasError }\'> </span>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-10 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Player Name</span>\n                <input type="text" class="form-control" aria-describedby="basic-addon2"\n                  data-bind=\'textInput: playerName, valueUpdate: "afterkeydown"\' />\n            </div>\n          </div>\n          <div class="col-md-2 col-padded">\n            <span data-bind=\'visible: playerName.hasError, html: playerName.validationMessage,\n              css: { errormessagetext: playerName.hasError }\'> </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";function a(e){var t=this;t.logo=d.a,t.TEMPLATE_FILE="wizard_intro_step.tmpl",t.IDENTIFIER="WizardIntroStep",t.ready=e.stepReady,t.results=e.results,t.wellOpen=c.a.observable(!1),t.fileContents=c.a.observable(),t.fileReader=new window.FileReader,t.character=null,t.fromRemoteFile=!1,t.init=function(){},t.load=function(){t.setPlayerType("player"),t.ready(!0)},t.unload=function(){},t.setPlayerType=function(e){t.results({PlayerType:e})},t.toggleWellOpen=function(){t.wellOpen(!t.wellOpen());var e=document.getElementById("dropbox-container");if(e.childNodes.length<1){var n=Dropbox.createChooseButton(f);e.appendChild(n)}},t.arrowIconClass=c.a.pureComputed(function(){return t.wellOpen()?"fa fa-caret-up":"fa fa-caret-down"}),t.importFromFile=function(){if(t.fromRemoteFile)t._setImportReady(t.character.key());else{var e=t.fileReader.result.indexOf(",")+1,n=JSON.parse(decodeURIComponent(atob(t.fileReader.result.substring(e,t.fileReader.result.length)))),a=o.d.importCharacter(n);t._setImportReady(a.key())}},a.importRemoteFile=function(e){try{r.a.get(e[0].link).done(function(e){t.fromRemoteFile=!0,t.character=o.d.importCharacter(JSON.parse(decodeURIComponent(e)))})}catch(e){Notifications.userNotification.dangerNotification.dispatch("There was an error importing your character or campaign from Dropbox. Please try again.","")}},t._setImportReady=function(e){t.results({import:e}),t.ready(!1),t.ready(!0)}}n(554);var i=n(18),r=n.n(i),o=n(15),s=(n(62),n(0)),c=n.n(s),l=n(185),d=n.n(l),u=n(555),p=n.n(u);const f={success:function(e){a.importRemoteFile(e)},cancel:function(){},linkType:"direct",multiselect:!1,extensions:[".json"]};c.a.components.register("wizard-intro-step",{viewModel:a,template:p.a})},function(e,t,n){"use strict";var a=n(0),i=n.n(a);i.a.bindingHandlers.file={init:function(e,t,n){var a,r,o,s,c;"function"==typeof t()?a=t():(a=t().data,r=t().name,"string"==typeof(o=t().allowed)&&(o=[o]),"string"==typeof(s=t().prohibited)&&(s=[s]),c=t().reader),c||(c=new FileReader),c.onloadend=function(){a(c.result)};i.a.utils.registerEventHandler(e,"change",function(){var t=e.files[0];if(void 0!==t){if(o&&!o.some(function(e){return e===t.type}))return console.log("File "+t.name+" is not an allowed type, ignoring."),void a(null);if(s&&s.some(function(e){return e===t.type}))return console.log("File "+t.name+" is a prohibited type, ignoring."),void a(null);c.readAsDataURL(t),"function"==typeof r&&r(t.name)}else a(null)})}}},function(e,t){e.exports='<div class="row">\n  <div class="col-xs-12">\n    <div class="container">\n      <div class="center-block">\n        \x3c!-- Begin About Section --\x3e\n        <div class="row">\n          <div class="col-sm-offset-1 col-sm-11 col-xs-12">\n            <div class="h1">Welcome to Adventurers Codex!<br />\n              <small>Experience the next step in tabletop RPGs</small>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-sm-offset-1 col-sm-7 col-xs-12">\n            <div class="h3">Already have a Character or Campaign?</div>\n            <p>\n              Have you used Adventurer\'s Codex before? If so import your existing character or campaign by clicking below. We\'ll skip the formalities and get you right to your game.\n            </p>\n            <div class="row">\n              <div class="col-xs-offset-3 col-sm-offset4 col-xs-4">\n                <button class="btn btn-default btn-sm" data-toggle="collapse"\n                  data-bind="click: toggleWellOpen"\n                  data-target="#importCollapse" aria-expanded="false"\n                  aria-controls="importCollapse">\n                    Import an Existing Character/Campaign\n                    <i data-bind="css: arrowIconClass" aria-hidden="true"></i>\n                </button>\n              </div>\n            </div>\n            <div class="collapse" id="importCollapse">\n              <div class="well no-bottom-margin well-top-shadow">\n                <div class="row">\n                  <div class="col-sm-11 col-sm-offset-1">\n                    <h4>Import file:</h4>\n                    <input type="file" id="file" name="file"\n                      data-bind="file: { data: fileContents, reader: fileReader }"/>\n                  </div>\n                  <div class="col-sm-11 col-sm-offset-1">\n                    <h4>Or import from your Dropbox!:</h4>\n                    <div id="dropbox-container"></div>\n                  </div>\n\n                </div>\n                <br/>\n                <div class="row">\n                  <div class="text-center">\n                    <button type="button" class="btn btn-primary"\n                      data-bind="click: importFromFile">Import</button>\n                  </div>\n                </div>\n               </div>\n              </div>\n            \x3c!-- Begin Create A new Character Section --\x3e\n            <div class="h3">Start from Scratch!</div>\n            <p>If you\'re new to Adventurer\'s Codex, welcome! You can get started <b>making your first character</b>, or <b>creating your first campaign</b> by clicking "Get Started". If you\'ve never made a character or run a game before, don\'t worry! We\'ll guide you through the process.\n            </p>\n          </div>\n          <div class="col-sm-3 hidden-xs">\n            <img data-bind="attr: { src: logo }" width="100%">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";var a=n(11),i=n(185),r=n.n(i),o=n(0),s=n.n(o),c=n(557),l=n.n(c);s.a.components.register("wizard-player-type-step",{viewModel:function(e){var t=this;t.icon=r.a,t.TEMPLATE_FILE="wizard_player_type_step.tmpl",t.IDENTIFIER="WizardPlayerTypeStep",t.stepReady=e.stepReady,t.stepResult=e.results,t.REQUIRED_FIELDS=["playerType"],t.init=function(){},t.load=function(){t.playerType(null),t.playerType.subscribe(t.dataHasChanged)},t.unload=function(){},t.playerType=s.a.observable(),t.dataHasChanged=function(){t.results(),t.ready()},t.ready=function(){var e=t.REQUIRED_FIELDS.filter(function(e,n,a){return!t[e]()||!t[e]().trim()});t.stepReady(0===e.length)},t.results=s.a.pureComputed(function(){t.stepResult({playerType:a.o[t.playerType()]})})},template:l.a})},function(e,t){e.exports='<div class="row">\n  <div class="col-xs-12">\n    <div class="container">\n      <div class="center-block">\n        \x3c!-- Begin About Section --\x3e\n        <div class="row">\n          <div class="col-sm-offset-1 col-sm-11 col-xs-12">\n            <div class="h1">Welcome to Adventurers Codex!<br />\n              <small>Experience the next step in tabletop RPGs</small>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-sm-offset-1 col-sm-7 col-xs-12">\n            <div class="h3">First thing\'s first</div>\n            <p>\n              Before we can go any further, what kind of player are you? Once we know,\n              we can start the process of making your character or campaign.\n            </p><br />\n            <div class="row">\n              <div class="col-sm-8 col-sm-offset-2">\n                <div class="btn-group btn-group-justified" role="group">\n                  <label class="btn btn-default"\n                    data-bind="css: { active: playerType() == \'characterPlayerType\'}">\n                    <input type="radio" class="hide-block"\n                    name="setPlayerTypePlayer" value="characterPlayerType" data-bind="checked: playerType"/>\n                    I\'m a Player\n                  </label>\n                  <label class="btn btn-default"\n                    data-bind="css: { active: playerType() == \'dmPlayerType\'}">\n                    <input type="radio" class="hide-block"\n                      name="setPlayerTypeDM" value="dmPlayerType" data-bind="checked: playerType"/>\n                    I\'m a DM\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="col-sm-3 hidden-xs">\n            <img data-bind="attr: { src: icon }" width="100%">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n(559);var a=n(1),i=n(67),r=n.n(i),o=n(0),s=n.n(o),c=n(560),l=n.n(c);s.a.components.register("wizard-profile-step",{viewModel:function(e){var t=this;t.icon=r.a,t.TEMPLATE_FILE="wizard_profile_step.tmpl",t.IDENTIFIER="WizardProfileStep",t.stepReady=e.stepReady,t.stepResult=e.results,t.REQUIRED_FIELDS=["characterName","playerName"],t.init=function(){},t.load=function(){t.characterName.subscribe(t.dataHasChanged),t.playerName.subscribe(t.dataHasChanged),t.race.subscribe(t.dataHasChanged),t.background.subscribe(t.dataHasChanged),t.backpack.subscribe(t.dataHasChanged),t.typeClass.subscribe(t.dataHasChanged),t.alignment.subscribe(t.dataHasChanged),t.age.subscribe(t.dataHasChanged),t.gender.subscribe(t.dataHasChanged),t.diety.subscribe(t.dataHasChanged),t.level.subscribe(t.dataHasChanged),t.exp.subscribe(t.dataHasChanged)},t.unload=function(){},t.characterName=s.a.observable().extend({required:"&#9679; Required"}),t.playerName=s.a.observable().extend({required:"&#9679; Required"}),t.race=s.a.observable(),t.background=s.a.observable(),t.backpack=s.a.observable(),t.typeClass=s.a.observable(),t.alignment=s.a.observable(),t.age=s.a.observable(),t.gender=s.a.observable(),t.diety=s.a.observable(),t.level=s.a.observable(),t.exp=s.a.observable(),t.raceOptions=a.c.profile.raceOptions,t.classOptions=a.c.profile.classOptions,t.alignmentOptions=a.c.profile.alignmentOptions,t.backgroundOptions=a.c.profile.backgroundOptions,t.backpackOptions=a.c.wizardProfile.backpackOptions,t.setRace=function(e,n){t.race(n)},t.setClass=function(e,n){t.typeClass(n)},t.setAlignment=function(e,n){t.alignment(n)},t.setBackground=function(e,n){t.background(n)},t.setBackpack=function(e,n){t.backpack(n)},t.populateTraits=function(){var e=[],n=t.race();return Object.keys(a.b.traits).forEach(function(t){a.b.traits[t].race==n&&e.push(a.b.traits[t])}),e},t.populateBackpackItems=function(){var e=[],n=[],i=t.backpack();return Object.keys(a.b.backpacks).forEach(function(t){t==i&&(e=a.b.backpacks[t])}),e&&e.forEach(function(e,t,i){var r=a.b.items[e.name];r.itemQty=e.count,n.push(r)}),n},t.dataHasChanged=function(){t.results(),t.ready()},t.ready=s.a.pureComputed(function(){var e=t.REQUIRED_FIELDS.filter(function(e,n,a){return!t[e]()||!t[e]().trim()});t.stepReady(0===e.length)}),t.results=s.a.pureComputed(function(){t.stepResult({playerName:t.playerName(),characterName:t.characterName(),background:t.background(),race:t.race(),typeClass:t.typeClass(),age:t.age(),alignment:t.alignment(),gender:t.gender(),diety:t.diety(),level:t.level()||1,exp:t.exp(),traits:t.populateTraits(),items:t.populateBackpackItems()})})},template:l.a})},function(e,t,n){"use strict";var a=n(0),i=n.n(a);i.a.extenders.required=function(e,t){function n(n){e.hasError(!n),e.validationMessage(n?"":t||"This field is required")}return e.hasError=i.a.observable(),e.validationMessage=i.a.observable(),n(e()),e.subscribe(n),e}},function(e,t){e.exports='<div class="row">\n  <div class="col-xs-12">\n    \x3c!-- Begin About Section --\x3e\n    <div class="row">\n      <div class="col-sm-offset-1 col-sm-11 col-xs-12">\n        <div class="h1">Who are you?<br />\n          <small>Are you a barbarian warmonger? A wandering cleric? A misunderstood sorcerer?</small>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-offset-1 col-sm-7 col-xs-12">\n        <div class="h3">Tell us about yourself.<br />\n          <small>Before we can create your character, we just need a few bits of information.</small>\n        </div>\n        \x3c!-- Names --\x3e\n        <div class="row">\n          <div class="col-md-10 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Character Name</span>\n                <input type="text" class="form-control" aria-describedby="basic-addon2"\n                  data-bind=\'textInput: characterName, valueUpdate: "afterkeydown"\' />\n            </div>\n          </div>\n          <div class="col-md-2 col-padded">\n            <span data-bind=\'visible: characterName.hasError, html: characterName.validationMessage,\n              css: { errormessagetext: characterName.hasError }\'> </span>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-10 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Player Name</span>\n                <input type="text" class="form-control" aria-describedby="basic-addon2"\n                  data-bind=\'textInput: playerName, valueUpdate: "afterkeydown"\' />\n            </div>\n          </div>\n          <div class="col-md-2 col-padded">\n            <span data-bind=\'visible: playerName.hasError, html: playerName.validationMessage,\n              css: { errormessagetext: playerName.hasError }\'> </span>\n          </div>\n        </div>\n        <div class="h3">Anything else?<br />\n          <small>Tell us more about yourself, and we will pre-populate what we can. Racial traits pre-populate now - more to come.</small>\n        </div>\n        <p></p>\n        \x3c!-- Race, Gender, Class, Alignment --\x3e\n        <div class="row">\n          <div class="col-md-6 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Alignment</span>\n              <input type="text" class="form-control" aria-describedby="basic-addon2"\n                data-bind=\'textInput: alignment,\n                           autocomplete: { source: alignmentOptions,\n                           onselect: setAlignment }\'>\n            </div>\n          </div>\n          <div class="col-md-6 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Deity</span>\n              <input type="text" class="form-control" aria-describedby="basic-addon2"\n                data-bind=\'textInput: diety\'>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-6 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Race</span>\n              <input type="text" class="form-control" aria-describedby="basic-addon2"\n                data-bind=\'textInput: race, autocomplete: { source: raceOptions,\n                  onselect: setRace }\'>\n            </div>\n          </div>\n          <div class="col-md-6 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Class</span>\n              <input type="text" class="form-control" aria-describedby="basic-addon2"\n                data-bind=\'textInput: typeClass, autocomplete: { source: classOptions,\n                  onselect: setClass }\'>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-6 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Gender</span>\n              <input type="text" class="form-control" aria-describedby="basic-addon2"\n                data-bind=\'textInput: gender\'>\n            </div>\n          </div>\n          <div class="col-md-6 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Age</span>\n              <input type="number"\n                     class="form-control"\n                     aria-describedby="basic-addon2"\n                     min="1"\n                     max="1500"\n                     data-bind=\'textInput: age\'>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-6 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Background</span>\n              <input type="text" class="form-control" aria-describedby="basic-addon2"\n                     data-bind=\'textInput: background,\n                                autocomplete: { source: backgroundOptions,\n                                onselect: setBackground }\'>\n            </div>\n          </div>\n        </div>\n        <div class="h3">Adventuring Gear.<br />\n          <small>Select a starting backpack and we will add all the items to your inventory.</small>\n        </div>\n        <div class="row">\n          <div class="col-md-6 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Backpack</span>\n              <select  class="form-control"\n                       data-bind="options: backpackOptions,\n                                  value: backpack"></select>\n            </div>\n          </div>\n        </div>\n        <div class="h3">Starting Mid-Adventure?<br />\n          <small>Add your existing level and experience points if you want, if not we\'re guessing you\'re just starting out.</small>\n        </div>\n        <div class="row">\n          <div class="col-md-6 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Level</span>\n              <input type="number" class="form-control" aria-describedby="basic-addon2"\n                data-bind=\'textInput: level\'>\n            </div>\n          </div>\n          <div class="col-md-6 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Experience</span>\n              <input type="number" class="form-control" aria-describedby="basic-addon2"\n                data-bind=\'textInput: exp\'>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col-sm-3 hidden-xs">\n        <img data-bind="attr: { src: icon }" width="100%">\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";function a(e,t){this.viewModel=e||null,this.terminate=t||!1}var i=n(15),r=n(1),o=n(2),s=n(0),c=n.n(s),l=n(562),d=n.n(l),u=n(22),p=n.n(u);c.a.components.register("wizard",{viewModel:function(){var e=this;e.previousSteps=c.a.observableArray([]),e.currentStep=c.a.observable(null),e.nextStep=c.a.observable(null),e._isComplete=c.a.observable(!1),e._currentStepReadySubscription=null,e.stepReady=c.a.observable(!1),e.aggregateResults=c.a.observable({}),e.stepResult=c.a.observable({}),e.init=function(){},e.load=function(){e.getNextStep(),e.goForward()},e.unload=function(){e.reset()},e.goForward=function(){var t=e.nextStep();e.currentStep()&&e.previousSteps.push(e.currentStep()),e.currentStep(t.viewModel),e._initializeStep(e.currentStep())},e.goBackward=function(){if(e._isComplete()&&e._isComplete(!1),0!==e.previousSteps().length){e._deinitializeStep(e.currentStep());var t=e.previousSteps.pop();e.currentStep(t),e._initializeStep(e.currentStep()),e.getNextStep()}},e.getNextStep=function(){if(!e.currentStep()||e.stepReady()){var t=e._determineStepAfterStep(e.currentStep());t.viewModel||e._isComplete(!0),t.terminate?e.terminate():e.nextStep(t)}},e.saveStepResult=function(){e.aggregateResults()[e.currentStep()]=e.stepResult()},e.terminate=function(){var e=o.a.findAll(i.d).reverse()[0];e&&r.a.changeCharacter(e.key())},e.reset=function(){e.previousSteps([]),e.currentStep(null),e.nextStep(null),e._isComplete(!1),e._currentStepReadySubscription=null},e.save=function(){var t=new i.d;t.key(p.a.v4()),t.save();var n=e.aggregateResults().WizardPlayerTypeStep.playerType;if(t.playerType(n),t.save(),"character"==n.key){var a=new i.t,r=e.aggregateResults().WizardProfileStep;r.characterId=t.key(),a.importValues(r),a.save(),r.traits.forEach(function(e,n,a){var r=new i.y;e.characterId=t.key(),r.importValues(e),r.save()}),r.items.forEach(function(e,n,a){var r=new i.l;e.characterId=t.key(),r.importValues(e),r.save()});var o=new i.p;o.characterId(t.key()),o.save();var s=new i.a,c=e.aggregateResults().WizardAbilityScoresStep;c.characterId=t.key(),s.importValues(c),s.save()}else if("dm"==n.key){var l=new i.b;r=e.aggregateResults().WizardCampaignStep,l.characterId=t.key(),l.playerName(r.playerName),l.name(r.campaignName),l.createdDate(new Date),l.save()}},e.shouldShowStartButton=c.a.pureComputed(function(){return 0===e.previousSteps().length}),e.shouldShowNextButton=c.a.pureComputed(function(){return e.currentStep()&&e.stepReady()&&!e.shouldShowFinishButton()&&!e.shouldShowStartButton()}),e.shouldShowBackButton=c.a.pureComputed(function(){return 0!=e.previousSteps().length}),e.shouldShowFinishButton=c.a.pureComputed(function(){return e._isComplete()}),e.nextButton=function(){e.saveStepResult(),e.goForward(),e.stepReady(!1)},e.backButton=function(){e.stepReady(!1),e.goBackward()},e.finishButton=function(){e.saveStepResult(),e.save(),e.terminate(),e.reset()},e._initializeStep=function(t){e._currentStepReadySubscription=e.stepReady.subscribe(e.getNextStep)},e._deinitializeStep=function(t){e._currentStepReadySubscription.dispose()},e.allSteps=function(){return e.previousSteps().concat([e.currentStep()])},e._determineStepAfterStep=function(t){if(!t)return new a("WizardIntroStep",!1);var n=e.stepResult();if("WizardIntroStep"===t){if(n.import)return new a(null,!0);if("player"===n.PlayerType)return new a("WizardPlayerTypeStep",!1);throw"Assertion Failure: Unknown Result Type"}return"WizardPlayerTypeStep"===t?"character"===n.playerType.key?new a("WizardProfileStep",!1):new a("WizardCampaignStep",!1):"WizardProfileStep"===t?new a("WizardAbilityScoresStep",!1):"WizardAbilityScoresStep"===t?new a(null,!1):"WizardCampaignStep"===t?new a(null,!1):void 0}},template:d.a})},function(e,t){e.exports='<div class="row">\n  <div class="col-sm-offset-1 col-sm-11 col-xs-12">\n    <div class="container-fluid">\n      \x3c!-- ko if: currentStep() === \'WizardIntroStep\' --\x3e\n\t\t\t<wizard-intro-step params="stepReady: stepReady, results: stepResult"></wizard-intro-step>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: currentStep() === \'WizardPlayerTypeStep\' --\x3e\n\t\t\t<wizard-player-type-step params="stepReady:stepReady, results: stepResult"></wizard-player-type-step>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: currentStep() === \'WizardAbilityScoresStep\' --\x3e\n\t\t\t<wizard-ability-score-step params="stepReady:stepReady, results: stepResult"></wizard-ability-score-step>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: currentStep() === \'WizardCampaignStep\' --\x3e\n\t\t\t<wizard-campaign-step params="stepReady:stepReady, results: stepResult"></wizard-campaign-step>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko if: currentStep() === \'WizardProfileStep\' --\x3e\n\t\t\t<wizard-profile-step params="stepReady:stepReady, results: stepResult"></wizard-profile-step>\n      \x3c!-- /ko --\x3e\n\t\t\t<hr />\n      <div class="spacer"></div>\n      <div class="row">\n        \x3c!-- ko if: shouldShowBackButton --\x3e\n        <div class="col-xs-2 col-sm-offset-1">\n          <button data-bind="click: backButton" class="btn btn-default">\n            Back\n          </button>\n        </div>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: shouldShowNextButton --\x3e\n        <div class="col-2-xs col-sm-offset-7 col-xs-offset-10">\n          <button data-bind="click: nextButton" class="btn btn-primary">\n            Next\n          </button>\n        </div>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: shouldShowStartButton --\x3e\n        <div class="col-2-xs col-sm-offset-7 col-xs-offset-10">\n          <button data-bind="click: nextButton" class="btn btn-primary">\n            Get Started\n          </button>\n        </div>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: shouldShowFinishButton --\x3e\n        <div class="col-2-xs col-sm-offset-7 col-xs-offset-10">\n          <button data-bind="click: finishButton" class="btn btn-primary">\n            Finish\n          </button>\n        </div>\n        \x3c!-- /ko --\x3e\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n(23);var a=n(15),i=n(1),r=n(20),o=n(0),s=n.n(o),c=n(564),l=n.n(c);s.a.components.register("campaign-maps-and-images",{viewModel:function(){var e=this;e.mapsOrImages=s.a.observableArray(),e.blankMapOrImage=s.a.observable(new a.c),e.openModal=s.a.observable(!1),e.editItemIndex=null,e.currentEditItem=s.a.observable(),e.firstElementInModalHasFocus=s.a.observable(!1),e.editFirstModalElementHasFocus=s.a.observable(!1),e.previewTabStatus=s.a.observable("active"),e.editTabStatus=s.a.observable(""),e.convertedDisplayUrl=s.a.observable(),e.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"},"description asc":{field:"description",direction:"asc"},"description desc":{field:"description",direction:"desc"}},e.filter=s.a.observable(""),e.sort=s.a.observable(e.sorts["name asc"]),e.selectedMapOrImageToPush=s.a.observable(),e.openPushModal=s.a.observable(!1),e.pushType=s.a.observable("image"),e._isConnectedToParty=s.a.observable(!1),e.toggleExhibit=function(t){var n=r.g.sharedService();t.isExhibited()?(t.isExhibited(!1),t.save(),n.clearImage()):(n.publishImage(t.toJSON()),n.clearExhibitFlag(),t.isExhibited(!0),t.save(),e._dataHasChanged())},e.load=function(){i.f.global.save.add(e.save),i.f.party.joined.add(e._connectionHasChanged),i.f.party.left.add(e._connectionHasChanged),i.f.exhibit.toggle.add(e._dataHasChanged);var t=i.a.activeCharacter().key(),n=r.l.findBy(a.c,"characterId",t);n&&e.mapsOrImages(n),e._connectionHasChanged()},e.save=function(){e.mapsOrImages().forEach(function(e,t,n){e.save()})},e.delete=function(){e.mapsOrImages().forEach(function(e,t,n){e.delete()})},e.filteredAndSortedMapsAndImages=s.a.computed(function(){return r.n.sortAndFilter(e.mapsOrImages(),e.sort(),null)}),e.sortArrow=function(t){return r.n.sortArrow(t,e.sort())},e.sortBy=function(t){e.sort(r.n.sortForName(e.sort(),t,e.sorts))},e.addMapOrImage=function(){var t=e.blankMapOrImage();t.characterId(i.a.activeCharacter().key()),t.save(),e.mapsOrImages.push(t),e.blankMapOrImage(new a.c)},e.removeMapOrImage=function(t){t.delete(),e.mapsOrImages.remove(t)},e.editMapOrImage=function(t){e.editItemIndex=t.__id,e.currentEditItem(new a.m),e.currentEditItem().importValues(t.exportValues()),e.convertedDisplayUrl(i.g.string.createDirectDropboxLink(e.currentEditItem().imageUrl())),e.openModal(!0)},e.toggleModal=function(){e.openModal(!e.openModal())},e.addModalFinishedOpening=function(){e.firstElementInModalHasFocus(!0)},e.modalFinishedOpening=function(){e.selectPreviewTab()},e.modalFinishedClosing=function(){e.openModal()&&i.g.array.updateElement(e.mapsOrImages(),e.currentEditItem(),e.editItemIndex),e.save(),e.openModal(!1)},e.selectPreviewTab=function(){e.convertedDisplayUrl(i.g.string.createDirectDropboxLink(e.currentEditItem().imageUrl())),e.previewTabStatus("active"),e.editTabStatus("")},e.selectEditTab=function(){e.editTabStatus("active"),e.previewTabStatus(""),e.editFirstModalElementHasFocus(!0)},e.shouldShowPushButton=s.a.pureComputed(function(){return e._isConnectedToParty()}),e.pushModalFinishedClosing=function(){e.selectedMapOrImageToPush(null),e.openPushModal(!1)},e.pushModalToPlayerButtonWasPressed=function(t){e.selectedMapOrImageToPush(t),e.openPushModal(!0)},e._connectionHasChanged=function(){var t=r.c.sharedService();e._isConnectedToParty(null!=t.currentPartyNode)},e._dataHasChanged=function(){var t=i.a.activeCharacter().key(),n=r.l.findBy(a.c,"characterId",t);n&&e.mapsOrImages(n)}},template:l.a})},function(e,t){e.exports='<div class="row">\n  <div class="col-xs-12">\n    <div class="h2">\n      Campaign Maps &amp; Images<br />\n      <small>A place for all of the great places and maps in your world.</small>\n    </div>\n    <div class="panel panel-default">\n      <div class="panel-body tight-inner">\n        <table class="table table-responsive table-ac-bordered table-hover">\n          <thead>\n            <tr>\n              <th data-bind="click: function(){sortBy(\'name\');}" class="col-md-4 col-sm-11">\n                Name\n                <span data-bind="css: sortArrow(\'name\')"></span>\n              </th>\n              <th data-bind="click: function(){sortBy(\'description\');}" class="col-md-7 hidden-xs hidden-sm">\n                Description\n                <span data-bind="css: sortArrow(\'description\')"></span>\n              </th>\n              <th>Send</th>\n              <th>Exhibit</th>\n              <th class="col-md-1">\n                <a data-toggle="modal"\n                   data-target="#addCampaignMapOrImage">\n                  <i class="fa fa-plus fa-color clickable"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n          \x3c!-- ko foreach: filteredAndSortedMapsAndImages --\x3e\n            <tr class="clickable">\n              <td data-bind="text: name, click: $parent.editMapOrImage"\n                  class="col-md-4 col-xs-12"\n                  href="#"></td>\n              <td data-bind="html: shortDescription, click: $parent.editMapOrImage"\n                  class="col-md-7 hidden-sm hidden-xs"\n                  href="#"></td>\n              \x3c!-- ko if: $parent.shouldShowPushButton --\x3e\n              <td class="text-center">\n                <a data-bind="click: $parent.pushModalToPlayerButtonWasPressed" href="#" title="Send image to Player\'s Chat">\n                  <i class="fa fa-paper-plane-o fa-color-hover">\n                  </i>\n                </a>\n              </td>\n              <td class="text-center">\n                <a data-bind="click: $parent.toggleExhibit" href="#" title="Send Player\'s Exhibit">\n                  <i data-bind="css: { exhibitActiveIcon: isExhibited }" class="fa fa-desktop fa-color-hover">\n                  </i>\n                </a>\n              </td>\n              \x3c!-- /ko --\x3e\n              \x3c!-- ko ifnot: $parent.shouldShowPushButton --\x3e\n              <td class="text-center">\n                <span class="fa fa-paper-plane-o fa-disabled" style="cursor:pointer;"\n                  data-bind="popover: { content: \'Join a Party to send image to Player\\\'s Chat\' }">\n                </span>\n              </td>\n              <td class="text-center">\n                <span class="fa fa-desktop fa-disabled" style="cursor:pointer;"\n                  data-bind="popover: { content: \'Join a Party send Player\\\'s Exhibit\' }">\n                </span>\n              </td>\n              \x3c!-- /ko --\x3e\n              <td>\n                <a data-bind="click: $parent.removeMapOrImage" href="#">\n                  <i class="fa fa-trash-o fa-color-hover">\n                  </i>\n                </a>\n              </td>\n            </tr>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko if: filteredAndSortedMapsAndImages().length == 0 --\x3e\n            <tr class="clickable">\n              <td data-toggle="modal" data-target="#addCampaignMapOrImage"\n                colspan="7" class="text-center">\n                <i class="fa fa-plus fa-color"></i>\n                Add a new Map or Image.\n              </td>\n            </tr>\n            \x3c!-- /ko --\x3e\n          </tbody>\n        </table>\n  </div>\n</div>\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n     id="addCampaignMapOrImage"\n     tabindex="-1"\n     role="dialog" data-bind="modal: {\n      onopen: addModalFinishedOpening }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title"\n            id="addMapOrImageLabel">Add a new Map or Image.</h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal" onsubmit="return false;">\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Name</label>\n            <div class="col-sm-10">\n              <input type="text"\n                     class="form-control"\n                     placeholder="A really cool place or image"\n                     data-bind="textInput: blankMapOrImage().name,\n                        hasFocus: firstElementInModalHasFocus">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Link</label>\n            <div class="col-sm-10">\n              <input type="text"\n                     class="form-control"\n                     placeholder=""\n                     data-bind="textInput: blankMapOrImage().imageUrl">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 col-padded control-label">Description</label>\n              <div class="col-sm-10 col-padded">\n                <textarea type="text"\n                       class="form-control" rows="4"\n                       data-bind=\'value: blankMapOrImage().description\'></textarea>\n              </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addMapOrImage\'\n                    data-dismiss="modal">Add</button>\n          </div>\n        </form>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     id="viewMapOrImage"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      open: openModal,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit a Map or Image.</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#" aria-controls="mapsAndImagesModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#" aria-controls="mapsAndImagesModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane">\n            <div class="h3">\n              <span data-bind="text: name"></span>\n            </div>\n            <hr />\n            <div class="row row-padded">\n              <div class="col-xs-12 col-padded text-center">\n                <img data-bind="attr: { src: $parent.convertedDisplayUrl }" width="100%" />\n              </div>\n            </div>\n            <hr />\n            <div class="row">\n              <div class="col-xs-12">\n                <div data-bind="markdownPreview: description"\n                     class="preview-modal-overflow">\n                </div>\n              </div>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="mapOrImageName"\n                       class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         data-bind="textInput: name, hasFocus: $parent.editFirstModalElementHasFocus">\n                </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Link</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         data-bind="textInput: imageUrl">\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="mapOrImageDescription"\n                       class="col-sm-2 col-padded control-label">Description</label>\n                  <div class="col-sm-10 col-padded">\n                    <textarea type="text" rows="6"\n                           class="form-control"\n                           data-bind=\'value: description, markdownEditor: true\'></textarea>\n                  </div>\n              </div>\n            </form>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <button type="button"\n                  class="btn btn-primary"\n                  data-dismiss="modal">Done</button>\n        </div>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\n<player-push-modal params="isOpen: openPushModal, type: pushType, payload: selectedMapOrImageToPush, onclose: pushModalFinishedClosing"></player-push-modal>\n'},function(e,t,n){"use strict";var a=n(1),i=n(25),r=n(186),o=n(10),s=n(11),c=n(2),l=n(0),d=n.n(l),u=n(566),p=n.n(u);d.a.components.register("encounter",{viewModel:function(){var e=this;e.modalEncounter=d.a.observable(),e.modalEncounterSections=d.a.observableArray([]),e.selectedCell=d.a.observable(),e.selectedEncounter=d.a.observable(),e.openModal=d.a.observable(!1),e.encounterCells=d.a.observableArray(),e.sectionModels=[{section:i.i,models:[i.h]},{section:i.j,models:[s.i]},{section:i.t,models:[i.s]},{section:i.o,models:[i.n]},{section:i.m,models:[i.k,i.l]},{section:i.r,models:[i.q]},{section:i.u,models:[i.c,i.d,i.e,i.f,i.g]},{section:i.p,models:null}],e.load=function(){e.encounterCells(e._getEncounterCells()),e.selectedCell(e.encounterCells()[0]),e._updateSelectedEncounter(),a.f.encounters.changed.add(e._dataHasChanged)},e.openAddModal=function(){var t=a.a.activeCharacter().key();e.modalEncounter(new i.b),e.modalEncounter().characterId(t),e.modalEncounterSections(e._getSectionsForEncounter(e.modalEncounter().encounterId())),e.openModal(!0)},e.openAddModalWithParent=function(t){var n=a.a.activeCharacter().key();e.modalEncounter(new i.b),e.modalEncounter().parent(t.encounterId()),e.modalEncounter().characterId(n),e.modalEncounterSections(e._getSectionsForEncounter(e.modalEncounter().encounterId())),e.openModal(!0)},e.modalSave=function(t,n){t().name()||t().name("Untitled Encounter"),t().save(),n().forEach(function(e,t,n){e.save()}),n([]),e.addEncounterToList(t())},e.selectEncounter=function(t){e._updateSelectedEncounter()},e.addEncounterToList=function(t){if(t.parent()){var n=e._findCell(e.encounterCells(),"encounterId",t.parent());n.isOpen(!0),n.addChild(t)}else e.encounterCells.push(new r.a(t));var a=e._findCell(e.encounterCells(),"encounterId",t.encounterId());a&&(e.selectedCell(a),e._updateSelectedEncounter())},e.deleteEncounter=function(t){var n=a.a.activeCharacter().key(),r=c.a.findByPredicates(i.b,[new o.a("encounterId",t.encounterId()),new o.a("characterId",n)])[0],s=e._findCell(e.encounterCells(),"encounterId",r.parent());s&&s.removeChild(t);var l=c.a.findByPredicates(i.b,[new o.a("encounterId",r.parent()),new o.a("characterId",n)])[0];l&&(l.removeChild(r.encounterId()),l.save()),e._deleteEncounterRelatedModels(r),r.delete(),s||e.encounterCells.remove(t),e.encounterCells()&&!e.encounterCells()[0]?e.selectedCell(null):e.selectedCell(e.encounterCells()[0]),e._updateSelectedEncounter()},e._deleteEncounterRelatedModels=(t=>{t.getChildren().forEach(function(t,n,a){e._deleteEncounterRelatedModels(t),t.delete()});var n=a.a.activeCharacter().key();e.sectionModels.map(({section:e})=>{c.a.findByPredicates(e,[new o.a("encounterId",t.encounterId()),new o.a("characterId",n)]).forEach(e=>{e.delete()})}),e.sectionModels.map(({models:e})=>{e&&e.forEach(e=>{c.a.findByPredicates(e,[new o.a("encounterId",t.encounterId()),new o.a("characterId",n)]).forEach(e=>{e.delete()})})})}),e._getEncounterCells=function(){var e=a.a.activeCharacter().key();return c.a.findByPredicates(i.b,[new o.a("characterId",e)]).filter(function(e,t,n){return!e.parent()}).map(function(e,t,n){return new r.a(e)})},e._findCell=function(t,n,a){for(var i=null,r=0;r<t.length&&null===(i=a===t[r][n]()?t[r]:e._findCell(t[r].children(),n,a));r++);return i},e._getSectionsForEncounter=function(t){return e.sectionModels.map(function(e,n,i){var r=a.a.activeCharacter().key(),s=c.a.findByPredicates(e.section,[new o.a("encounterId",t),new o.a("characterId",r)])[0];return s||((s=new e.section).encounterId(t),s.characterId(r)),s})},e._dataHasChanged=function(){e.encounterCells().forEach(function(e,t,n){e.reloadData()})},e._updateSelectedEncounter=function(){if(e.selectedCell()){var t=e.selectedCell().encounterId(),n=a.a.activeCharacter().key(),r=c.a.findByPredicates(i.b,[new o.a("encounterId",t),new o.a("characterId",n)])[0];r&&e.selectedEncounter(r)}else e.selectedEncounter(null)}},template:p.a})},function(e,t){e.exports='<div class="row">\n  <div class="col-xs-12">\n    <div class="h2">\n      Encounters<br/>\n      <small>Create and manage events and sections of your campaign.</small>\n    </div>\n    <div class="row">\n      <div class="col-xs-12 col-sm-4 col-md-3 tight-right">\n        <div class="panel panel-default">\n          <div class="panel-body tight-inner">\n            <div class="panel-heading">\n              <div class="h4">\n                Encounters\n                <div class="pull-right">\n                  <span class="fa fa-plus fa-lg" style="cursor:pointer;"\n                    data-bind="click: openAddModal"></span>\n                </div>\n              </div>\n            </div>\n            <nested-list params="cells: encounterCells,\n              selectedCell: selectedCell, ondelete: deleteEncounter,\n              onadd: openAddModalWithParent, onselect: selectEncounter">\n            </nested-list>\n          </div>\n        </div>\n      </div>\n      <div class="col-xs-12 col-sm-8 col-md-9">\n        \x3c!-- ko if: selectedEncounter --\x3e\n        <encounter-detail\n          params="encounter: selectedEncounter, sectionModels: sectionModels">\n        </encounter-detail>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko ifnot: selectedEncounter --\x3e\n        <div class="encounter-detail-place-holder well text-center"\n          style="cursor:pointer;" data-bind="click: openAddModal">\n          <p class="lead text-muted heading">Add a new encounter to get started.</p>\n        </div>\n        \x3c!-- /ko --\x3e\n      </div>\n    </div>\n  </div>\n</div>\n\n<encounter-add-edit-modal\n  params="encounter: modalEncounter, openModal: openModal, sections: modalEncounterSections, onsave: modalSave">\n</encounter-add-edit-modal>\n'},function(e,t,n){"use strict";function a(e){var t=this;t.id=e.encounterId,t.characterId=e.characterId,t.encounterId=e.encounterId,t.name=e.name,t.encounterLocation=e.encounterLocation,t.isOpen=e.isOpen,t._children=l.a.observableArray(e.getChildren()),t.arrowIconClass=l.a.pureComputed(function(){return t.isOpen()?"fa fa-caret-down":"fa fa-caret-right"}),t.children=l.a.pureComputed(function(){return t._children().map(function(e,t,n){return new a(e)})}),t.toggleIsOpen=function(){t.isOpen(!t.isOpen()),t.save()},t.shouldShowDelete=l.a.pureComputed(function(){return!0}),t.addChild=function(e){var n=i.a.activeCharacter().key(),a=s.a.findByPredicates(r.b,[new o.a("encounterId",t.encounterId()),new o.a("characterId",n)])[0];a.children.push(e.encounterId()),a.save(),t._children.push(e)},t.removeChild=function(e){t._children(t._children().filter(function(t,n,a){return e.encounterId()!==t.encounterId()}))},t.save=function(){var e=i.a.activeCharacter().key(),n=s.a.findByPredicates(r.b,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n.name(t.name()),n.encounterLocation(t.encounterLocation()),n.isOpen(t.isOpen()),n.save()},t.reloadData=function(){var e=i.a.activeCharacter().key(),n=s.a.findByPredicates(r.b,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n&&(t.name(n.name()),t.encounterLocation(n.encounterLocation()),t.children().forEach(function(e,t,n){e.reloadData()}))}}t.a=a;var i=n(83),r=n(25),o=n(10),s=n(2),c=(n(1),n(0)),l=n.n(c)},function(e,t,n){"use strict";n(25),n(10),n(1),n(2);var a=n(0),i=n.n(a),r=n(569),o=n.n(r);i.a.components.register("encounter-add-edit-modal",{viewModel:function(e){var t=this;t.encounter=e.encounter,t.openModal=e.openModal,t.sections=e.sections||i.a.observableArray(),t.onsave=e.onsave,t.nameHasFocus=i.a.observable(!1),t.encounterLocation=i.a.observable(),t.encounterName=i.a.observable(),t.load=function(){t.encounter.subscribe(t._dataHasChanged),t._dataHasChanged()},t.titleLabel=i.a.pureComputed(function(){return t.encounter?"Edit this Encounter's Details":"Add a new Encounter"}),t.doneButtonClicked=function(){t.encounter().name(t.encounterName()),t.encounter().encounterLocation(t.encounterLocation()),i.a.unwrap(t.onsave)&&t.onsave(t.encounter,t.sections)},t.modalFinishedOpening=function(){t.nameHasFocus(!0)},t.modalFinishedClosing=function(){t.openModal(!1)},t._dataHasChanged=function(){i.a.unwrap(t.encounter)&&(t.encounterName(t.encounter().name()),t.encounterLocation(t.encounter().encounterLocation()))}},template:o.a})},function(e,t){e.exports='<div class="modal fade" tabindex="-1" role="dialog"\n   data-bind="modal: {\n      open: openModal,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close"> <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title" data-bind="text: titleLabel"></h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal" onsubmit="return false">\n          <div class="form-group">\n            <div class="row row-padded">\n              <label for="encounter.name" class="col-sm-3 control-label">\n                Encounter Name\n              </label>\n              <div class="col-sm-8">\n                <input type="text" class="form-control" id=""\n                       data-bind="value: encounterName,\n                        hasFocus: nameHasFocus" />\n              </div>\n            </div>\n            <div class="row row-padded">\n              <label for="encounter.location" class="col-sm-3 control-label">\n                Location\n              </label>\n              <div class="col-sm-8">\n                <input type="text" class="form-control"\n                       data-bind="value: encounterLocation" />\n              </div>\n            </div>\n          </div>\n          <hr />\n          <div class="h4">\n            Which sections would you like to include?<br />\n            <small>You can always change these later</small>\n          </div>\n          \x3c!-- Encounter Section Show/Hide --\x3e\n          \x3c!-- ko foreach: { data: sections, as: \'section\' } --\x3e\n          <encounter-section-visibility\n            params="section: section">\n          </encounter-section-visibility>\n          \x3c!-- /ko --\x3e\n          <div class="spacer"></div>\n          <div class="modal-footer">\n            <div class="form-group">\n              <div class="col-xs-offset-7 col-xs-5">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal"\n                        data-bind="click: doneButtonClicked">Done</button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";var a=n(1),i=(n(25),n(10)),r=n(2),o=n(0),s=n.n(o),c=n(571),l=n.n(c);s.a.components.register("encounter-detail",{viewModel:function(e){var t=this;t.encounter=e.encounter,t.sectionModels=e.sectionModels,t.sections=s.a.observableArray([]),t.openModal=s.a.observable(!1),t.load=function(){t.encounter.subscribe(t._dataHasChanged),t._dataHasChanged()},t.notifySections=function(e,t){e().save(),t().forEach(function(e,t,n){e.save()}),a.f.encounters.changed.dispatch()},t.name=s.a.pureComputed(function(){return t.encounter().displayName()}),t.encounterLocation=s.a.pureComputed(function(){return t.encounter().encounterLocation()}),t.toggleModal=function(){t.openModal(!t.openModal())},t._dataHasChanged=function(){if(s.a.unwrap(t.encounter)){var e=a.a.activeCharacter().key(),n=t.sectionModels.map(function(n,a,o){var s=r.a.findByPredicates(n.section,[new i.a("encounterId",t.encounter().encounterId()),new i.a("characterId",e)])[0];return s||((s=new n.section).encounterId(t.encounter().encounterId()),s.characterId(e)),s});t.sections(n)}}},template:l.a})},function(e,t){e.exports='<div class="panel panel-default">\n  <div class="panel-heading">\n    <div class="h2">\n      <span data-bind="text: name"></span>&nbsp;\n      <small data-bind="text: encounterLocation"></small>\n      <div class="pull-right">\n        <button class="btn btn-sm btn-default" data-bind="click: toggleModal">\n          Edit\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class="panel-body tight-inner">\n    \x3c!-- Encounter Sections --\x3e\n    \x3c!-- ko if: encounter --\x3e\n    <environment-section params="encounter: encounter"></environment-section>\n    <maps-and-images-section params="encounter: encounter"></maps-and-images-section>\n    <point-of-interest-section params="encounter: encounter"></point-of-interest-section>\n    <player-text-section params="encounter: encounter"></player-text-section>\n    <npc-section params="encounter: encounter"></npc-section>\n    <monster-section params="encounter: encounter"></monster-section>\n    <treasure-section params="encounter: encounter"></treasure-section>\n    <notes-section params="encounter: encounter"></notes-section>\n    \x3c!-- /ko --\x3e\n  </div>\n</div>\n\n<encounter-add-edit-modal\n  params="encounter: encounter, sections: sections, openModal: openModal, onsave: notifySections">\n</encounter-add-edit-modal>\n'},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(573),o=n.n(r);i.a.components.register("encounter-section-visibility",{viewModel:function(e){this.section=e.section,this.visible=this.section.visible,this.name=this.section.name,this.tagline=this.section.tagline},template:o.a})},function(e,t){e.exports='<hr class="no-top-or-bottom-margin">\n<div class="row text-left">\n  <div class="col-sm-8 col-sm-offset-1 h5"\n    data-bind="text: name">\n  </div>\n  <div class="col-sm-3">\n    <input type="checkbox" class="form-control" id=""\n           data-bind="checked: visible" />\n  </div>\n</div>\n<div class="row">\n  <div class="col-sm-8 col-sm-offset-1">\n    <i class="text-muted" data-bind="text: tagline"></i>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n(23);var a=n(1),i=n(15),r=n(2),o=n(0),s=n.n(o),c=n(575),l=n.n(c),d=n(576),u=n.n(d);s.a.components.register("campaign-overview",{viewModel:function(){var e=this;e.largeIcon=l.a,e.playerName=s.a.observable(),e.createdDate=s.a.observable(),e.setting=s.a.observable(),e.name=s.a.observable(),e.load=function(){var t=a.a.activeCharacter().key(),n=r.a.findFirstBy(i.b,"characterId",t);n&&(e.playerName(n.playerName()),e.name(n.name()),e.setting(n.setting()),e.createdDate(new Date(n.createdDate()))),e.playerName.subscribe(e.save),e.setting.subscribe(e.save),a.f.global.save.add(e.save)},e.save=function(){var t=a.a.activeCharacter().key(),n=r.a.findFirstBy(i.b,"characterId",t);n||(n=new i.b).characterId(t),n.playerName(e.playerName()),n.createdDate(e.createdDate()),n.setting(e.setting()),n.name(e.name()),n.save()},e.noteText=s.a.pureComputed(function(){return e.notes()?e.notes():""}),e.placeholderText=s.a.pureComputed(function(){return"A Story of Wonder"}),e.timeSinceLabel=s.a.pureComputed(function(){if(!e.createdDate())return"";var t=e._daysSince(e.createdDate()),n="Created on: "+e.createdDate().toDateString()+".";return t>0&&(n+=" This adventure has been in progress for "+t+" days."),n}),e._daysSince=function(e){var t=(new Date).getTime();return Math.round((t-e.getTime())/864e5)}},template:u.a})},function(e,t,n){e.exports=n.p+"b28946979238d5483f332605f63a2151.svg"},function(e,t){e.exports='<div class="row">\n    <div class="col-sm-4 col-lg-3 hidden-xs">\n      <img alt="A Compass" data-bind="attr: { src: largeIcon }">\n    </div>\n  <div class="col-md-8 col-lg-9 col-xs-12">\n    <div class="h2">\n      Campaign<br />\n      <small>You know who you are, but just in case you forget...</small>\n    </div>\n    <div class="panel panel-default">\n      <div class="panel-body">\n        <div class="row row-padded">\n          <div class="col-md-12 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">DM Name</span>\n                <input type="text" class="form-control" aria-describedby="basic-addon2"\n                  data-bind=\'textInput: playerName\' />\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-12 col-padded">\n            <div class="input-group">\n              <span class="input-group-addon" id="basic-addon2">Setting</span>\n                <input type="text" class="form-control" aria-describedby="basic-addon2"\n                  data-bind=\'textInput: setting\' />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="panel-footer text-center">\n        <i><small data-bind="text: timeSinceLabel"></small></i>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n(23);var a=n(1),i=n(20),r=n(15),o=n(0),s=n.n(o),c=n(578),l=n.n(c);s.a.components.register("party",{viewModel:function(){var e=this;e.players=s.a.observableArray(),e.isConnectedToParty=s.a.observable(!1),e.load=function(){a.f.xmpp.routes.pcard.add(e.handlePCard),a.f.chat.member.left.add(e.removePlayer),a.f.party.left.add(e.clearPCards),a.f.party.joined.add(e.isConnectedToParty),e.checkForParty()},e.unload=function(){a.f.xmpp.routes.pcard.remove(e.handlePCard),a.f.chat.member.left.remove(e.removePlayer),a.f.party.left.remove(e.clearPCards),a.f.party.joined.remove(e.checkForParty)},e.checkForParty=function(){var t=i.c.sharedService();e.isConnectedToParty(null!=t.currentPartyNode)},e.handlePCard=function(t){var n=i.c.sharedService();if(null!=n.currentPartyNode){var a=!0,o=r.A.fromEntries(t),s=o.get("publisherJid")[0];if(n.isJidInParty(s)){e.players().forEach(function(e,t,n){e.publisherJid()===s&&(e.map(o),a=!1)});var c=i.s.sharedService(),l=s==c.connection.jid;a&&!l&&e.players.push(new r.o(o))}}},e.removePlayer=function(t,n,a){var i=e.players().filter(function(e){return e.publisherJid()!==a});e.players(i)},e.clearPCards=function(){e.players([]),e.checkForParty()}},template:l.a})},function(e,t){e.exports='<div class="row">\n  \x3c!-- ko if: !isConnectedToParty() --\x3e\n  <div class="detail-place-holder well text-center">\n    <p class="lead text-muted heading">You are not connected to a Party.</p>\n    <p class="text-muted">\n      Create or join a Party with friends to see their characters here!<br/>\n      Create a free account <a href="https://app.adventurerscodex.com/accounts/register/">here</a> or learn more about Parties <a href="https://adventurerscodex.com/collaboration.html#partyDashboard" target="_blank">here</a>.\n    </p>\n  </div>\n  \x3c!--/ko--\x3e\n  \x3c!--ko if: isConnectedToParty()--\x3e\n    \x3c!-- ko if: players().length == 0 --\x3e\n    <div class="detail-place-holder well text-center">\n      <p class="lead text-muted heading">There\'s no one here.</p>\n      <p class="text-muted">Once your players join the party, they\'ll show up here.</p>\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko foreach: players --\x3e\n    <div class="col-sm-4">\n      <div class="panel panel-default">\n        <div class="panel-body">\n          \x3c!-- Player Info --\x3e\n          <div class="row">\n            <div class="col-xs-12">\n            <img class="img-circle center-block"\n              data-bind="attr: {\n                src: imageUrl,\n                height: 80,\n                width: 80,\n              }">\n            </div>\n        </div>\n          <div class="row">\n            <div class="col-xs-12 text-center">\n              <div class="h4">\n                <span data-bind="text: name"></span><br />\n                <small data-bind="text: playerSummary"></small>\n              </div>\n            </div>\n          </div>\n          \x3c!-- Health, Spells, and Features  --\x3e\n          <div class="row">\n            <div class="col-xs-12">\n              Hit Points\n              <div class="progress thin">\n                <div class="progress thin">\n                  <div id="regularHitPoints" class="progress-bar" role="progressbar" aria-valuemin="0"\n                    data-bind="style: { width: regularProgressWidth }, css: progressType">\n                    <span class="sr-only"></span>\n                  </div>\n                  <div id="tempHitPoints" class="progress-bar progress-bar-sky" role="progressbar"\n                    aria-valuemin="0" data-bind="style: { width: tempProgressWidth }">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-12">\n              Spell Slots\n              <div class="progress thin">\n                <div class="progress-bar progress-bar-info" role="progressbar" aria-valuemin="0"\n                  aria-valuemax="100" data-bind="style: { width: magicProgressWidth }">\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-12">\n              Features, Feats, and Traits\n              <div class="progress thin">\n                <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuemin="0"\n                  aria-valuemax="100" data-bind="style: { width: trackedProgressWidth }">\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-12 text-right">\n              <a class="text-right" style="cursor:pointer;"\n                data-bind="click: toggleMoreInfo">More\n                <span class="fa fa-caret-down"></span>\n              </div>\n            </a>\n          </div>\n          <br />\n          <div data-bind="well: { open: moreInfoOpen }" class="collapse">\n            <div class="row">\n              <div class="col-xs-12 col-padded">\n                <ul class="list-group" style="margin-bottom:0;">\n                  <li class="list-group-item">\n                    Armor Class\n                    <span class="pull-right" data-bind="text: armorClass"></span>\n                  </li>\n                  <li class="list-group-item">\n                    Hit Dice\n                    <span class="pull-right" data-bind="text: hitDiceDisplay"></span>\n                  </li>\n                  <li class="list-group-item">\n                    Spell Save DC\n                    <span class="pull-right" data-bind="text: spellSaveDC"></span>\n                  </li>\n                  <li class="list-group-item">\n                    Experience\n                    <span class="pull-right" data-bind="text: experience"></span>\n                  </li>\n                  <li class="list-group-item">\n                    Passive Perception\n                    <span class="pull-right" data-bind="text: passivePerception"></span>\n                  </li>\n                  <li class="list-group-item">\n                    Passive Intelligence\n                    <span class="pull-right" data-bind="text: passiveIntelligence"></span>\n                  </li>\n                  <li class="list-group-item">\n                    Gold\n                    <span class="pull-right" data-bind="text: gold"></span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- /ko --\x3e\n  \x3c!-- /ko --\x3e\n</div>'},function(e,t,n){"use strict";var a=n(15),i=n(24),r=n(20),o=n(1),s=n(0),c=n.n(s),l=n(580),d=n.n(l);c.a.components.register("party-status-line",{viewModel:function(e){var t=this;t.statusLine=c.a.observable(""),t.character=e.character,t.load=function(){o.f.party.players.changed.add(t.dataHasChanged)},t.unload=function(){o.f.party.players.changed.remove(t.dataHasChanged),t.clear()},t.clear=function(){t.statusLine("")},t.dataHasChanged=function(e){var n=e.map(function(e,t,n){return new a.o(e)});t.statusLine(t.getStatusLine(n))},t.getStatusLine=function(e){if(null==r.c.sharedService().currentPartyNode||e.length<1)return"";var t=0,n=0,o=0,s=!1,c=!1,l=!1,d=[],u=0,p=0,f=0;return e.forEach(function(e,i,r){e.playerType()===a.s.characterPlayerType.key&&(e.healthinessStatus()&&(t+=e.healthinessStatus().value(),s=!0,u++),e.magicStatus()&&(n+=e.magicStatus().value(),c=!0,p++),e.trackedStatus()&&(o+=e.trackedStatus().value(),l=!0,f++))}),s&&d.push(a.w.determinePhraseAndColor(Object(i.b)(),t/u)),c&&d.push(a.w.determinePhraseAndColor(Object(i.c)(),n/p)),l&&d.push(a.w.determinePhraseAndColor(Object(i.d)(),o/f)),d.length<1?"":"Your party is "+d.map(function(e,t,n){var a='<span class="text-'+e.color+'">'+e.status+"</span>";return d.length>1&&t==d.length-1?"and "+a:d.length>2?a+",&nbsp;":d.length>1?a+"&nbsp;":a}).join("")+"."}},template:d.a})},function(e,t){e.exports='<span data-bind="html: statusLine"></span>'},function(e,t,n){"use strict";n(23);var a=n(0),i=n.n(a),r=n(582),o=n.n(r);i.a.components.register("dm-screen",{viewModel:function(){},template:o.a})},function(e,t){e.exports='<div class="row">\n  <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">\n    <table class="table table-responsive table-ac-bordered">\n    <h3>Conditions<br />\n      <small>Conditions alter a creatures capabilities in a variety\n             of ways and can arise as a result of a spell, a class\n             feature, a monsters attack, or other effect.</small>\n    </h3>\n      <thead>\n        <tr>\n          <th>Condition</th>\n          <th>Affects</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>Blinded</td>\n          <td>\n            <ul>\n              <li>A blinded creature cant see and automatically fails any ability check that requires sight.</li>\n              <li>Attack rolls against the creature have advantage, and the creatures attack rolls have disadvantage.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Charmed</td>\n          <td>\n            <ul>\n              <li>A charmed creature cant attack the charmer or target the charmer with harmful abilities or magical effects.</li>\n              <li>The charmer has advantage on any ability check to interact socially with the creature.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Deafened</td>\n          <td>\n            <ul>\n              <li>A deafened creature cant hear and automatically fails any ability check that requires hearing.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Frightened</td>\n          <td>\n            <ul>\n              <li>A frightened creature has disadvantage on ability checks and attack rolls while the source of its fear is within line of sight.</li>\n              <li>The creature cant willingly move closer to the source of its fear.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Grappled</td>\n          <td>\n            <ul>\n              <li>A grappled creatures speed becomes 0, and it cant benefit from any bonus to its speed.</li>\n              <li>The condition ends if the grappler is incapacitated (see the condition).</li>\n              <li>The condition also ends if an effect removes the grappled creature from the reach of the grappler or grappling effect, such as when a creature is hurled away by the thunder-wave spell.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Incapacitated</td>\n          <td>\n            <ul>\n              <li>An incapacitated creature cant take actions or reactions.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Invisible</td>\n          <td>\n            <ul>\n              <li>An invisible creature is impossible to see without the aid of magic or a special sense. For the purpose of hiding, the creature is heavily obscured. The creatures location can be detected by any noise it makes or any tracks it leaves.</li>\n              <li>Attack rolls against the creature have disadvantage, and the creatures attack rolls have\n                  advantage.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Paralyzed</td>\n          <td>\n            <ul>\n              <li>A paralyzed creature is incapacitated (see the condition) and cant move or speak.</li>\n              <li>The creature automatically fails Strength and Dexterity saving throws.</li>\n              <li>Attack rolls against the creature have advantage.</li>\n              <li>Any attack that hits the creature is a critical hit if the attacker is within 5 feet of the creature.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Petrified</td>\n          <td>\n            <ul>\n              <li>A petrified creature is transformed, along with any non-magical object it is wearing or carrying, into a solid inanimate substance (usually stone). Its weight increases by a actor of ten, and it ceases aging.</li>\n              <li>The creature is incapacitated (see the condition), cant move or speak, and is unaware of its surroundings.</li>\n              <li>Attack rolls against the creature have advantage.</li>\n              <li>The creature automatically fails Strength and Dexterity saving throws.</li>\n              <li>The creature has resistance to all damage.</li>\n              <li>The creature is immune to poison and disease, although a poison or disease already in its system is suspended, not neutralized.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Poisoned</td>\n          <td>\n            <ul>\n              <li>A poisoned creature has disadvantage on attack rolls and ability checks.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Prone</td>\n          <td>\n            <ul>\n              <li>A prone creatures only movement option is to crawl, unless it stands up and thereby ends the condition.</li>\n              <li>The creature has disadvantage on attack rolls.</li>\n              <li>An attack roll against the creature has advantage if the attacker is within 5 feet of the creature. Otherwise, the attack roll has disadvantage.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Restrained</td>\n          <td>\n            <ul>\n              <li>A restrained creatures speed becomes 0, and it cant benefit from any bonus to its speed.</li>\n              <li>Attack rolls against the creature have advantage, and the creatures attack rolls have disadvantage.</li>\n              <li>The creature has disadvantage on Dexterity saving throws.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Stunned</td>\n          <td>\n            <ul>\n              <li>A stunned creature is incapacitated (see the condition), cant move, and can speak only falteringly.</li>\n              <li>The creature automatically fails Strength and Dexterity saving throws.</li>\n              <li>Attack rolls against the creature have advantage.</li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <td>Unconscious</td>\n          <td>\n            <ul>\n              <li>An unconscious creature is incapacitated (see the condition), cant move or speak, and is unaware of its surroundings</li>\n              <li>The creature drops whatever its holding and falls prone.</li>\n              <li>The creature automatically fails Strength and Dexterity saving throws.</li>\n              <li>Attack rolls against the creature have advantage.</li>\n              <li>Any attack that hits the creature is a critical hit if the attacker is within 5 feet of the creature.</li>\n            </ul>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">\n    <table class="table table-responsive table-ac-bordered">\n    <h3>Travel Pace<br />\n      <small>While traveling, a group of adventurers can move at a normal, fast, or slow pace, as shown here.</small>\n    </h3>\n      <thead>\n        <tr>\n          <th>Pace</th>\n          <th>Minute</th>\n          <th>Hour</th>\n          <th>Day</th>\n          <th>Effect</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>Fast</td>\n          <td>400 feet</td>\n          <td>4 miles</td>\n          <td>30 miles</td>\n          <td>-5 penalty to passive Wisdom (Perception) scores</td>\n        </tr>\n        <tr>\n          <td>Normal</td>\n          <td>300 feet</td>\n          <td>3 miles</td>\n          <td>24 miles</td>\n          <td>--</td>\n        </tr>\n        <tr>\n          <td>Slow</td>\n          <td>200 feet</td>\n          <td>2 miles</td>\n          <td>18 miles</td>\n          <td>Able to use stealth</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">\n    <table class="table table-responsive table-ac-bordered">\n    <h3>Cover<br />\n      <small>Walls, trees, creatures, and other obstacles can provide cover\n             during combat, making a target more difficult to harm.</small>\n    </h3>\n      <thead>\n        <tr>\n          <th>Cover</th>\n          <th>Effect</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>Half cover</td>\n          <td>+2 bonus to AC and Dexterity saving throws</td>\n        </tr>\n        <tr>\n          <td>Three-quarters cover</td>\n          <td>+5 bonus to AC and Dexterity saving throws</td>\n        </tr>\n        <tr>\n          <td>Total cover</td>\n          <td>cant be targeted directly by an attack or a spell</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">\n    <table class="table table-responsive table-ac-bordered">\n    <h3>Light<br />\n    </h3>\n      <thead>\n        <tr>\n          <th>Source</th>\n          <th>Bright Light</th>\n          <th>Dim Light</th>\n          <th>Duration</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>Candle</td>\n          <td>5 ft.</td>\n          <td>+ 5 ft.</td>\n          <td>1 hour</td>\n        </tr>\n        <tr>\n          <td>Lamp</td>\n          <td>15 ft.</td>\n          <td>+ 30 ft.</td>\n          <td>6 hours</td>\n        </tr>\n        <tr>\n          <td>Lantern, bullseye</td>\n          <td>60 ft. cone</td>\n          <td>+ 60 ft.</td>\n          <td>6 hours</td>\n        </tr>\n        <tr>\n          <td>Lantern, hooded</td>\n          <td>30 ft.</td>\n          <td>+ 30 ft.</td>\n          <td>6 hours</td>\n        </tr>\n        <tr>\n          <td>Torch</td>\n          <td>20 ft.</td>\n          <td>+ 20 ft.</td>\n          <td>1 hour</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="col-lg-3 col-md-6 col-sm-12 col-xs-12">\n    <table class="table table-responsive table-ac-bordered">\n    <h3>Typical Difficulty Classes<br />\n    </h3>\n      <thead>\n        <tr>\n          <th>Task Difficulty</th>\n          <th>DC</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>Very easy</td>\n          <td>5</td>\n        </tr>\n        <tr>\n          <td>Easy</td>\n          <td>10</td>\n        </tr>\n        <tr>\n          <td>Medium</td>\n          <td>15</td>\n        </tr>\n        <tr>\n          <td>Hard</td>\n          <td>20</td>\n        </tr>\n        <tr>\n          <td>Very hard</td>\n          <td>25</td>\n        </tr>\n        <tr>\n          <td>Nearly impossible</td>\n          <td>30</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="col-lg-3 col-md-6 col-sm-12 col-xs-12">\n    <table class="table table-responsive table-ac-bordered">\n    <h3>Exhaustion<br />\n    </h3>\n      <thead>\n        <tr>\n          <th>Level</th>\n          <th>Effect</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>1</td>\n          <td>Disadvantage on ability checks</td>\n        </tr>\n        <tr>\n          <td>2</td>\n          <td>Speed halved</td>\n        </tr>\n        <tr>\n          <td>3</td>\n          <td>Disadvantage on attack rolls and saving throws</td>\n        </tr>\n        <tr>\n          <td>4</td>\n          <td>Hit point maximum halved</td>\n        </tr>\n        <tr>\n          <td>5</td>\n          <td>Speed reduced to 0</td>\n        </tr>\n        <tr>\n          <td>6</td>\n          <td>Death</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div> \x3c!-- End row --\x3e\n'},function(e,t,n){"use strict";n(23);var a=n(1),i=n(20),r=n(25),o=n(168),s=n.n(o),c=n(584),l=n.n(c),d=n(585),u=n.n(d),p=n(0),f=n.n(p),h=n(169),m=n.n(h),b=n(586),v=n.n(b),g=n(587),y=n.n(g),x=n(588),w=n.n(x);f.a.components.register("dm-root",{viewModel:function(){var e=this;e.playerType=function(){return a.a.activeCharacter().playerType()},e._dummy=f.a.observable(!1),e.activeTab=f.a.observable(),e.isConnectedAndInAParty=f.a.observable(!1),e.currentPartyNode=f.a.observable(null),e.TEMPLATE_FILE="dm/index.tmpl",e.dmCardService=i.d.sharedService(),e.imageService=i.g.sharedService(),e.overviewTabImage=v.a,e.encounterTabImage=u.a,e.dmScreenTabImage=l.a,e.notesTabImage=m.a,e.partyTabImage=y.a,e.chatTabImage=s.a,e.playerSummary=f.a.pureComputed(function(){var e=a.a.activeCharacter().key(),t=i.l.findFirstBy(r.a,"characterId",e);return t.summary()?t.summary():""}),e.playerTitle=f.a.pureComputed(function(){var e=a.a.activeCharacter().key(),t=i.l.findFirstBy(r.a,"characterId",e);return t.name()?t.name():""}),e.playerAuthor=f.a.pureComputed(function(){var e=a.a.activeCharacter().key(),t=i.l.findFirstBy(r.a,"characterId",e);return t.playerName()?t.playerName():""}),e.pageTitle=f.a.pureComputed(function(){e._dummy();try{return e.playerTitle()+" by "+e.playerAuthor()+" | Adventurer's Codex"}catch(e){}}),e.overviewTabStatus=f.a.pureComputed(function(){return e._tabIsVisible("overview")}),e.encounterTabStatus=f.a.pureComputed(function(){return e._tabIsVisible("encounter")}),e.dmscreenTabStatus=f.a.pureComputed(function(){return e._tabIsVisible("dmscreen")}),e.chatTabStatus=f.a.pureComputed(function(){return e._tabIsVisible("chat")}),e.partyTabStatus=f.a.pureComputed(function(){return e._tabIsVisible("party")}),e.notesTabStatus=f.a.pureComputed(function(){return e._tabIsVisible("notes")}),e.activateOverviewTab=function(){e.activeTab("overview")},e.activateEncounterTab=function(){e.activeTab("encounter")},e.activateDmScreenTab=function(){e.activeTab("dmscreen")},e.activatePartyTab=function(){e.activeTab("party")},e.activateChatTab=function(){e.activeTab("chat")},e.activateNotesTab=function(){e.activeTab("notes")},e.load=function(){e.activeTab(e.playerType().defaultTab),a.f.party.joined.add(e._updateCurrentNode),a.f.party.left.add(e._removeCurrentNode),a.f.xmpp.disconnected.add(e._removeCurrentNode),i.f.registerHotkey("1",e.activateOverviewTab),i.f.registerHotkey("2",e.activateEncounterTab),i.f.registerHotkey("3",e.activateDmScreenTab),i.f.registerHotkey("4",e.activateNotesTab),i.f.registerHotkey("5",e.activatePartyTab),i.f.registerHotkey("6",e.activateChatTab),e.dmCardService.init(),e.imageService.init()},e.unload=function(){i.f.flushHotkeys(),a.f.xmpp.pubsub.subscribed.remove(e._updateCurrentNode),a.f.xmpp.pubsub.unsubscribed.remove(e._removeCurrentNode),a.f.xmpp.disconnected.remove(e._removeCurrentNode),e.dmCardService.deinit()},e._tabIsVisible=function(t){return e.playerType().visibleTabs.indexOf(t)>-1?e.activeTab()===t?"active":"":"hidden"},e._updateCurrentNode=function(t,n){e.currentPartyNode(t)},e._removeCurrentNode=function(t,n){e.currentPartyNode(null)},e.dispose=function(){e.unload()}},template:w.a})},function(e,t,n){e.exports=n.p+"e1f1350d6177bb7d997a6d257134fc3b.svg"},function(e,t,n){e.exports=n.p+"5b7fcab5ac2e49f0e05c218560de01d3.svg"},function(e,t,n){e.exports=n.p+"c022e4a6e3c5d5d9e114e1cdd0b3101f.svg"},function(e,t,n){e.exports=n.p+"94e3c4145f80c0c4361f1b2a75f0df99.svg"},function(e,t){e.exports='<ul class="nav nav-tabs tabs">\n  <li role="presentation" data-bind="click: activateOverviewTab, css: overviewTabStatus">\n    <a href="#campaign-header" aria-controls="overview-tab" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: overviewTabImage }"></img></br>\n      <span class="text-center"><small>Overview</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activateEncounterTab, css: encounterTabStatus">\n    <a href="#encounter-header" aria-controls="encounter-tab" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: encounterTabImage }"></img></br>\n      <span class="text-center"><small>Encounters</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activateDmScreenTab, css: dmscreenTabStatus">\n    <a href="#dmscreen-header" aria-controls="dmscreen-tab" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: dmScreenTabImage }"></img></br>\n      <span class="text-center"><small>Screen</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activateNotesTab, css: notesTabStatus">\n    <a href="#notes" aria-controls="notes" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: notesTabImage }"></img></br>\n      <span class="text-center"><small>Notes</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activatePartyTab, css: partyTabStatus">\n    <a href="#party-header" aria-controls="party-tab" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: partyTabImage }"></img></br>\n      <span class="text-center"><small>Party</small></span>\n    </a>\n  </li>\n  <li role="presentation" data-bind="click: activateChatTab, css: chatTabStatus">\n    <a href="#chat-header" aria-controls="chat-tab" role="tab" data-toggle="tab" class="tab-subtext">\n      <img class="tab-icon" data-bind="attr: { src: chatTabImage }"></img></br>\n      <span class="text-center"><small>Chat</small></span>\n    </a>\n  </li>\n</ul>\n<div class="tab-content">\n  <div role="tabpanel" class="tab-pane" id="overview-tab" data-bind="css: overviewTabStatus">\n    <campaign-overview></campaign-overview>\n    <campaign-maps-and-images></campaign-maps-and-images>\n  </div>\n  <div role="tabpanel" class="tab-pane" id="encounter-tab" data-bind="css: encounterTabStatus">\n    <encounter></encounter>\n  </div>\n  <div role="tabpanel" class="tab-pane" id="dmscreen-tab" data-bind="css: dmscreenTabStatus">\n    <dm-screen></dm-screen>\n  </div>\n  <div role="tabpanel" class="tab-pane" id="party-tab" data-bind="css: partyTabStatus">\n    <party></party>\n  </div>\n  <div role="tabpanel" class="tab-pane" id="chat-tab" data-bind="css: chatTabStatus">\n    <chat params="isActive: chatTabStatus"></chat>\n  </div>\n<div role="tabpanel" class="tab-pane" id="notes" data-bind="css: notesTabStatus">\n  <div class="row">\n    <div class="col-sm-12 col-padded">\n      <div class="h3">\n        Notes<br />\n        <small>Armaments, chapter two, verses nine through twenty-one. -Brother Maynard</small>\n      </div>\n      <notes></notes>\n    </div>\n  </div>\n</div>\n</div>\n'},function(e,t,n){"use strict";var a=n(6),i=n(1),r=n(11),o=n(0),s=n.n(o),c=n(590),l=n.n(c);s.a.components.register("player-push-modal",{viewModel:function(e){var t=this;t.isOpen=e.isOpen,t.payload=e.payload,t.type=e.type,t.onclose=e.onclose,t.partyMembers=s.a.observableArray(),t.selectedPartyMembers=s.a.observableArray(),t.load=function(){i.f.party.joined.add(t.dataHasChanged),i.f.party.left.add(t.dataHasChanged),t.isOpen.subscribe(t.dataHasChanged),t.payload.subscribe(t.dataHasChanged),t.type.subscribe(t.dataHasChanged),t.dataHasChanged()},t.doneButtonLabel=s.a.pureComputed(function(){return t.selectedPartyMembers().length>0?"Send":"Cancel"}),t.toggleAll=function(){t.selectedPartyMembers().length>0?t.selectedPartyMembers([]):t.selectedPartyMembers(t.partyMembers())},t.selectAllButtonLabel=s.a.pureComputed(function(){return t.selectedPartyMembers().length>0?"Deselect All":"Select All"}),t.doneButtonWasClicked=function(){var e=a.d.sharedService(),n=e.currentPartyNode,i=a.p.sharedService();t.partyMembers().forEach(function(a,o,c){var l=Strophe.getBareJidFromJid(a.jid),d=e.getNickForBareJidInParty(l),u=new r.j;u.importValues({to:n+"/"+d,type:"chat",from:i.connection.jid,id:i.connection.getUniqueId(),html:s.a.unwrap(t.payload).toHTML(),body:""}),u.item({xmlns:Strophe.NS.JSON+"#"+t.type(),json:s.a.unwrap(t.payload).toJSON()}),i.connection.send(u.tree())}),t.selectedPartyMembers([])},t.dataHasChanged=function(){t.partyMembers(t.getAllPartyMembers())},t.getAllPartyMembers=function(){var e=i.a.activeCharacter();return a.d.sharedService(),("character"==e.playerType().key?a.c.sharedService():a.e.sharedService()).getPCardsExceptMine().map(function(e,t,n){return{name:e.get("name")[0],image:e.get("imageUrl")[0],jid:e.get("publisherJid")[0]}})}},template:l.a})},function(e,t){e.exports='<div class="modal fade" tabindex="-1" role="dialog"\n   data-bind="modal: {\n      open: isOpen,\n      onclose: onclose\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">\n          Send read aloud text to which players?\n        </h4>\n      </div>\n      <div class="modal-body">\n        <form class="form-horizontal" onsubmit="return false">\n          <div class="invite.members">\n            \x3c!-- ko if: partyMembers().length == 0 --\x3e\n            <p>There are no players in your party right now.</p>\n            \x3c!-- /ko --\x3e\n            <image-picker params="cells: partyMembers, selectedCells: selectedPartyMembers"></image-picker>\n          <div class="spacer"></div>\n          <div class="modal-footer">\n            <div class="col-xs-5">\n              <button type="button"\n                      class="btn btn-default pull-left"\n                      data-bind="click: toggleAll, text: selectAllButtonLabel"></button>\n            </div>\n            <div class="col-xs-offset-2 col-xs-5">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-bind="click: doneButtonWasClicked, text: doneButtonLabel"\n                      data-dismiss="modal"></button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n(592),n(595),n(598),n(601),n(604),n(607),n(610),n(613)},function(e,t,n){"use strict";var a=n(1),i=n(6),r=n(25),o=n(10),s=n(35),c=(n.n(s),n(0)),l=n.n(c),d=n(593),u=n.n(d),p=n(594),f=n.n(p);l.a.components.register("environment-section",{viewModel:function(e){var t=this;t.encounter=e.encounter,t.encounterId=l.a.pureComputed(function(){if(l.a.unwrap(t.encounter))return t.encounter().encounterId()}),t.sectionIcon=u.a,t.name=l.a.observable(),t.tagline=l.a.observable(),t.visible=l.a.observable(!1),t.environment=l.a.observable(),t.imageUrl=l.a.observable(),t.weather=l.a.observable(),t.terrain=l.a.observable(),t.description=l.a.observable(""),t.isExhibited=l.a.observable(!1),t.previewTabStatus=l.a.observable("active"),t.editTabStatus=l.a.observable(""),t.openPushModal=l.a.observable(!1),t.pushType=l.a.observable("image"),t._isConnectedToParty=l.a.observable(!1),t.toggleExhibit=function(){var e=i.g.sharedService();t.isExhibited()?(t.isExhibited(!1),t.save(),e.clearImage()):(e.publishImage(t.toJSON()),e.clearExhibitFlag(),t.isExhibited(!0),t.save(),t._dataHasChanged())},t.toJSON=function(){return{name:"Environment",url:t.imageUrl()}},t.load=function(){a.f.global.save.add(t.save),a.f.encounters.changed.add(t._dataHasChanged),a.f.party.joined.add(t._connectionHasChanged),a.f.party.left.add(t._connectionHasChanged),a.f.exhibit.toggle.add(t._dataHasChanged),t.imageUrl.subscribe(t.save),t.weather.subscribe(t.save),t.terrain.subscribe(t.save),t.description.subscribe(t.save),t._connectionHasChanged();var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(r.h,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n||((n=new r.h).characterId(e),n.encounterId(t.encounterId()),n.save()),t.encounter.subscribe(function(){t._dataHasChanged()}),t._dataHasChanged()},t.save=function(){var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(r.h,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n&&(n.imageUrl(t.imageUrl()),n.weather(t.weather()),n.terrain(t.terrain()),n.description(t.description()),n.isExhibited(t.isExhibited()),n.save())},t.weatherLabel=l.a.pureComputed(function(){return t.weather()?t.weather():"Unknown"}),t.terrainLabel=l.a.pureComputed(function(){return t.terrain()?t.terrain():"Unknown"}),t.shouldShowDividingMarker=l.a.pureComputed(function(){return t.imageUrl()||t.description()}),t.selectPreviewTab=function(){t.previewTabStatus("active"),t.editTabStatus("")},t.selectEditTab=function(){t.previewTabStatus(""),t.editTabStatus("active")},t.imageWidth=l.a.pureComputed(function(){return t.imageUrl()&&t.description()?"50%":""}),t.imageClass=l.a.pureComputed(function(){return t.imageUrl()&&t.description()?"embedded-image pull-right":"embedded-image"}),t.convertedImageLink=l.a.pureComputed(function(){return a.g.string.createDirectDropboxLink(t.imageUrl())}),t.shouldShowPushButton=l.a.pureComputed(function(){return t._isConnectedToParty()}),t.pushModalFinishedClosing=function(){t.openPushModal(!1)},t.pushModalToPlayerButtonWasPressed=function(e){t.openPushModal(!0)},t._dataHasChanged=function(){var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(r.i,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n&&(t.name(n.name()),t.visible(n.visible()),t.tagline(n.tagline()));var s=i.l.findByPredicates(r.h,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];s?(t.environment(s),t.imageUrl(s.imageUrl()),t.weather(s.weather()),t.terrain(s.terrain()),t.description(s.description()),t.isExhibited(s.isExhibited())):t.clearFields(),t.imageUrl()||t.weather()||t.terrain()||t.description()?t.selectPreviewTab():t.selectEditTab()},t.clearFields=function(){t.environment(null),t.imageUrl(""),t.weather(""),t.terrain(""),t.description(""),t.isExhibited("")},t._connectionHasChanged=function(){var e=i.d.sharedService();t._isConnectedToParty(null!=e.currentPartyNode)}},template:f.a})},function(e,t,n){e.exports=n.p+"f87a93d24131e557a14c609fb57783de.svg"},function(e,t){e.exports='\x3c!-- ko if: visible --\x3e\n<div class="h3">\n  <img class="encounter-section-img" data-bind="attr: { src: sectionIcon }">\n  Environment<br />\n  <small data-bind="text: tagline"></small>\n</div>\n<div class="container-fluid">\n  \x3c!-- Begin Tabs --\x3e\n  <ul class="nav nav-tabs tabs">\n    <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n      <a href="#" aria-controls="itemsModalPreview" role="tab" data-toggle="tab">\n          <b>Preview</b>\n      </a>\n    </li>\n    <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n      <a href="#" aria-controls="itemsModalEdit" role="tab" data-toggle="tab">\n          <b>Edit</b>\n      </a>\n    </li>\n  </ul>\n  <div class="tab-content">\n    <div role="tabpanel" data-bind="css: previewTabStatus" class="tab-pane">\n      <div class="row row-padded">\n        <div data-bind="col-xs-12">\n          <div class="row">\n            <div class="col-xs-8">\n              <b>Weather:</b>&nbsp;<span data-bind="text: weatherLabel"></span><br>\n              <b>Terrain:</b>&nbsp;<span data-bind="text: terrainLabel"></span>\n              </div>\n              <div class="col-xs-4 text-right">\n                \x3c!-- ko if: shouldShowPushButton --\x3e\n                <div class="text-center inline-block">\n                  <span style="font-weight: bold;">Send</span><br>\n                  <a data-bind="click: pushModalToPlayerButtonWasPressed" href="#" title="Send image to Player\'s Chat">\n                    <i class="fa fa-paper-plane-o fa-color-hover">\n                    </i>\n                  </a>\n                </div>&nbsp;&nbsp;\n                <div class="text-center inline-block">\n                  <span style="font-weight: bold;">Exhibit</span><br>\n                  <a data-bind="click: toggleExhibit" href="#" title="Send Player\'s Exhibit">\n                    <i data-bind="css: { exhibitActiveIcon: isExhibited }" class="fa fa-desktop fa-color-hover">\n                    </i>\n                  </a>\n                </div>\n                \x3c!-- /ko --\x3e\n                \x3c!-- ko ifnot: shouldShowPushButton --\x3e\n                <div class="text-center inline-block">\n                  <span style="font-weight: bold;">Send</span><br>\n                    <span class="fa fa-paper-plane-o fa-disabled" style="cursor:pointer;"\n                      data-bind="popover: { content: \'Join a Party to send image to Player\\\'s Chat\' }">\n                    </span>\n                </div>&nbsp;&nbsp;\n                <div class="text-center inline-block">\n                  <span style="font-weight: bold;">Exhibit</span><br>\n                  <span class="fa fa-desktop fa-disabled" style="cursor:pointer;"\n                    data-bind="popover: { content: \'Join a Party send Player\\\'s Exhibit\' }">\n                  </span>\n                </div>\n                \x3c!-- /ko --\x3e\n              </div>\n          </div>\n          <hr data-bind="visible: shouldShowDividingMarker"/>\n          <div>\n            \x3c!-- ko if: imageUrl --\x3e\n            <img data-bind="attr: { src: convertedImageLink, width: imageWidth }, css: imageClass"\n              class="img-responsive img-rounded">\n            \x3c!-- /ko --\x3e\n            <span data-bind="markdownPreview: description"\n               class="preview-modal-overflow-sm">\n            </span>\n          </div>\n        </div>\n      </div>\n    </div> \x3c!-- End Preview Tab --\x3e\n    <div role="tabpanel" data-bind="css: editTabStatus" class="tab-pane">\n      <form class="form-horizontal">\n        <div class="form-group">\n          <label class="col-sm-2 col-padded control-label">Image Link</label>\n          <div class="col-sm-10 col-padded">\n            <input type="text"\n                   class="form-control"\n                   data-bind="value: imageUrl">\n          </div>\n          <label class="col-sm-2 col-padded control-label">Weather</label>\n          <div class="col-sm-10 col-padded">\n            <input type="text"\n                   class="form-control"\n                   data-bind="value: weather">\n          </div>\n          <label class="col-sm-2 col-padded control-label">Terrain</label>\n          <div class="col-sm-10 col-padded">\n            <input type="text"\n                   class="form-control"\n                   data-bind="value: terrain">\n          </div>\n          <label class="col-sm-2 col-padded control-label">Description</label>\n            <div class="col-sm-10 col-padded">\n              <textarea type="text"\n                     class="form-control" rows="4"\n                     data-bind="value: description, markdownEditor: true"></textarea>\n            </div>\n        </div>\n      </form>\n      </div>\n    </div>\n</div>\n\n<player-push-modal params="isOpen: openPushModal, type: pushType, payload: environment, onclose: pushModalFinishedClosing"></player-push-modal>\n\x3c!-- /ko --\x3e\n'},function(e,t,n){"use strict";var a=n(1),i=n(6),r=n(11),o=n(10),s=n(25),c=n(0),l=n.n(c),d=n(596),u=n.n(d),p=n(597),f=n.n(p);l.a.components.register("maps-and-images-section",{viewModel:function(e){var t=this;t.sectionIcon=u.a,t.encounter=e.encounter,t.encounterId=l.a.pureComputed(function(){if(t.encounter())return t.encounter().encounterId()}),t.characterId=l.a.observable(),t.visible=l.a.observable(),t.name=l.a.observable(),t.tagline=l.a.observable(),t.mapsOrImages=l.a.observableArray(),t.blankMapOrImage=l.a.observable(new r.i),t.openModal=l.a.observable(!1),t.editItemIndex=null,t.currentEditItem=l.a.observable(),t.firstElementInModalHasFocus=l.a.observable(!1),t.editFirstModalElementHasFocus=l.a.observable(!1),t.previewTabStatus=l.a.observable("active"),t.editTabStatus=l.a.observable(""),t.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"},"description asc":{field:"description",direction:"asc"},"description desc":{field:"description",direction:"desc"}},t.filter=l.a.observable(""),t.sort=l.a.observable(t.sorts["name asc"]),t.selectedMapOrImageToPush=l.a.observable(),t.openPushModal=l.a.observable(!1),t.pushType=l.a.observable("image"),t.convertedDisplayUrl=l.a.observable(),t._isConnectedToParty=l.a.observable(!1),t.load=function(){a.f.global.save.add(t.save),a.f.encounters.changed.add(t._dataHasChanged),a.f.party.joined.add(t._connectionHasChanged),a.f.party.left.add(t._connectionHasChanged),a.f.exhibit.toggle.add(t._dataHasChanged),t.encounter.subscribe(function(){t._dataHasChanged()}),t._dataHasChanged(),t._connectionHasChanged()},t.save=function(){var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(s.j,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n||((n=new s.j).encounterId(t.encounterId()),n.characterId(e)),n.name(t.name()),n.visible(t.visible()),n.save(),t.mapsOrImages().forEach(function(e,t,n){e.save()})},t.delete=function(){var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(s.j,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n&&n.delete(),t.mapsOrImages().forEach(function(e,t,n){e.delete()})},t.filteredAndSortedMapsAndImages=l.a.computed(function(){return i.m.sortAndFilter(t.mapsOrImages(),t.sort(),null)}),t.sortArrow=function(e){return i.m.sortArrow(e,t.sort())},t.sortBy=function(e){t.sort(i.m.sortForName(t.sort(),e,t.sorts))},t.addMapOrImage=function(){var e=t.blankMapOrImage();e.characterId(a.a.activeCharacter().key()),e.encounterId(t.encounterId()),e.save(),t.mapsOrImages.push(e),t.blankMapOrImage(new r.i)},t.removeMapOrImage=function(e){e.delete(),t.mapsOrImages.remove(e)},t.editMapOrImage=function(e){t.editItemIndex=e.__id,t.currentEditItem(new r.i),t.currentEditItem().importValues(e.exportValues()),t.convertedDisplayUrl(a.g.string.createDirectDropboxLink(t.currentEditItem().imageUrl())),t.openModal(!0)},t.toggleMapOrImageExhibit=function(e){var n=i.g.sharedService();e.isExhibited()?(e.isExhibited(!1),e.save(),n.clearImage()):(n.publishImage(e.toJSON()),n.clearExhibitFlag(),e.isExhibited(!0),e.save(),t._dataHasChanged())},t.toggleModal=function(){t.openModal(!t.openModal())},t.modalFinishedOpening=function(){t.firstElementInModalHasFocus(!0)},t.modalFinishedClosing=function(){t.selectPreviewTab(),t.openModal()&&a.g.array.updateElement(t.mapsOrImages(),t.currentEditItem(),t.editItemIndex),t.save(),t.openModal(!1)},t.selectPreviewTab=function(){t.convertedDisplayUrl(a.g.string.createDirectDropboxLink(t.currentEditItem().imageUrl())),t.previewTabStatus("active"),t.editTabStatus("")},t.selectEditTab=function(){t.editTabStatus("active"),t.previewTabStatus(""),t.editFirstModalElementHasFocus(!0)},t.shouldShowPushButton=l.a.pureComputed(function(){return t._isConnectedToParty()}),t.pushModalFinishedClosing=function(){t.selectedMapOrImageToPush(null),t.openPushModal(!1)},t.pushModalToPlayerButtonWasPressed=function(e){t.selectedMapOrImageToPush(e),t.openPushModal(!0)},t._dataHasChanged=function(){var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(r.i,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)]);n&&t.mapsOrImages(n);var c=i.l.findByPredicates(s.j,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];c||((c=new s.j).encounterId(t.encounterId()),c.characterId(e)),t.name(c.name()),t.visible(c.visible()),t.tagline(c.tagline())},t._connectionHasChanged=function(){var e=i.d.sharedService();t._isConnectedToParty(null!=e.currentPartyNode)}},template:f.a})},function(e,t,n){e.exports=n.p+"11b210b2d2cc4d7acb8aaa7d78fc7716.svg"},function(e,t){e.exports='\x3c!-- ko if: visible --\x3e\n<div class="h3">\n  <img class="encounter-section-img" data-bind="attr: { src: sectionIcon }">\n  Maps &amp; Images<br />\n  <small data-bind="text: tagline"></small>\n</div>\n<table class="table table-responsive table-ac-bordered table-hover">\n  <thead>\n    <tr>\n      <th data-bind="click: function(){sortBy(\'name\');}" class="col-md-4 col-sm-11">\n        Name\n        <span data-bind="css: sortArrow(\'name\')"></span>\n      </th>\n      <th data-bind="click: function(){sortBy(\'description\');}" class="col-md-7 hidden-xs hidden-sm">\n        Description\n        <span data-bind="css: sortArrow(\'description\')"></span>\n      </th>\n      <th>\n        Send\n      </th>\n      <th>\n        Exhibit\n      </th>\n      <th class="col-md-1">\n        <a data-toggle="modal"\n           data-target="#addMapOrImage" href="#">\n          <i class="fa fa-plus fa-color"></i>\n        </a>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n  \x3c!-- ko foreach: filteredAndSortedMapsAndImages --\x3e\n    <tr class="clickable">\n      <td data-bind="text: name, click: $parent.editMapOrImage"\n          class="col-md-4 col-xs-12"\n          href="#"></td>\n      <td data-bind="html: shortDescription, click: $parent.editMapOrImage"\n          class="col-md-7 hidden-sm hidden-xs"\n          href="#"></td>\n      \x3c!-- ko if: $parent.shouldShowPushButton --\x3e\n      <td class="text-center">\n        <a data-bind="click: $parent.pushModalToPlayerButtonWasPressed" href="#" title="Send image to Player\'s Chat">\n          <i class="fa fa-paper-plane-o fa-color-hover">\n          </i>\n        </a>\n      </td>\n      <td class="text-center">\n        <a data-bind="click: $parent.toggleMapOrImageExhibit" href="#" title="Send Player\'s Exhibit">\n          <i data-bind="css: { exhibitActiveIcon: isExhibited }" class="fa fa-desktop fa-color-hover">\n          </i>\n        </a>\n      </td>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko ifnot: $parent.shouldShowPushButton --\x3e\n      <td class="text-center">\n        <span class="fa fa-paper-plane-o fa-disabled" style="cursor:pointer;"\n          data-bind="popover: { content: \'Join a Party to send image to Player\\\'s Chat\' }">\n        </span>\n      </td>\n      <td class="text-center">\n        <span class="fa fa-desktop fa-disabled" style="cursor:pointer;"\n          data-bind="popover: { content: \'Join a Party send Player\\\'s Exhibit\' }">\n        </span>\n      </td>\n      \x3c!-- /ko --\x3e\n      <td>\n        <a data-bind="click: $parent.removeMapOrImage" href="#">\n          <i class="fa fa-trash-o fa-color-hover">\n          </i>\n        </a>\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: filteredAndSortedMapsAndImages().length == 0 --\x3e\n    <tr class="clickable">\n      <td data-toggle="modal" data-target="#addMapOrImage" href="#"\n        colspan="7" class="text-center">\n        <i class="fa fa-plus fa-color"></i>\n        Add a new Map or Image.\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n  </tbody>\n</table>\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n     id="addMapOrImage"\n     tabindex="-1"\n     role="dialog" data-bind="modal: {\n      onopen: modalFinishedOpening }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title"\n            id="addMapOrImageLabel">Add a new Map or Image.</h4>\n    </div>\n      <div class="modal-body">\n        <form class="form-horizontal" onsubmit="return false;">\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Name</label>\n            <div class="col-sm-10">\n              <input type="text"\n                     class="form-control"\n                     placeholder="A really cool place or image"\n                     data-bind="textInput: blankMapOrImage().name,\n                        hasFocus: firstElementInModalHasFocus">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Link</label>\n            <div class="col-sm-10">\n              <input type="text"\n                     class="form-control"\n                     placeholder=""\n                     data-bind="textInput: blankMapOrImage().imageUrl">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 col-padded control-label">Description</label>\n              <div class="col-sm-10 col-padded">\n                <textarea type="text"\n                       class="form-control" rows="4"\n                       data-bind=\'value: blankMapOrImage().description\'></textarea>\n              </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addMapOrImage\'\n                    data-dismiss="modal">Add</button>\n          </div>\n        </form>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     id="viewMapOrImage"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      open: openModal,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit a Map or Image.</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#" aria-controls="mapsAndImagesModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#" aria-controls="mapsAndImagesModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane">\n            <div class="h3">\n              <span data-bind="text: name"></span>\n            </div>\n            <hr />\n            <div class="row row-padded">\n              <div class="col-xs-12 col-padded text-center">\n                <img data-bind="attr: { src: $parent.convertedDisplayUrl }" width="100%" />\n              </div>\n            </div>\n            <hr />\n            <div class="row">\n              <div class="col-xs-12">\n                <div data-bind="markdownPreview: description"\n                     class="preview-modal-overflow">\n                </div>\n              </div>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="mapOrImageName"\n                       class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         data-bind="textInput: name, hasFocus: $parent.editFirstModalElementHasFocus">\n                </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Link</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         data-bind="textInput: imageUrl">\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="mapOrImageDescription"\n                       class="col-sm-2 col-padded control-label">Description</label>\n                  <div class="col-sm-10 col-padded">\n                    <textarea type="text" rows="6"\n                           class="form-control"\n                           data-bind=\'value: description, markdownEditor: true\'></textarea>\n                  </div>\n              </div>\n            </form>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <button type="button"\n                  class="btn btn-primary"\n                  data-dismiss="modal">Done</button>\n        </div>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n<player-push-modal params="isOpen: openPushModal, type: pushType, payload: selectedMapOrImageToPush, onclose: pushModalFinishedClosing"></player-push-modal>\n'},function(e,t,n){"use strict";var a=n(1),i=n(25),r=n(20),o=n(10),s=n(0),c=n.n(s),l=n(599),d=n.n(l),u=n(600),p=n.n(u),f=n(22),h=n.n(f);c.a.components.register("monster-section",{viewModel:function(e){var t=this;t.sectionIcon=d.a,t.encounter=e.encounter,t.encounterId=c.a.pureComputed(function(){if(t.encounter())return t.encounter().encounterId()}),t.characterId=c.a.observable(),t.visible=c.a.observable(),t.name=c.a.observable(),t.tagline=c.a.observable(),t.monsters=c.a.observableArray(),t.blankMonster=c.a.observable(new i.k),t.openModal=c.a.observable(!1),t.openEditModal=c.a.observable(!1),t.editItemIndex=null,t.currentEditItem=c.a.observable(),t.firstElementInModalHasFocus=c.a.observable(!1),t.editFirstModalElementHasFocus=c.a.observable(!1),t.previewTabStatus=c.a.observable("active"),t.editTabStatus=c.a.observable(""),t.shouldShowDisclaimer=c.a.observable(!1),t.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"},"armorClass asc":{field:"armorClass",direction:"asc"},"armorClass desc":{field:"armorClass",direction:"desc"},"hitPoints asc":{field:"hitPoints",direction:"asc"},"hitPoints desc":{field:"hitPoints",direction:"desc"},"speed asc":{field:"speed",direction:"asc"},"speed desc":{field:"speed",direction:"desc"},"experience asc":{field:"experience",direction:"asc"},"experience desc":{field:"experience",direction:"desc"}},t.filter=c.a.observable(""),t.sort=c.a.observable(t.sorts["name asc"]),t.load=function(){a.f.global.save.add(t.save),a.f.encounters.changed.add(t._dataHasChanged),t.encounter.subscribe(function(){t._dataHasChanged()}),t._dataHasChanged()},t.save=function(){var e=a.a.activeCharacter().key(),n=r.l.findByPredicates(i.m,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n||((n=new i.m).encounterId(t.encounterId()),n.characterId(e)),n.name(t.name()),n.visible(t.visible()),n.save(),t.monsters().forEach(function(e,t,n){e.save()})},t.delete=function(){var e=a.a.activeCharacter().key(),n=r.l.findByPredicates(i.m,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n&&n.delete(),t.monsters().forEach(function(e,t,n){e.delete()})},t.filteredAndSortedMonsters=c.a.computed(function(){return r.n.sortAndFilter(t.monsters(),t.sort(),null)}),t.sortArrow=function(e){return r.n.sortArrow(e,t.sort())},t.sortBy=function(e){t.sort(r.n.sortForName(t.sort(),e,t.sorts))},t.addMonster=function(){var e=t.blankMonster();e.characterId(a.a.activeCharacter().key()),e.encounterId(t.encounterId()),e.monsterId(h.a.v4()),e.abilityScores().forEach(function(n,a,i){n.encounterId(t.encounterId()),n.monsterId(e.monsterId()),n.save()}),e.save(),t.monsters.push(e),t.blankMonster(new i.k)},t.removeMonster=function(e){e.abilityScores().forEach(function(e,t,n){e.delete()}),e.delete(),t.monsters.remove(e)},t.editMonster=function(e){t.editItemIndex=e.__id,t.currentEditItem(new i.k),t.currentEditItem().importValues(e.exportValues()),t.currentEditItem().abilityScores(e.abilityScores().map(function(e,t,n){var a=new i.l;return a.importValues(e),a})),t.openEditModal(!0)},t.toggleModal=function(){t.blankMonster().abilityScores([{name:"Strength",encounterId:null,characterId:null,value:0},{name:"Dexterity",encounterId:null,characterId:null,value:0},{name:"Constitution",encounterId:null,characterId:null,value:0},{name:"Intelligence",encounterId:null,characterId:null,value:0},{name:"Wisdom",encounterId:null,characterId:null,value:0},{name:"Charisma",encounterId:null,characterId:null,value:0}].map(function(e,t,n){var r=new i.l;return e.characterId=a.a.activeCharacter().key(),r.importValues(e),r})),t.openModal(!t.openModal())},t.renderAbilityScoresInAddModal=function(){return!!t.blankMonster().abilityScores()[0].name()},t.monstersPrePopFilter=function(e,t){var n=e.term.toLowerCase();t((a.b.monsters?Object.keys(a.b.monsters):[]).filter(function(e,t,a){return e.toLowerCase().indexOf(n)>-1}))},t.populateMonster=function(e,n){var i=a.b.monsters[e];t.blankMonster().importValues(i),t.blankMonster().abilityScores().forEach(function(e,t,n){e.name(i.abilityScores[t].name),e.value(i.abilityScores[t].value)}),t.shouldShowDisclaimer(!0)},t.modalFinishedOpening=function(){t.shouldShowDisclaimer(!1),t.firstElementInModalHasFocus(!0)},t.modalFinishedClosing=function(){if(t.openModal(!1),t.selectPreviewTab(),t.openEditModal()){var e=a.a.activeCharacter().key();t.monsters().forEach(function(n,a,s){n.__id===t.editItemIndex&&(n.importValues(t.currentEditItem().exportValues()),n.abilityScores(t.currentEditItem().abilityScores().map(function(t,n,a){var s=r.l.findByPredicates(i.l,[new o.a("characterId",e),new o.a("encounterId",t.encounterId()),new o.a("monsterId",t.monsterId())])[0];return s.importValues(t),s})))})}t.save(),t.openEditModal(!1)},t.selectPreviewTab=function(){t.previewTabStatus("active"),t.editTabStatus("")},t.selectEditTab=function(){t.editTabStatus("active"),t.previewTabStatus(""),t.editFirstModalElementHasFocus(!0)},t._dataHasChanged=function(){var e=a.a.activeCharacter().key(),n=r.l.findByPredicates(i.k,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)]);n&&(t.monsters(n),t.monsters().forEach(function(e,t,n){var a=r.l.findBy(i.l,"monsterId",e.monsterId());e.abilityScores(a)}));var s=r.l.findByPredicates(i.m,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];s&&(t.name(s.name()),t.visible(s.visible()),t.tagline(s.tagline()))}},template:p.a})},function(e,t,n){e.exports=n.p+"139d16baa33da18d254973d12525355e.svg"},function(e,t){e.exports='\x3c!-- ko if: visible --\x3e\n<div class="h3">\n  <img class="encounter-section-img" data-bind="attr: { src: sectionIcon }">\n  Monsters<br />\n  <small data-bind="text: tagline"></small>\n</div>\n<table class="table table-responsive table-ac-bordered table-hover">\n  <thead>\n    <tr>\n      <th data-bind="click: function(){sortBy(\'name\');}" class="col-md-3">\n        Name\n        <span data-bind="css: sortArrow(\'name\')"></span>\n      </th>\n      <th data-bind="click: function(){sortBy(\'armorClass\');}" class="col-md-2">\n        Armor Class\n        <span data-bind="css: sortArrow(\'armorClass\')"></span>\n      </th>\n      <th data-bind="click: function(){sortBy(\'hitPoints\');}" class="col-md-2">\n        Hit Points\n        <span data-bind="css: sortArrow(\'hitPoints\')"></span>\n      </th>\n      <th data-bind="click: function(){sortBy(\'speed\');}" class="col-md-2">\n        Speed\n        <span data-bind="css: sortArrow(\'speed\')"></span>\n      </th>\n      <th data-bind="click: function(){sortBy(\'experience\');}" class="col-md-2">\n        Experience\n        <span data-bind="css: sortArrow(\'experience\')"></span>\n      </th>\n      <th class="col-md-1">\n        <a data-bind="click: toggleModal" href="#">\n          <i class="fa fa-plus fa-color"></i>\n        </a>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n  \x3c!-- ko foreach: filteredAndSortedMonsters --\x3e\n    <tr class="clickable">\n      <td data-bind="text: name, click: $parent.editMonster"\n          data-toggle="modal"></td>\n      <td data-bind="text: armorClass, click: $parent.editMonster"\n          data-toggle="modal"></td>\n      <td data-bind="text: hitPoints, click: $parent.editMonster"\n          data-toggle="modal"></td>\n      <td data-bind="text: speed, click: $parent.editMonster"\n          data-toggle="modal"></td>\n      <td data-bind="text: experience, click: $parent.editMonster"\n          data-toggle="modal"></td>\n      <td>\n        <a data-bind="click: $parent.removeMonster" href="#">\n          <i class="fa fa-trash-o fa-color-hover">\n          </i>\n        </a>\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: filteredAndSortedMonsters().length == 0 --\x3e\n    <tr class="clickable">\n      <td data-bind="click: toggleModal" href="#"\n        colspan="7" class="text-center">\n        <i class="fa fa-plus fa-color"></i>\n        Add a new Monster\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n  </tbody>\n</table>\n\x3c!-- /ko --\x3e\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n     id="addMonster"\n     tabindex="-1"\n     role="dialog" data-bind="modal: { open: openModal, onopen: modalFinishedOpening,\n       onclose: modalFinishedClosing}">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title"\n            id="addMonsterLabel">Add a new Monster</h4>\n    </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Name</label>\n            <div class="col-sm-10">\n              <input type="text"\n                     class="form-control"\n                     placeholder="Ancient Black Dragon"\n                     data-bind="textInput: blankMonster().name,\n                        hasFocus: firstElementInModalHasFocus,\n                        autocomplete: { source: monstersPrePopFilter, onselect: populateMonster }">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Size</label>\n            <div class="col-sm-10">\n              <input type="text"\n                     class="form-control"\n                     placeholder="Gargantuan"\n                     data-bind="textInput: blankMonster().size">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Type</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="Dragon"\n                       data-bind=\'value: blankMonster().type\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Alignment</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="Chaotic Evil"\n                       data-bind=\'value: blankMonster().alignment\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Armor Class</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="22 (natural armor)"\n                       data-bind=\'value: blankMonster().armorClass\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Hit Points</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="367 (21d20 + 147)"\n                       data-bind=\'value: blankMonster().hitPoints\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Speed</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="40 ft., fly 80 ft., swim 40 ft."\n                       data-bind=\'value: blankMonster().speed\'>\n              </div>\n          </div>\n          <hr/>\n          <table class="table">\n            <thead>\n              <tr>\n                <th width="16%" class="text-center">Strength</th>\n                <th width="16%" class="text-center">Dexterity</th>\n                <th width="16%" class="text-center">Constitution</th>\n                <th width="16%" class="text-center">Intelligence</th>\n                <th width="16%" class="text-center">Wisdom</th>\n                <th width="16%" class="text-center">Charisma</th>\n              </tr>\n            </thead>\n            <tbody>\n              \x3c!-- ko if: renderAbilityScoresInAddModal() --\x3e\n              <tr>\n                <td class="text-center">\n                  <input type="number" class="form-control"\n                    data-bind="value: blankMonster().findAbilityScoreByName(\'Strength\').value">\n                </td>\n                <td class="text-center">\n                  <input type="number" class="form-control"\n                    data-bind="value: blankMonster().findAbilityScoreByName(\'Dexterity\').value">\n                </td>\n                <td class="text-center">\n                  <input type="number" class="form-control"\n                    data-bind="value: blankMonster().findAbilityScoreByName(\'Constitution\').value">\n                </td>\n                <td class="text-center">\n                  <input type="number" class="form-control"\n                    data-bind="value: blankMonster().findAbilityScoreByName(\'Intelligence\').value">\n                </td>\n                <td class="text-center">\n                  <input type="number" class="form-control"\n                    data-bind="value: blankMonster().findAbilityScoreByName(\'Wisdom\').value">\n                </td>\n                <td class="text-center">\n                  <input type="number" class="form-control"\n                    data-bind="value: blankMonster().findAbilityScoreByName(\'Charisma\').value">\n                </td>\n              </tr>\n              \x3c!-- /ko --\x3e\n            </tbody>\n          </table>\n          <hr/>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Saving Throws</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="Dex +7, Con +10, Wis +6, Cha +8"\n                       data-bind=\'value: blankMonster().savingThrows\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Skills</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="Perception +11, Stealth +7"\n                       data-bind=\'value: blankMonster().skills\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Damage Immunities</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="Acid"\n                       data-bind=\'value: blankMonster().damageImmunities\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Damage Vulnerabilities</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="None"\n                       data-bind=\'value: blankMonster().damageVulnerabilities\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Damage Resistances</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="None"\n                       data-bind=\'value: blankMonster().damageResistances\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Condition Immunities</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="None"\n                       data-bind=\'value: blankMonster().conditionImmunities\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Senses</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="Blindsight 60 ft., darkvision 120 ft., passive Perception 21"\n                       data-bind=\'value: blankMonster().senses\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Languages</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="Common, Draconic"\n                       data-bind=\'value: blankMonster().languages\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Challenge</label>\n              <div class="col-sm-10">\n                <input type="text"\n                       class="form-control"\n                       placeholder="22"\n                       data-bind=\'value: blankMonster().challenge\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Experience</label>\n              <div class="col-sm-10">\n                <input type="number"\n                       class="form-control"\n                       placeholder="11500"\n                       data-bind=\'value: blankMonster().experience\'>\n              </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Description</label>\n              <div class="col-sm-10">\n                <textarea type="text"\n                       class="form-control" rows="4"\n                       placeholder="Multiattack. The dragon can use its Frightful Presence. It then makes three attacks..."\n                       data-bind=\'value: blankMonster().description\'></textarea>\n              </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-default"\n                    data-dismiss="modal">Cancel</button>\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addMonster\'\n                    data-dismiss="modal">Add</button>\n              <p class="text-muted text-left" data-bind=\'visible: shouldShowDisclaimer\'>\n                <sm><i>This data is distributed under the\n                  <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n                    target=\'_blank\'>\n                    OGL</a><br/>\n                    Open\tGame\tLicense\tv\t1.0a\tCopyright\t2000,\tWizards\tof\tthe\tCoast,\tLLC.\n                  </i><sm>\n              </p>\n          </div>\n        </form>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n\x3c!-- ko if: openEditModal --\x3e\n<div class="modal fade"\n     id="viewWeapon"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      open: openEditModal,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit a Monster</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#" aria-controls="itemsModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#" aria-controls="itemsModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane">\n            <div class="h3">\n              <span data-bind="text: name"></span>&nbsp;\n              <small data-bind="text: nameLabel"></small>\n            </div>\n            <div class="row">\n              <div class="col-sm-6 col-xs-12"><b>Armor Class:</b>&nbsp;<span data-bind="text: armorClass"></span></div>\n              <div class="col-sm-6 col-xs-12"><b>Hit Points:</b>&nbsp;<span data-bind="text: hitPoints"></span></div>\n\n              <div class="col-sm-6 col-xs-12"><b>Speed:</b>&nbsp;<span data-bind="text: speed"></span></div>\n              <div class="col-sm-6 col-xs-12"><b>Languages:</b>&nbsp;<span data-bind="text: languages"></span></div>\n\n              <div class="col-sm-6 col-xs-12"><b>Challenge:</b>&nbsp;<span data-bind="text: challenge"></span></div>\n              <div class="col-sm-6 col-xs-12"><b>Experience:</b>&nbsp;<span data-bind="text: experience"></span></div>\n\n              <div class="col-sm-6 col-xs-12"><b>Damage Vulnerabilities:</b>&nbsp;<span data-bind="text: damageVulnerabilities"></span></div>\n              <div class="col-sm-6 col-xs-12"><b>Damage Immunities:</b>&nbsp;<span data-bind="text: damageImmunities"></span></div>\n\n              <div class="col-sm-6 col-xs-12"><b>Damage Resistances:</b>&nbsp;<span data-bind="text: damageResistances"></span></div>\n              <div class="col-sm-6 col-xs-12"><b>Condition Immunities:</b>&nbsp;<span data-bind="text: conditionImmunities"></span></div>\n\n              <div class="col-md-12">\n                <hr/>\n                <table class="table">\n                  <thead>\n                    <tr>\n                      <th width="16%" class="text-center">Strength</th>\n                      <th width="16%" class="text-center">Dexterity</th>\n                      <th width="16%" class="text-center">Constitution</th>\n                      <th width="16%" class="text-center">Intelligence</th>\n                      <th width="16%" class="text-center">Wisdom</th>\n                      <th width="16%" class="text-center">Charisma</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr>\n                      <td class="text-center">\n                        <span data-bind="text: findAbilityScoreByName(\'Strength\').value"></span>\n                        <sup>\n                          <span class="badge" data-bind="text: findAbilityScoreByName(\'Strength\').modifierLabel"></span>\n                        </sup>\n                      </td>\n                      <td class="text-center">\n                        <span data-bind="text: findAbilityScoreByName(\'Dexterity\').value"></span>\n                        <sup>\n                          <span class="badge" data-bind="text: findAbilityScoreByName(\'Dexterity\').modifierLabel"></span>\n                        </sup>\n                      </td>\n                      <td class="text-center">\n                        <span data-bind="text: findAbilityScoreByName(\'Constitution\').value"></span>\n                        <sup>\n                          <span class="badge" data-bind="text: findAbilityScoreByName(\'Constitution\').modifierLabel"></span>\n                        </sup>\n                      </td>\n                      <td class="text-center">\n                        <span data-bind="text: findAbilityScoreByName(\'Intelligence\').value"></span>\n                        <sup>\n                          <span class="badge" data-bind="text: findAbilityScoreByName(\'Intelligence\').modifierLabel"></span>\n                        </sup>\n                      </td>\n                      <td class="text-center">\n                        <span data-bind="text: findAbilityScoreByName(\'Wisdom\').value"></span>\n                        <sup>\n                          <span class="badge" data-bind="text: findAbilityScoreByName(\'Wisdom\').modifierLabel"></span>\n                        </sup>\n                      </td>\n                      <td class="text-center">\n                        <span data-bind="text: findAbilityScoreByName(\'Charisma\').value"></span>\n                        <sup>\n                          <span class="badge" data-bind="text: findAbilityScoreByName(\'Charisma\').modifierLabel"></span>\n                        </sup>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n                <hr/>\n              </div>\n\n              <div class="col-md-12"><b>Saving Throws:</b>&nbsp;<span data-bind="text: savingThrows"></span></div>\n\n              <div class="col-md-12"><b>Skills:</b>&nbsp;<span data-bind="text: skills"></span></div>\n\n              <div class="col-md-12"><b>Senses:</b>&nbsp;<span data-bind="text: senses"></span></div>\n            </div>\n            <hr />\n            <div class="row row-padded">\n              <div class="col-xs-12 col-padded">\n                <div data-bind="markdownPreview: markDownDescription"\n                     class="preview-modal-overflow">\n                </div>\n              </div>\n            </div>\n            <div class="modal-footer">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-dismiss="modal">Done</button>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         placeholder="Ancient Black Dragon"\n                         data-bind="textInput: name, hasFocus: $parent.editFirstModalElementHasFocus">\n                </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Size</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         placeholder="Gargantuan"\n                         data-bind="textInput: size">\n                </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Type</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="Dragon"\n                           data-bind=\'textInput: type\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Alignment</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="Chaotic Evil"\n                           data-bind=\'textInput: alignment\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Armor Class</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="22 (natural armor)"\n                           data-bind=\'textInput: armorClass\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Hit Points</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="367 (21d20 + 147)"\n                           data-bind=\'value: hitPoints\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Speed</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="40 ft., fly 80 ft., swim 40 ft."\n                           data-bind=\'textInput: speed\'>\n                  </div>\n              </div>\n              <hr/>\n              <table class="table">\n                <thead>\n                  <tr>\n                    <th width="16%" class="text-center">Strength</th>\n                    <th width="16%" class="text-center">Dexterity</th>\n                    <th width="16%" class="text-center">Constitution</th>\n                    <th width="16%" class="text-center">Intelligence</th>\n                    <th width="16%" class="text-center">Wisdom</th>\n                    <th width="16%" class="text-center">Charisma</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td class="text-center">\n                      <input type="number" class="form-control"\n                        data-bind="value: findAbilityScoreByName(\'Strength\').value">\n                    </td>\n                    <td class="text-center">\n                      <input type="number" class="form-control"\n                        data-bind="value: findAbilityScoreByName(\'Dexterity\').value">\n                    </td>\n                    <td class="text-center">\n                      <input type="number" class="form-control"\n                        data-bind="value: findAbilityScoreByName(\'Constitution\').value">\n                    </td>\n                    <td class="text-center">\n                      <input type="number" class="form-control"\n                        data-bind="value: findAbilityScoreByName(\'Intelligence\').value">\n                    </td>\n                    <td class="text-center">\n                      <input type="number" class="form-control"\n                        data-bind="value: findAbilityScoreByName(\'Wisdom\').value">\n                    </td>\n                    <td class="text-center">\n                      <input type="number" class="form-control"\n                        data-bind="value: findAbilityScoreByName(\'Charisma\').value">\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <hr/>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Saving Throws</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="Dex +7, Con +10, Wis +6, Cha +8"\n                           data-bind=\'textInput: savingThrows\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Skills</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="Perception +11, Stealth +7"\n                           data-bind=\'textInput: skills\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Damage Immunities</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="Acid"\n                           data-bind=\'textInput: damageImmunities\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Damage Vulnerabilities</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="None"\n                           data-bind=\'textInput: damageVulnerabilities\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Damage Resistances</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="None"\n                           data-bind=\'textInput: damageResistances\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Condition Immunities</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="None"\n                           data-bind=\'textInput: conditionImmunities\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Senses</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="Blindsight 60 ft., darkvision 120 ft., passive Perception 21"\n                           data-bind=\'textInput: senses\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Languages</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="Common, Draconic"\n                           data-bind=\'textInput: languages\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Challenge</label>\n                  <div class="col-sm-10">\n                    <input type="text"\n                           class="form-control"\n                           placeholder="14"\n                           data-bind=\'value: challenge\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Experience</label>\n                  <div class="col-sm-10">\n                    <input type="number"\n                           class="form-control"\n                           placeholder="11500"\n                           data-bind=\'value: experience\'>\n                  </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Description</label>\n                  <div class="col-sm-10">\n                    <textarea type="text"\n                           class="form-control" rows="4"\n                           placeholder="Multiattack. The dragon can use its Frightful Presence. It then makes three attacks..."\n                           data-bind=\'value: description\'></textarea>\n                  </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\x3c!-- /ko --\x3e\n'},function(e,t,n){"use strict";var a=n(1),i=n(10),r=n(15),o=n(2),s=n(0),c=n.n(s),l=n(602),d=n.n(l),u=n(603),p=n.n(u);c.a.components.register("notes-section",{viewModel:function(e){var t=this;t.sectionIcon=d.a,t.notes=c.a.observable(""),t.visible=c.a.observable(),t.encounter=e.encounter,t.encounterId=c.a.pureComputed(function(){if(t.encounter())return t.encounter().encounterId()}),t.name="Notes",t.tagline=c.a.observable(),t.load=function(){a.f.global.save.add(t.save),a.f.encounters.changed.add(t._dataHasChanged),t.notes.subscribe(t.save),t.encounter.subscribe(function(){t._dataHasChanged()}),t._dataHasChanged()},t.save=function(){var e=a.a.activeCharacter().key(),n=o.a.findByPredicates(r.n,[new i.a("encounterId",t.encounterId()),new i.a("characterId",e)])[0];n&&(n.notes(t.notes()),n.visible(t.visible()),n.save())},t._dataHasChanged=function(){var e=a.a.activeCharacter().key(),n=o.a.findByPredicates(r.n,[new i.a("encounterId",t.encounterId()),new i.a("characterId",e)])[0];n&&(t.notes(n.notes()),t.visible(n.visible()),t.tagline(n.tagline()))}},template:p.a})},function(e,t,n){e.exports=n.p+"8ef1a4bc44b16059331f417f30322ee4.svg"},function(e,t){e.exports='\x3c!-- ko if: visible --\x3e\n<div class="h3">\n  <img class="encounter-section-img" data-bind="attr: { src: sectionIcon }">\nNotes<br />\n<small data-bind="text: tagline"></small>\n</div>\n<div class="container-fluid">\n  <div class="form-group">\n      <markdown-edit-preview params="text: notes, rows: 20,\n        placeholder: \'The party enters a dark...\', defaultActiveTab: \'edit\'"></markdown-edit-preview>\n  </div>\n</div>\n\x3c!-- /ko --\x3e\n'},function(e,t,n){"use strict";var a=n(1),i=n(25),r=n(20),o=n(10),s=n(0),c=n.n(s),l=n(605),d=n.n(l),u=n(606),p=n.n(u);c.a.components.register("npc-section",{viewModel:function(e){var t=this;t.sectionIcon=d.a,t.encounter=e.encounter,t.encounterId=c.a.pureComputed(function(){if(t.encounter())return t.encounter().encounterId()}),t.characterId=c.a.observable(),t.visible=c.a.observable(),t.name=c.a.observable(),t.tagline=c.a.observable(),t.npcs=c.a.observableArray(),t.blankNPC=c.a.observable(new i.n),t.openModal=c.a.observable(!1),t.editItemIndex=null,t.currentEditItem=c.a.observable(),t.firstElementInModalHasFocus=c.a.observable(!1),t.editFirstModalElementHasFocus=c.a.observable(!1),t.previewTabStatus=c.a.observable("active"),t.editTabStatus=c.a.observable(""),t.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"},"race asc":{field:"race",direction:"asc"},"race desc":{field:"race",direction:"desc"},"description asc":{field:"description",direction:"asc"},"description desc":{field:"description",direction:"desc"}},t.filter=c.a.observable(""),t.sort=c.a.observable(t.sorts["name asc"]),t.raceOptions=a.c.profile.raceOptions,t.load=function(){a.f.global.save.add(t.save),a.f.encounters.changed.add(t._dataHasChanged),t.encounter.subscribe(function(){t._dataHasChanged()}),t._dataHasChanged()},t.save=function(){var e=a.a.activeCharacter().key(),n=r.l.findByPredicates(i.o,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n||((n=new i.o).encounterId(t.encounterId()),n.characterId(e)),n.name(t.name()),n.visible(t.visible()),n.save(),t.npcs().forEach(function(e,t,n){e.save()})},t.delete=function(){var e=a.a.activeCharacter().key(),n=r.l.findByPredicates(i.o,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n&&n.delete(),t.npcs().forEach(function(e,t,n){e.delete()})},t.filteredAndSortedNpcs=c.a.computed(function(){return r.n.sortAndFilter(t.npcs(),t.sort(),null)}),t.sortArrow=function(e){return r.n.sortArrow(e,t.sort())},t.sortBy=function(e){t.sort(r.n.sortForName(t.sort(),e,t.sorts))},t.addNPC=function(){var e=t.blankNPC();e.characterId(a.a.activeCharacter().key()),e.encounterId(t.encounterId()),e.save(),t.npcs.push(e),t.blankNPC(new i.n)},t.removeNPC=function(e){e.delete(),t.npcs.remove(e)},t.editNPC=function(e){t.editItemIndex=e.__id,t.currentEditItem(new i.n),t.currentEditItem().importValues(e.exportValues()),t.openModal(!0)},t.toggleModal=function(){t.openModal(!t.openModal())},t.modalFinishedOpening=function(){t.firstElementInModalHasFocus(!0)},t.modalFinishedClosing=function(){t.selectPreviewTab(),t.openModal()&&a.g.array.updateElement(t.npcs(),t.currentEditItem(),t.editItemIndex),t.save(),t.openModal(!1)},t.selectPreviewTab=function(){t.previewTabStatus("active"),t.editTabStatus("")},t.selectEditTab=function(){t.editTabStatus("active"),t.previewTabStatus(""),t.editFirstModalElementHasFocus(!0)},t.populateRace=function(e,n){t.blankNPC().race(n)},t.populateRaceEdit=function(e,n){t.currentEditItem().race(n)},t._dataHasChanged=function(){var e=a.a.activeCharacter().key(),n=r.l.findByPredicates(i.n,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)]);n&&t.npcs(n);var s=r.l.findByPredicates(i.o,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];s||((s=new i.o).encounterId(t.encounterId()),s.characterId(e)),t.name(s.name()),t.visible(s.visible()),t.tagline(s.tagline())}},template:p.a})},function(e,t,n){e.exports=n.p+"4df22b01fcaea425d11008f80b3fc5bf.svg"},function(e,t){e.exports='\x3c!-- ko if: visible --\x3e\n<div class="h3">\n  <img class="encounter-section-img" data-bind="attr: { src: sectionIcon }">\n  Non-Player Characters<br />\n  <small data-bind="text: tagline"></small>\n</div>\n<table class="table table-responsive table-ac-bordered table-hover">\n  <thead>\n    <tr>\n      <th data-bind="click: function(){sortBy(\'name\');}" class="col-md-3">\n        Name\n        <span data-bind="css: sortArrow(\'name\')"></span>\n      </th>\n      <th data-bind="click: function(){sortBy(\'race\');}" class="col-md-3">\n        Race\n        <span data-bind="css: sortArrow(\'race\')"></span>\n      </th>\n      <th data-bind="click: function(){sortBy(\'description\');}" class="col-md-5">\n        Description\n        <span data-bind="css: sortArrow(\'description\')"></span>\n      </th>\n      <th class="col-md-1">\n        <a data-toggle="modal"\n           data-target="#addNPC" href="#">\n          <i class="fa fa-plus fa-color"></i>\n        </a>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n  \x3c!-- ko foreach: filteredAndSortedNpcs --\x3e\n    <tr class="clickable">\n      <td data-bind="text: name, click: $parent.editNPC"\n          href="#"></td>\n      <td data-bind="text: race, click: $parent.editNPC"\n          href="#"></td>\n      <td data-bind="text: shortDescription, click: $parent.editNPC"\n          href="#" class="hidden-md hidden-lg"></td>\n      <td data-bind="text: longDescription, click: $parent.editNPC"\n          href="#" class="hidden-sm hidden-xs"></td>\n      <td>\n        <a data-bind="click: $parent.removeNPC" href="#">\n          <i class="fa fa-trash-o fa-color-hover">\n          </i>\n        </a>\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: filteredAndSortedNpcs().length == 0 --\x3e\n    <tr class="clickable">\n      <td data-toggle="modal" data-target="#addNPC" href="#"\n        colspan="7" class="text-center">\n        <i class="fa fa-plus fa-color"></i>\n        Add a new NPC\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n  </tbody>\n</table>\n\x3c!-- /ko --\x3e\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n     id="addNPC"\n     tabindex="-1"\n     role="dialog" data-bind="modal: {\n      onopen: modalFinishedOpening, onclose: modalFinishedClosing}">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title"\n            id="addNpcLabel">Add a new NPC</h4>\n    </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Name</label>\n            <div class="col-sm-10">\n              <input type="text"\n                     class="form-control"\n                     placeholder="King Arthur"\n                     data-bind="textInput: blankNPC().name,\n                        hasFocus: firstElementInModalHasFocus">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Race</label>\n            <div class="col-sm-10">\n              <input type="text"\n                     class="form-control"\n                     placeholder="Human"\n                     data-bind="textInput: blankNPC().race,\n                                autocomplete: { source: raceOptions,\n                                onselect: populateRace }">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Description</label>\n              <div class="col-sm-10">\n                <textarea type="text"\n                       class="form-control" rows="4"\n                       placeholder="King Arthur is a benevolent..."\n                       data-bind=\'value: blankNPC().description\'></textarea>\n              </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addNPC\'\n                    data-dismiss="modal">Add</button>\n          </div>\n        </form>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     id="viewWeapon"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      open: openModal,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit an NPC</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#" aria-controls="itemsModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#" aria-controls="itemsModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane">\n            <div class="h3">\n              <span data-bind="text: name"></span>&nbsp;\n              <small data-bind="text: race"></small>\n            </div>\n            <hr />\n            <div class="row row-padded">\n              <div class="col-xs-12 col-padded">\n                <div data-bind="markdownPreview: description"\n                     class="preview-modal-overflow">\n                </div>\n              </div>\n            </div>\n            <div class="modal-footer">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-dismiss="modal">Done</button>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="npcName"\n                       class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         data-bind="textInput: name, hasFocus: $parent.editFirstModalElementHasFocus">\n                </div>\n              </div>\n              <div class="form-group">\n                <label class="col-sm-2 control-label">Race</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         placeholder="Human"\n                         data-bind="textInput: race,\n                                    autocomplete: { source: $parent.raceOptions,\n                                    onselect: $parent.populateRaceEdit }">\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="npcDescription"\n                       class="col-sm-2 control-label">Description</label>\n                  <div class="col-sm-10">\n                    <textarea type="text" rows="6"\n                           class="form-control"\n                           data-bind=\'value: description, markdownEditor: true\'></textarea>\n                  </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n'},function(e,t,n){"use strict";var a=n(1),i=n(20),r=n(15),o=n(10),s=n(0),c=n.n(s),l=n(608),d=n.n(l),u=n(609),p=n.n(u);c.a.components.register("player-text-section",{viewModel:function(e){var t=this;t.sectionIcon=d.a,t.encounter=e.encounter,t.encounterId=c.a.pureComputed(function(){if(t.encounter())return t.encounter().encounterId()}),t.characterId=c.a.observable(),t.visible=c.a.observable(),t.name=c.a.observable(),t.tagline=c.a.observable(),t.playerTexts=c.a.observableArray(),t.blankPlayerText=c.a.observable(new r.q),t.openModal=c.a.observable(!1),t.editItemIndex=null,t.currentEditItem=c.a.observable(),t.firstElementInModalHasFocus=c.a.observable(!1),t.editFirstModalElementHasFocus=c.a.observable(!1),t.previewTabStatus=c.a.observable("active"),t.editTabStatus=c.a.observable(""),t.selectedItemToPush=c.a.observable(),t.openPushModal=c.a.observable(!1),t.pushType=c.a.observable("read-aloud"),t._isConnectedToParty=c.a.observable(!1),t.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"},"description asc":{field:"description",direction:"asc"},"description desc":{field:"description",direction:"desc"}},t.filter=c.a.observable(""),t.sort=c.a.observable(t.sorts["description asc"]),t.load=function(){a.f.global.save.add(t.save),a.f.encounters.changed.add(t._dataHasChanged),a.f.party.joined.add(t._connectionHasChanged),a.f.party.left.add(t._connectionHasChanged),t.encounter.subscribe(function(){t._dataHasChanged()}),t._dataHasChanged(),t._connectionHasChanged()},t.save=function(){var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(r.r,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n||((n=new r.r).encounterId(t.encounterId()),n.characterId(e)),n.name(t.name()),n.visible(t.visible()),n.save(),t.playerTexts().forEach(function(e,t,n){e.save()})},t.delete=function(){var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(r.r,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n&&n.delete(),t.playerTexts().forEach(function(e,t,n){e.delete()})},t.filteredAndSortedPlayerText=c.a.computed(function(){return i.n.sortAndFilter(t.playerTexts(),t.sort(),null)}),t.sortArrow=function(e){return i.n.sortArrow(e,t.sort())},t.sortBy=function(e){t.sort(i.n.sortForName(t.sort(),e,t.sorts))},t.addPlayerText=function(){var e=t.blankPlayerText();e.characterId(a.a.activeCharacter().key()),e.encounterId(t.encounterId()),e.save(),t.playerTexts.push(e),t.blankPlayerText(new r.q)},t.removePlayerText=function(e){e.delete(),t.playerTexts.remove(e)},t.editPlayerText=function(e){t.editItemIndex=e.__id,t.currentEditItem(new r.q),t.currentEditItem().importValues(e.exportValues()),t.openModal(!0)},t.toggleModal=function(){t.openModal(!t.openModal())},t.shouldShowPushButton=c.a.pureComputed(function(){return t._isConnectedToParty()}),t.pushModalFinishedClosing=function(){t.selectedItemToPush(null),t.openPushModal(!1)},t.pushModalToPlayerButtonWasPressed=function(e){t.selectedItemToPush(e),t.openPushModal(!0)},t.modalFinishedOpening=function(){t.firstElementInModalHasFocus(!0)},t.modalFinishedClosing=function(){t.selectPreviewTab(),t.openModal()&&a.g.array.updateElement(t.playerTexts(),t.currentEditItem(),t.editItemIndex),t.save(),t.openModal(!1)},t.selectPreviewTab=function(){t.previewTabStatus("active"),t.editTabStatus("")},t.selectEditTab=function(){t.editTabStatus("active"),t.previewTabStatus(""),t.editFirstModalElementHasFocus(!0)},t._dataHasChanged=function(){var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(r.q,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)]);n&&t.playerTexts(n);var s=i.l.findByPredicates(r.r,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];s||((s=new r.r).encounterId(t.encounterId()),s.characterId(e)),t.name(s.name()),t.visible(s.visible()),t.tagline(s.tagline())},t._connectionHasChanged=function(){var e=i.c.sharedService();t._isConnectedToParty(null!=e.currentPartyNode)}},template:p.a})},function(e,t,n){e.exports=n.p+"f323962eef19ae5e16b21c258d20026f.svg"},function(e,t){e.exports='\x3c!-- ko if: visible --\x3e\n<div class="h3">\n<img class="encounter-section-img" data-bind="attr: { src: sectionIcon }">\n  Read-Aloud Text<br />\n  <small data-bind="text: tagline"></small>\n</div>\n<table class="table table-responsive table-ac-bordered table-hover">\n  <thead>\n    <tr>\n      <th data-bind="click: function(){sortBy(\'name\');}">\n        Name\n        <span data-bind="css: sortArrow(\'name\')"></span>\n      </th>\n      <th data-bind="click: function(){sortBy(\'description\');}">\n        Description\n        <span data-bind="css: sortArrow(\'description\')"></span>\n      </th>\n      <th>Send</th>\n      <th>\n        <a data-toggle="modal"\n           data-target="#addPlayerText" href="#">\n          <i class="fa fa-plus fa-color"></i>\n        </a>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n  \x3c!-- ko foreach: filteredAndSortedPlayerText --\x3e\n    <tr class="clickable">\n      <td data-bind="text: name, click: $parent.editPlayerText"\n          class="col-xs-12 col-sm-4 col-md-3"\n          href="#"></td>\n      <td data-bind="html: shortDescription, click: $parent.editPlayerText"\n          class="col-xs-12 hidden-md hidden-lg"\n          href="#"></td>\n      <td data-bind="html: longDescription, click: $parent.editPlayerText"\n          class="col-md-12 hidden-sm hidden-xs"\n          href="#"></td>\n      \x3c!-- ko if: $parent.shouldShowPushButton --\x3e\n      <td class="text-center">\n        <a data-bind="click: $parent.pushModalToPlayerButtonWasPressed" href="#">\n          <i class="fa fa-paper-plane-o fa-color-hover">\n          </i>\n        </a>\n      </td>\n      \x3c!-- /ko --\x3e\n      \x3c!-- ko ifnot: $parent.shouldShowPushButton --\x3e\n      <td class="text-center">\n        <span class="fa fa-paper-plane-o fa-disabled" style="cursor:pointer;"\n          data-bind="popover: { content: \'Join a Party to send image to Player\\\'s Chat\' }">\n        </span>\n      </td>\n      \x3c!-- /ko --\x3e\n      <td>\n        <a data-bind="click: $parent.removePlayerText" href="#">\n          <i class="fa fa-trash-o fa-color-hover">\n          </i>\n        </a>\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: filteredAndSortedPlayerText().length == 0 --\x3e\n    <tr class="clickable">\n      <td data-toggle="modal" data-target="#addPlayerText" href="#"\n        colspan="7" class="text-center">\n        <i class="fa fa-plus fa-color"></i>\n        Add new text for your players.\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n  </tbody>\n</table>\n\x3c!-- /ko --\x3e\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n     id="addPlayerText"\n     tabindex="-1"\n     role="dialog" data-bind="modal: {\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing}">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title"\n            id="addWeaponLabel">Add a new snippet of text.</h4>\n    </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label class="col-sm-2 col-padded control-label">Name</label>\n            <div class="col-sm-10 col-padded">\n              <input type="text"\n                     class="form-control"\n                     placeholder="A kingly statue"\n                     data-bind="textInput: blankPlayerText().name,\n                        hasFocus: firstElementInModalHasFocus">\n            </div>\n            <label class="col-sm-2 col-padded control-label">Description</label>\n              <div class="col-sm-10 col-padded">\n                <textarea type="text"\n                       class="form-control" rows="4"\n                       placeholder="It rises up from it\'s stone pillar..."\n                       data-bind=\'value: blankPlayerText().description\'></textarea>\n              </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addPlayerText\'\n                    data-dismiss="modal">Add</button>\n          </div>\n        </form>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     id="viewWeapon"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      open: openModal,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit your text.</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#" aria-controls="itemsModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#" aria-controls="itemsModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane">\n            <div class="row">\n              <div class="col-xs-12">\n                <div class="h1" data-bind="text: name"></div>\n              </div>\n            </div>\n            <hr />\n            <div class="row">\n              <div class="col-xs-12">\n                <div data-bind="markdownPreview: description"\n                     class="preview-modal-overflow">\n                </div>\n              </div>\n            </div>\n            <div class="modal-footer">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-dismiss="modal">Done</button>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label class="col-sm-2 col-padded control-label">Name</label>\n                <div class="col-sm-10 col-padded">\n                  <input type="text"\n                         class="form-control"\n                         data-bind="textInput: name, hasFocus: $parent.editFirstModalElementHasFocus">\n                </div>\n                <label for="playerTextDescription"\n                       class="col-sm-2 col-padded control-label">Description</label>\n                  <div class="col-sm-10 col-padded">\n                    <textarea type="text" rows="6"\n                           class="form-control"\n                           data-bind=\'value: description, markdownEditor: true\'></textarea>\n                  </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- Push Modal --\x3e\n<player-push-modal params="isOpen: openPushModal, type: pushType, payload: selectedItemToPush, onclose: pushModalFinishedClosing"></player-push-modal>'},function(e,t,n){"use strict";n(14);var a=n(1),i=n(6),r=n(25),o=n(10),s=n(0),c=n.n(s),l=n(611),d=n.n(l),u=n(612),p=n.n(u);c.a.components.register("point-of-interest-section",{viewModel:function(e){var t=this;t.sectionIcon=d.a,t.encounter=e.encounter,t.encounterId=c.a.pureComputed(function(){if(t.encounter())return t.encounter().encounterId()}),t.characterId=c.a.observable(),t.visible=c.a.observable(),t.name=c.a.observable(),t.tagline=c.a.observable(),t.pointsOfInterest=c.a.observableArray(),t.blankPointOfInterest=c.a.observable(new r.s),t.openModal=c.a.observable(!1),t.editItemIndex=null,t.currentEditItem=c.a.observable(),t.firstElementInModalHasFocus=c.a.observable(!1),t.editFirstModalElementHasFocus=c.a.observable(!1),t.previewTabStatus=c.a.observable("active"),t.editTabStatus=c.a.observable(""),t.sorts={"name asc":{field:"name",direction:"asc"},"name desc":{field:"name",direction:"desc"},"description asc":{field:"description",direction:"asc"},"description desc":{field:"description",direction:"desc"}},t.filter=c.a.observable(""),t.sort=c.a.observable(t.sorts["name asc"]),t.load=function(){a.f.global.save.add(t.save),a.f.encounters.changed.add(t._dataHasChanged),t.encounter.subscribe(function(){t._dataHasChanged()}),t._dataHasChanged()},t.save=function(){var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(r.t,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n||((n=new r.t).encounterId(t.encounterId()),n.characterId(e)),n.name(t.name()),n.visible(t.visible()),n.save(),t.pointsOfInterest().forEach(function(e,t,n){e.save()})},t.delete=function(){var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(r.t,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n&&n.delete(),t.pointsOfInterest().forEach(function(e,t,n){e.delete()})},t.filteredAndSortedPointsOfInterest=c.a.computed(function(){return i.m.sortAndFilter(t.pointsOfInterest(),t.sort(),null)}),t.sortArrow=function(e){return i.m.sortArrow(e,t.sort())},t.sortBy=function(e){t.sort(i.m.sortForName(t.sort(),e,t.sorts))},t.addPointOfInterest=function(){var e=t.blankPointOfInterest();e.characterId(a.a.activeCharacter().key()),e.encounterId(t.encounterId()),e.save(),t.pointsOfInterest.push(e),t.blankPointOfInterest(new r.s)},t.removePointOfInterest=function(e){e.delete(),t.pointsOfInterest.remove(e)},t.editPointOfInterest=function(e){t.editItemIndex=e.__id,t.currentEditItem(new r.s),t.currentEditItem().importValues(e.exportValues()),t.openModal(!0)},t.toggleModal=function(){t.openModal(!t.openModal())},t.modalFinishedOpening=function(){t.firstElementInModalHasFocus(!0)},t.modalFinishedClosing=function(){t.selectPreviewTab(),t.openModal()&&a.g.array.updateElement(t.pointsOfInterest(),t.currentEditItem(),t.editItemIndex),t.save(),t.openModal(!1)},t.selectPreviewTab=function(){t.previewTabStatus("active"),t.editTabStatus("")},t.selectEditTab=function(){t.editTabStatus("active"),t.previewTabStatus(""),t.editFirstModalElementHasFocus(!0)},t._dataHasChanged=function(){var e=a.a.activeCharacter().key(),n=i.l.findByPredicates(r.s,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)]);n&&t.pointsOfInterest(n);var s=i.l.findByPredicates(r.t,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];s||((s=new r.t).encounterId(t.encounterId()),s.characterId(e)),t.name(s.name()),t.visible(s.visible()),t.tagline(s.tagline())}},template:p.a})},function(e,t,n){e.exports=n.p+"ff1890b59f9c37b596618d1d6eb70ddf.svg"},function(e,t){e.exports='\x3c!-- ko if: visible --\x3e\n<div class="h3">\n  <img class="encounter-section-img" data-bind="attr: { src: sectionIcon }">\n  Points of Interest<br />\n  <small data-bind="text: tagline"></small>\n</div>\n<table class="table table-responsive table-ac-bordered table-hover">\n  <thead>\n    <tr>\n      <th data-bind="click: function(){sortBy(\'name\');}" class="col-md-3">\n        Name\n        <span data-bind="css: sortArrow(\'name\')"></span>\n      </th>\n      <th data-bind="click: function(){sortBy(\'description\');}" class="col-md-8">\n        Description\n        <span data-bind="css: sortArrow(\'description\')"></span>\n      </th>\n      <th class="col-md-1">\n        <a data-toggle="modal"\n           data-target="#addPointOfInterest" href="#">\n          <i class="fa fa-plus fa-color"></i>\n        </a>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n  \x3c!-- ko foreach: filteredAndSortedPointsOfInterest --\x3e\n    <tr class="clickable">\n      <td data-bind="text: name, click: $parent.editPointOfInterest"\n          href="#"></td>\n      <td data-bind="html: shortDescription, click: $parent.editPointOfInterest"\n          class="col-xs-12 hidden-md hidden-lg"\n          href="#"></td>\n      <td data-bind="html: longDescription, click: $parent.editPointOfInterest"\n          class="col-md-12 hidden-sm hidden-xs"\n          href="#"></td>\n      <td>\n        <a data-bind="click: $parent.removePointOfInterest" href="#">\n          <i class="fa fa-trash-o fa-color-hover">\n          </i>\n        </a>\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: filteredAndSortedPointsOfInterest().length == 0 --\x3e\n    <tr class="clickable">\n      <td data-toggle="modal" data-target="#addPointOfInterest" href="#"\n        colspan="7" class="text-center">\n        <i class="fa fa-plus fa-color"></i>\n        Add a new Point of Interest\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n  </tbody>\n</table>\n\x3c!-- /ko --\x3e\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n     id="addPointOfInterest"\n     tabindex="-1"\n     role="dialog" data-bind="modal: {\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing}">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title"\n            id="addWeaponLabel">Add a new Point of Interest</h4>\n    </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Name</label>\n            <div class="col-sm-10">\n              <input type="text"\n                     class="form-control"\n                     placeholder="A Statue of a King"\n                     data-bind="textInput: blankPointOfInterest().name,\n                        hasFocus: firstElementInModalHasFocus">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-2 control-label">Description</label>\n              <div class="col-sm-10">\n                <textarea type="text"\n                       class="form-control" rows="4"\n                       placeholder="It rises up from it\'s stone pillar..."\n                       data-bind=\'value: blankPointOfInterest().description\'></textarea>\n              </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addPointOfInterest\'\n                    data-dismiss="modal">Add</button>\n          </div>\n        </form>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     id="viewWeapon"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      open: openModal,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit a Point of Interest</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#" aria-controls="itemsModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#" aria-controls="itemsModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane">\n            <div class="h3">\n              <span data-bind="text: name"></span>&nbsp;\n            </div>\n            <hr />\n            <div class="row row-padded">\n              <div class="col-xs-12 col-padded">\n                <div data-bind="markdownPreview: description"\n                     class="preview-modal-overflow">\n                </div>\n              </div>\n            </div>\n            <div class="modal-footer">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-dismiss="modal">Done</button>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane">\n            <form class="form-horizontal">\n              <div class="form-group">\n                <label for="pointOfInterestName"\n                       class="col-sm-2 control-label">Name</label>\n                <div class="col-sm-10">\n                  <input type="text"\n                         class="form-control"\n                         data-bind="textInput: name, hasFocus: $parent.editFirstModalElementHasFocus">\n                </div>\n              </div>\n              <div class="form-group">\n                <label for="pointInterestDescription"\n                       class="col-sm-2 control-label">Description</label>\n                  <div class="col-sm-10">\n                    <textarea type="text" rows="6"\n                           class="form-control"\n                           data-bind=\'value: description, markdownEditor: true\'></textarea>\n                  </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\x3c!-- /ko --\x3e\n'},function(e,t,n){"use strict";var a=n(1),i=n(15),r=n(20),o=n(10),s=n(614),c=n.n(s),l=n(615),d=n.n(l),u=n(616),p=n.n(u),f=n(172),h=n.n(f),m=n(173),b=n.n(m),v=n(174),g=n.n(v),y=n(0),x=n.n(y),w=n(617),k=n.n(w),S=n(175),C=n.n(S),I=n(618),_=n.n(I),T=n(176),E=n.n(T),A=n(619),M=n.n(A),F=n(620),O=n.n(F);x.a.components.register("treasure-section",{viewModel:function(e){var t=this;t.sectionIcon=_.a,t.breastplate=c.a,t.coins=p.a,t.potion=k.a,t.wand=O.a,t.broadsword=d.a,t.epCoin=b.a,t.gpCoin=g.a,t.spCoin=E.a,t.cpCoin=h.a,t.ppCoin=C.a,t.encounter=e.encounter,t.encounterId=x.a.pureComputed(function(){if(t.encounter())return t.encounter().encounterId()}),t.characterId=x.a.observable(),t.visible=x.a.observable(),t.name=x.a.observable(),t.tagline=x.a.observable(),t.treasure=x.a.observableArray(),t.treasureTypes=[i.h,i.j,i.i,i.f,i.g],t.blankTreasure=x.a.observable(null),t.itemType=x.a.observable(null),t.openModal=x.a.observable(!1),t.editItemIndex=null,t.currentEditItem=x.a.observable(),t.firstElementInModalHasFocus=x.a.observable(!1),t.editFirstModalElementHasFocus=x.a.observable(!1),t.previewTabStatus=x.a.observable("active"),t.editTabStatus=x.a.observable(""),t.currencyDenominationList=x.a.observableArray(a.c.general.currencyDenominationList),t.armorShow=x.a.observable(!1),t.armorFirstElementFocus=x.a.observable(!1),t.coinsShow=x.a.observable(!1),t.coinsFirstElementFocus=x.a.observable(!1),t.itemShow=x.a.observable(!1),t.itemFirstElementFocus=x.a.observable(!1),t.magicItemShow=x.a.observable(!1),t.magicItemFirstElementFocus=x.a.observable(!1),t.weaponShow=x.a.observable(!1),t.weaponFirstElementFocus=x.a.observable(!1),t.shouldShowDisclaimer=x.a.observable(!1),t.sorts={"nameLabel asc":{field:"nameLabel",direction:"asc"},"nameLabel desc":{field:"nameLabel",direction:"desc"}},t.filter=x.a.observable(""),t.sort=x.a.observable(t.sorts["nameLabel asc"]),t.load=function(){a.f.global.save.add(t.save),a.f.encounters.changed.add(t._dataHasChanged),t.encounter.subscribe(function(){t._dataHasChanged()}),t._dataHasChanged()},t.save=function(){var e=a.a.activeCharacter().key(),n=r.l.findByPredicates(i.z,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n||((n=new i.z).encounterId(t.encounterId()),n.characterId(e)),n.name(t.name()),n.visible(t.visible()),n.save(),t.treasure().forEach(function(e,t,n){e.save()})},t.delete=function(){var e=a.a.activeCharacter().key(),n=r.l.findByPredicates(i.z,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];n&&n.delete(),t.treasure().forEach(function(e,t,n){e.delete()})},t.filteredAndSortedTreasure=x.a.computed(function(){return r.n.sortAndFilter(t.treasure(),t.sort(),null)}),t.sortArrow=function(e){return r.n.sortArrow(e,t.sort())},t.sortBy=function(e){t.sort(r.n.sortForName(t.sort(),e,t.sorts))},t.addTreasure=function(){var e=t.blankTreasure();e.characterId(a.a.activeCharacter().key()),e.encounterId(t.encounterId()),e.treasureType(t.itemType()),e.save(),t.treasure.push(e),t.blankTreasure(null),t.clearTreasureTemplates(),t.itemType("")},t.setTreasure=function(){t.clearTreasureTemplates(),"armor"==t.itemType()?(t.blankTreasure(new i.f),t.armorShow(!0),t.armorFirstElementFocus(!0)):"coins"==t.itemType()?(t.blankTreasure(new i.g),t.coinsShow(!0),t.coinsFirstElementFocus(!0)):"item"==t.itemType()?(t.blankTreasure(new i.h),t.itemShow(!0),t.itemFirstElementFocus(!0)):"magicItem"==t.itemType()?(t.blankTreasure(new i.i),t.magicItemShow(!0),t.magicItemFirstElementFocus(!0)):"weapon"==t.itemType()&&(t.blankTreasure(new i.j),t.weaponShow(!0),t.weaponFirstElementFocus(!0))},t.clearTreasureTemplates=function(){t.armorShow(!1),t.coinsShow(!1),t.itemShow(!1),t.magicItemShow(!1),t.weaponShow(!1)},t.removeTreasure=function(e){e.delete(),t.treasure.remove(e)},t.editTreasure=function(e){if(t.selectPreviewTab(),t.editItemIndex=e.__id,"armor"==e.treasureType())t.currentEditItem(new i.f);else if("item"==e.treasureType())t.currentEditItem(new i.h);else if("magicItem"==e.treasureType())t.currentEditItem(new i.i);else if("weapon"==e.treasureType())t.currentEditItem(new i.j);else{if("coins"!=e.treasureType())throw Error("Invalid Treasure type identifier "+e.treasureType());t.currentEditItem(new i.g)}t.currentEditItem().importValues(e.exportValues()),t.openModal(!0)},t.treasurePrePopFilter=function(e,n){var i,r=e.term.toLowerCase();"armor"==t.itemType()?i=a.b.armors?Object.keys(a.b.armors):[]:"item"==t.itemType()?i=a.b.items?Object.keys(a.b.items):[]:"magicItem"==t.itemType()?i=a.b.magicItems?Object.keys(a.b.magicItems):[]:"weapon"==t.itemType()&&(i=a.b.weapons?Object.keys(a.b.weapons):[]),n(i.filter(function(e,t,n){return e.toLowerCase().indexOf(r)>-1}))},t.populateTreasure=function(e,n){var i;"armor"==t.itemType()?i=a.b.armors[e]:"item"==t.itemType()?i=a.b.items[e]:"magicItem"==t.itemType()?i=a.b.magicItems[e]:"weapon"==t.itemType()&&(i=a.b.weapons[e]),t.blankTreasure().importValues(i),t.shouldShowDisclaimer(!0)},t.toggleModal=function(){t.openModal(!t.openModal())},t.addModalFinishedClosing=function(){t.blankTreasure(null),t.shouldShowDisclaimer(!1)},t.modalFinishedOpening=function(){},t.modalFinishedClosing=function(){t.selectPreviewTab(),t.openModal()&&t.treasure().forEach(function(e,n,a){e.treasureType()===t.currentEditItem().treasureType()&&e.__id===t.editItemIndex&&e.importValues(t.currentEditItem().exportValues())}),t.save(),t.openModal(!1)},t.selectPreviewTab=function(){t.previewTabStatus("active"),t.editTabStatus("")},t.selectEditTab=function(){t.editTabStatus("active"),t.previewTabStatus(""),t.editFirstModalElementHasFocus(!0)},t._dataHasChanged=function(){var e=a.a.activeCharacter().key(),n=[];t.treasureTypes.forEach(function(a,i,s){var c=r.l.findByPredicates(a,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)]);n=n.concat(c)}),t.treasure(n);var s=r.l.findByPredicates(i.z,[new o.a("encounterId",t.encounterId()),new o.a("characterId",e)])[0];s||((s=new i.z).encounterId(t.encounterId()),s.characterId(e)),t.name(s.name()),t.visible(s.visible()),t.tagline(s.tagline())}},template:M.a})},function(e,t,n){e.exports=n.p+"36f1f2832de1a5a5301865a2175968d3.svg"},function(e,t,n){e.exports=n.p+"2bba64dae29f3847bdac5cd5c05b1fde.svg"},function(e,t,n){e.exports=n.p+"9095fed7807d0c59d00e49156ebacf75.svg"},function(e,t,n){e.exports=n.p+"879aab0530b01c8602a215e22ea69c41.svg"},function(e,t,n){e.exports=n.p+"fa003921206311d5107e95d90c168da6.svg"},function(e,t){e.exports='\x3c!-- ko if: visible --\x3e\n<div class="h3">\n  <img class="encounter-section-img" data-bind="attr: { src: sectionIcon }">\n  Treasure<br />\n  <small data-bind="text: tagline"></small>\n</div>\n<table class="table table-responsive table-ac-bordered table-hover">\n  <thead>\n    <tr>\n      <th data-bind="click: function(){sortBy(\'name\');}" class="col-md-3">\n        Name\n        <span data-bind="css: sortArrow(\'name\')"></span>\n      </th>\n      <th class="col-md-3">\n        Property\n      </th>\n      <th class="col-md-5">\n        Description\n      </th>\n      <th class="col-md-1">\n        <a data-toggle="modal"\n           data-target="#addTreasure" href="#">\n          <i class="fa fa-plus fa-color"></i>\n        </a>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n  \x3c!-- ko foreach: filteredAndSortedTreasure --\x3e\n    <tr class="clickable">\n      <td data-bind="text: nameLabel, click: $parent.editTreasure"\n          href="#"></td>\n      <td data-bind="text: propertyLabel, click: $parent.editTreasure"\n          href="#"></td>\n      <td data-bind="text: descriptionLabel, click: $parent.editTreasure"\n          href="#"></td>\n      <td>\n        <a data-bind="click: $parent.removeTreasure" href="#">\n          <i class="fa fa-trash-o fa-color-hover">\n          </i>\n        </a>\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: filteredAndSortedTreasure().length == 0 --\x3e\n    <tr class="clickable">\n      <td data-toggle="modal" data-target="#addTreasure" href="#"\n        colspan="7" class="text-center">\n        <i class="fa fa-plus fa-color"></i>\n        Add a new item.\n      </td>\n    </tr>\n    \x3c!-- /ko --\x3e\n  </tbody>\n</table>\n\x3c!-- /ko --\x3e\n\n\x3c!-- Add Modal --\x3e\n<div class="modal fade"\n     id="addTreasure"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      onclose: addModalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title"\n            id="addNpcLabel">Add more loot to the treasure horde.</h4>\n    </div>\n      <div class="modal-body">\n        <form class="form-horizontal">\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <div class="btn-group btn-group-justified" role="group">\n                <label class="btn btn-default btn-group-padding"\n                       data-bind="css: { active: itemType() == \'armor\'}">\n                  <img class="action-bar-icon" data-bind="attr: { src: breastplate }">\n                  </img>\n                  <input type="radio" class="hide-block"\n                    data-bind="checked: itemType, click: setTreasure"\n                    name="armor" value="armor"/>Armor\n                </label>\n                <label class="btn btn-default btn-group-padding"\n                       data-bind="css: { active: itemType() == \'coins\'}">\n                 <img class="action-bar-icon" data-bind="attr: { src: coins }"></img>\n                  <input type="radio" class="hide-block" data-bind="checked: itemType, click: setTreasure"\n                         name="coins" value="coins"/>Coins\n                </label>\n                <label class="btn btn-default btn-group-padding"\n                       data-bind="css: { active: itemType() == \'item\'}">\n                  <img class="action-bar-icon" data-bind="attr: { src: potion }"></img>\n                  <input type="radio" class="hide-block" data-bind="checked: itemType, click: setTreasure"\n                         name="item" value="item"/>Item\n                </label>\n                <label class="btn btn-default btn-group-padding"\n                       data-bind="css: { active: itemType() == \'magicItem\'}">\n                  <img class="action-bar-icon" data-bind="attr: { src: wand }"></img>\n                  <input type="radio" class="hide-block" data-bind="checked: itemType, click: setTreasure"\n                       name="magicItem" value="magicItem"/>Magic Item\n                </label>\n                <label class="btn btn-default btn-group-padding"\n                       data-bind="css: { active: itemType() == \'weapon\'}">\n                  <img class="action-bar-icon" data-bind="attr: { src: broadsword }"></img>\n                  <input type="radio" class="hide-block" data-bind="checked: itemType, click: setTreasure"\n                        name="weapon" value="weapon"/>Weapon\n                </label>\n              </div>\n            </div>\n         </div>\n         \x3c!-- ko if: blankTreasure() --\x3e\n         \x3c!--ko if: armorShow()--\x3e\n          <div data-bind="template: { name: \'armorTemplate\' }"></div>\n         \x3c!--/ko--\x3e\n\n         \x3c!--ko if: coinsShow()--\x3e\n          <div data-bind="template: { name: \'coinsTemplate\' }"></div>\n         \x3c!--/ko--\x3e\n\n         \x3c!--ko if: itemShow()--\x3e\n          <div data-bind="template: { name: \'itemTemplate\' }"></div>\n         \x3c!--/ko--\x3e\n\n         \x3c!--ko if: magicItemShow()--\x3e\n          <div data-bind="template: { name: \'magicItemTemplate\' }"></div>\n         \x3c!--/ko--\x3e\n\n         \x3c!--ko if: weaponShow()--\x3e\n          <div data-bind="template: { name: \'weaponTemplate\' }"></div>\n         \x3c!--/ko--\x3e\n         \x3c!--/ko--\x3e\n          </div>\x3c!-- Modal Body --\x3e\n\n          <div class="modal-footer">\n            <button type="button"\n                    class="btn btn-primary"\n                    data-bind=\'click: addTreasure\'\n                    data-dismiss="modal">Add</button>\n            <p class="text-muted text-left" data-bind=\'visible: shouldShowDisclaimer\'>\n              <sm><i>This data is distributed under the\n                <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n                  target=\'_blank\'>\n                  OGL</a><br/>\n                  Open  Game  License v 1.0a  Copyright 2000, Wizards of  the Coast,  LLC.\n                </i><sm>\n            </p>\n          </div>\n        </form>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- ViewEdit Modal --\x3e\n<div class="modal fade"\n     id="viewTreasure"\n     tabindex="-1"\n     role="dialog"\n     data-bind="modal: {\n      open: openModal,\n      onopen: modalFinishedOpening,\n      onclose: modalFinishedClosing\n    }">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button"\n                class="close"\n                data-dismiss="modal"\n                aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Edit your treasure horde.</h4>\n      </div>\n      <div class="modal-body">\n        \x3c!-- Begin Tabs --\x3e\n        <ul class="nav nav-tabs tabs">\n          <li role="presentation" data-bind="click: selectPreviewTab, css: previewTabStatus">\n            <a href="#" aria-controls="treasureModalPreview" role="tab" data-toggle="tab">\n                <b>Preview</b>\n            </a>\n          </li>\n          <li role="presentation" data-bind="click: selectEditTab, css: editTabStatus">\n            <a href="#" aria-controls="treasureModalEdit" role="tab" data-toggle="tab">\n                <b>Edit</b>\n            </a>\n          </li>\n        </ul>\n        <div class="tab-content" data-bind="with: currentEditItem">\n          <div role="tabpanel" data-bind="css: $parent.previewTabStatus" class="tab-pane">\n\n            \x3c!--ko if: treasureType() == \'armor\'--\x3e\n             <div data-bind="template: { name: \'armorPreviewTemplate\' }"></div>\n            \x3c!--/ko--\x3e\n\n            \x3c!--ko if: treasureType() == \'coins\'--\x3e\n             <div data-bind="template: { name: \'coinsPreviewTemplate\' }"></div>\n            \x3c!--/ko--\x3e\n\n            \x3c!--ko if: treasureType() == \'item\'--\x3e\n             <div data-bind="template: { name: \'itemPreviewTemplate\' }"></div>\n            \x3c!--/ko--\x3e\n\n            \x3c!--ko if: treasureType() == \'magicItem\'--\x3e\n             <div data-bind="template: { name: \'magicItemPreviewTemplate\' }"></div>\n            \x3c!--/ko--\x3e\n\n            \x3c!--ko if: treasureType() == \'weapon\'--\x3e\n             <div data-bind="template: { name: \'weaponPreviewTemplate\' }"></div>\n            \x3c!--/ko--\x3e\n\n            <div class="modal-footer">\n              <button type="button"\n                      class="btn btn-primary"\n                      data-dismiss="modal">Done</button>\n            </div>\n          </div> \x3c!-- End Preview Tab --\x3e\n          <div role="tabpanel" data-bind="css: $parent.editTabStatus" class="tab-pane">\n            <form class="form-horizontal">\n\n              \x3c!--ko if: treasureType() == \'armor\'--\x3e\n               <div data-bind="template: { name: \'armorEditTemplate\' }"></div>\n              \x3c!--/ko--\x3e\n\n              \x3c!--ko if: treasureType() == \'coins\'--\x3e\n               <div data-bind="template: { name: \'coinsEditTemplate\' }"></div>\n              \x3c!--/ko--\x3e\n\n              \x3c!--ko if: treasureType() == \'item\'--\x3e\n               <div data-bind="template: { name: \'itemEditTemplate\' }"></div>\n              \x3c!--/ko--\x3e\n\n              \x3c!--ko if: treasureType() == \'magicItem\'--\x3e\n               <div data-bind="template: { name: \'magicItemEditTemplate\' }"></div>\n              \x3c!--/ko--\x3e\n\n              \x3c!--ko if: treasureType() == \'weapon\'--\x3e\n               <div data-bind="template: { name: \'weaponEditTemplate\' }"></div>\n              \x3c!--/ko--\x3e\n\n              <div class="modal-footer">\n                <button type="button"\n                        class="btn btn-primary"\n                        data-dismiss="modal">Done</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div> \x3c!-- Modal Body --\x3e\n    </div> \x3c!-- Modal Content --\x3e\n  </div> \x3c!-- Modal Dialog --\x3e\n</div> \x3c!-- Modal Fade --\x3e\n\n\x3c!-- Add templates --\x3e\n<script type="text/html" id="armorTemplate">\n  <div class="form-group">\n    <label for="armorName"\n           class="col-sm-2 control-label">Armor</label>\n    <div class="col-sm-10">\n      <input type="text"\n             class="form-control"\n             id="armorName"\n             placeholder="Chain Mail"\n             data-bind=\'textInput: blankTreasure().armorName, hasFocus: armorFirstElementFocus,\n              autocomplete: { source: treasurePrePopFilter, onselect: populateTreasure }\'>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="armorType"\n           class="col-sm-2 control-label">Type</label>\n      <div class="col-sm-10">\n      <select class="form-control"\n              data-bind="options: blankTreasure().armorTypeOptions,\n                         value: blankTreasure().armorType,\n                         select2: {theme: \'classic\'}"></select>\n      </div>\n  </div>\n  <div class="form-group">\n    <label for="armorMagicalModifier"\n           class="col-sm-2 control-label">Magical Modifier</label>\n      <div class="col-sm-10">\n      <input type="number" class="form-control"\n             id="armorMagicalModifier"\n             data-bind=\'textInput: blankTreasure().armorMagicalModifier\'>\n      </div>\n  </div>\n  <div class="form-group">\n    <label for="armorPrice"\n           class="col-sm-2 control-label">Price</label>\n    <div class="col-sm-10">\n      <div class="input-group">\n        <input type="text"\n             class="form-control input-select2-addon"\n             id="armorPrice"\n             placeholder="5"\n             data-bind=\'textInput: blankTreasure().armorPrice\'>\n         <span class="input-group-addon">\n          <select class="form-control"\n          data-bind="options: currencyDenominationList,\n          value: blankTreasure().armorCurrencyDenomination,\n          select2: {theme: \'classic\'}"></select>\n        </span>\n      </div>\n      </div>\n  </div>\n  <div class="form-group">\n    <label for="armorWeight"\n           class="col-sm-2 control-label">Weight</label>\n      <div class="col-sm-10">\n        <input type="text"\n               class="form-control"\n               id="armorWeight"\n               placeholder="6"\n               data-bind=\'textInput: blankTreasure().armorWeight\'>\n      </div>\n  </div>\n  <div class="form-group">\n    <label for="armorClass"\n           class="col-sm-2 control-label">Armor Class</label>\n      <div class="col-sm-10">\n        <input type="text"\n               class="form-control"\n               id="armorClass"\n               placeholder="3"\n               data-bind=\'textInput: blankTreasure().armorClass\'>\n      </div>\n  </div>\n  <div class="form-group">\n    <label for="armorSize"\n           class="col-sm-2 control-label">Stealth</label>\n      <div class="col-sm-10">\n      <select class="form-control"\n              data-bind="options: blankTreasure().armorStealthOptions,\n                         value: blankTreasure().armorStealth,\n                         select2: {theme: \'classic\'}"></select>\n      </div>\n  </div>\n  <div class="form-group">\n    <label for="armorDescription"\n           class="col-sm-2 control-label">Description</label>\n      <div class="col-sm-10">\n        <textarea type="password"\n                  class="form-control"\n                  id="armorDescription"\n                  rows="4"\n                  placeholder="Armor of damage blocking"\n                  data-bind=\'textInput: blankTreasure().armorDescription\'>\n        </textarea>\n      </div>\n  </div>\n<\/script>\n\n<script type="text/html" id="coinsTemplate">\n  <div class="row row-padded">\n    <div class="col-sm-12 row-padded">\n      <div class="input-group ">\n        <span class="input-group-addon no-top-bottom-padding">\n          <img data-bind="attr: { src: ppCoin }" width="30px" title="Platinum Coins" alt="Platinum Coins"/>\n        </span>\n        <input type="number" class="form-control" min="1"\n          data-bind=\'value: blankTreasure().platinum, hasFocus: coinsFirstElementFocus\'/>\n      </div>\n    </div>\n    <div class="col-sm-12 row-padded">\n      <div class="input-group ">\n        <span class="input-group-addon no-top-bottom-padding">\n          <img data-bind="attr: { src: gpCoin }" width="30px" title="Gold Coins" alt="Gold Coins"/>\n        </span>\n        <input type="number" class="form-control" min="1"\n          data-bind=\'value: blankTreasure().gold\'/>\n      </div>\n    </div>\n    <div class="col-sm-12 row-padded">\n      <div class="input-group ">\n        <span class="input-group-addon no-top-bottom-padding">\n          <img data-bind="attr: { src: epCoin }" width="30px" title="Electrum Coins" alt="Electrum Coins"/>\n        </span>\n        <input type="number" class="form-control" min="1"\n          data-bind=\'value: blankTreasure().electrum\'>\n      </div>\n    </div>\n    <div class="col-sm-12 row-padded">\n      <div class="input-group ">\n        <span class="input-group-addon no-top-bottom-padding">\n          <img data-bind="attr: { src: spCoin }" width="30px" title="Silver Coins" alt="Silver Coins"/>\n        </span>\n        <input type="number" class="form-control" min="1"\n          data-bind=\'value: blankTreasure().silver\'>\n      </div>\n    </div>\n    <div class="col-sm-12 row-padded">\n      <div class="input-group">\n        <span class="input-group-addon no-top-bottom-padding">\n          <img data-bind="attr: { src: cpCoin }" width="30px" title="Copper Coins" alt="Copper Coins"/>\n        </span>\n        <input type="number" class="form-control" min="1"\n          data-bind=\'value: blankTreasure().copper\'>\n      </div>\n    </div>\n  </div>\n<\/script>\n\n<script type="text/html" id="itemTemplate">\n    <div class="form-group">\n     <label for="itemName"\n       class="col-sm-2 control-label">Name</label>\n     <div class="col-sm-10">\n       <input type="text"\n         class="form-control"\n         id="itemName"\n         placeholder="Rations"\n         data-bind=\'textInput: blankTreasure().itemName, hasFocus: itemFirstElementFocus,\n            autocomplete: { source: treasurePrePopFilter, onselect: populateTreasure }\'>\n     </div>\n   </div>\n   <div class="form-group">\n     <label for="itemWeight"\n       class="col-sm-2 control-label">Weight</label>\n     <div class="col-sm-10">\n       <div class="input-group">\n         <input type="number"\n                class="form-control"\n                min="0"\n                max="5000"\n           placeholder="Item Weight"\n           data-bind=\'textInput: blankTreasure().itemWeight\'>\n           <span class="input-group-addon">lbs.</span>\n       </div>\n     </div>\n   </div>\n   <div class="form-group">\n     <label for="itemQuantity"\n       class="col-sm-2 control-label">Quantity</label>\n     <div class="col-sm-10">\n       <input type="number"\n         class="form-control"\n         min="0"\n         max="5000"\n         id="itemQuantity"\n         placeholder="Item Quantity"\n         data-bind=\'textInput: blankTreasure().itemQty\'>\n     </div>\n   </div>\n   <div class="form-group">\n     <label\n       class="col-sm-2 control-label">Cost</label>\n     <div class="col-sm-10">\n       <div class="input-group">\n       <input type="number"\n         min="0"\n         class="form-control input-select2-addon"\n         data-bind="value: blankTreasure().itemCost" />\n       <span class="input-group-addon">\n         <select class="form-control"\n            data-bind="options: currencyDenominationList,\n            value: blankTreasure().itemCurrencyDenomination,\n            select2: {theme: \'classic\'}"></select>\n        </span>\n       </div>\n      </div>\n   </div>\n   <div class="form-group">\n     <label for="itemDescription"\n       class="col-sm-2 control-label">Description</label>\n     <div class="col-sm-10">\n       <textarea type="password"\n         class="form-control"\n         id="itemDescription"\n         placeholder="Rations consist of..."\n         rows="4"\n         data-bind=\'textInput: blankTreasure().itemDesc\'>\n       </textarea>\n     </div>\n   </div>\n<\/script>\n\n<script type="text/html" id="magicItemTemplate">\n    <div class="form-group">\n      <label for="magicItemName"\n             class="col-sm-2 control-label">Item</label>\n      <div class="col-sm-10">\n        <input type="text"\n               class="form-control"\n               id="magicItemName"\n               placeholder="Dagger of Venom"\n               data-bind=\'textInput: blankTreasure().magicItemName, hasFocus: magicItemFirstElementFocus,\n                  autocomplete: { source: treasurePrePopFilter, onselect: populateTreasure }\'>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemType"\n             class="col-sm-2 control-label">Type</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: blankTreasure().magicItemTypeOptions,\n                           value: blankTreasure().magicItemType,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemType"\n             class="col-sm-2 control-label">Rarity</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: blankTreasure().magicItemRarityOptions,\n                           value: blankTreasure().magicItemRarity,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemMaxCharges"\n             class="col-sm-2 control-label">Max Charges</label>\n        <div class="col-sm-10">\n          <input type="number"\n                 class="form-control"\n                 id="magicItemMaxCharges"\n                 placeholder="1"\n                 min="0"\n                 max="100"\n                 data-bind=\'textInput: blankTreasure().magicItemMaxCharges\'>\n        </div>\n    </div>\n    <div data-bind="visible: blankTreasure().magicItemMaxCharges() != 0">\n      <div class="form-group">\n        <label for="magicItemCharges"\n               class="col-sm-2 control-label">Charges</label>\n          <div class="col-sm-10">\n            <input type="number"\n                   class="form-control"\n                   id="magicItemCharges"\n                   placeholder="1"\n                   min="0"\n                   max="100"\n                   data-bind=\'textInput: blankTreasure().magicItemCharges\'>\n          </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemWeight"\n             class="col-sm-2 control-label">Weight</label>\n        <div class="col-sm-10">\n          <input type="number"\n                 class="form-control"\n                 id="magicItemWeight"\n                 placeholder="1"\n                 min="0"\n                 max="1000"\n                 data-bind=\'textInput: blankTreasure().magicItemWeight\'>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemRequiresAttunement"\n             class="col-sm-2 control-label">Requires Attunement</label>\n        <div class="col-sm-10">\n          <input type="checkbox"\n                 class="form-control"\n                 id="magicItemRequiresAttunement"\n                 data-bind=\'checked: blankTreasure().magicItemRequiresAttunement\'>\n        </div>\n    </div>\n    <div data-bind="visible: blankTreasure().magicItemRequiresAttunement() == true">\n      <div class="form-group">\n        <label for="magicItemAttuned"\n               class="col-sm-2 control-label">Attuned</label>\n          <div class="col-sm-10">\n            <input type="checkbox"\n                   class="form-control"\n                   id="magicItemAttuned"\n                   data-bind=\'checked: blankTreasure().magicItemAttuned\'>\n          </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemDescription"\n             class="col-sm-2 control-label">Description</label>\n        <div class="col-sm-10">\n          <textarea type="password"\n                    class="form-control"\n                    id="magicItemDescription"\n                    rows="4"\n                    placeholder="Awesome stuff goes here"\n                    data-bind=\'textInput: blankTreasure().magicItemDescription\'>\n          </textarea>\n        </div>\n    </div>\n<\/script>\n\n<script type="text/html" id="weaponTemplate">\n    <div class="form-group">\n      <label for="weaponName"\n             class="col-sm-2 control-label">Name</label>\n      <div class="col-sm-10">\n        <input type="text"\n               class="form-control"\n               id="weaponName"\n               placeholder="Short Sword"\n               data-bind=\'textInput: blankTreasure().weaponName, hasFocus: weaponFirstElementFocus,\n                 autocomplete: { source: treasurePrePopFilter, onselect: populateTreasure }\'>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponDmg"\n             class="col-sm-2 control-label">Damage</label>\n        <div class="col-sm-10">\n          <input type="text"\n                 class="form-control"\n                 id="weaponDmg"\n                 placeholder="1D4"\n                 data-bind=\'textInput: blankTreasure().weaponDmg\'>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponHit"\n             class="col-sm-2 control-label">Magical Modifier</label>\n      <div class="col-sm-10">\n        <input type="number" class="form-control"\n               id="weaponHit"\n               placeholder="Place hit bonus here"\n               data-bind=\'textInput: blankTreasure().weaponHit\'>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponType"\n             class="col-sm-2 control-label">Type</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: blankTreasure().weaponTypeOptions,\n                           value: blankTreasure().weaponType,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponHandedness"\n             class="col-sm-2 control-label">Handedness</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: blankTreasure().weaponHandednessOptions,\n                           value: blankTreasure().weaponHandedness,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponProficiency"\n             class="col-sm-2 control-label">Proficiency</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: blankTreasure().weaponProficiencyOptions,\n                           value: blankTreasure().weaponProficiency,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponPrice"\n             class="col-sm-2 control-label">Price</label>\n      <div class="col-sm-10">\n        <div class="input-group">\n          <input type="number" min="0" class="form-control input-select2-addon"\n               id="weaponPrice"\n               placeholder="5"\n               data-bind=\'textInput: blankTreasure().weaponPrice\'>\n               <span data-bind="console.log($parent.id)"></span>\n           <span class="input-group-addon">\n            <select class="form-control"\n            data-bind="options: currencyDenominationList,\n            value: blankTreasure().weaponCurrencyDenomination,\n            select2: {theme: \'classic\'}"></select>\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponWeight"\n             class="col-sm-2 control-label">Weight</label>\n        <div class="col-sm-10">\n          <input type="number" min="0" class="form-control"\n                 id="weaponWeight"\n                 placeholder="6"\n                 data-bind=\'textInput: blankTreasure().weaponWeight\'>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponRange"\n             class="col-sm-2 control-label">Range</label>\n        <div class="col-sm-10">\n          <input type="text"\n                 class="form-control"\n                 id="weaponRange"\n                 placeholder="25/100"\n                 data-bind=\'textInput: blankTreasure().weaponRange\'>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponDamageType"\n             class="col-sm-2 control-label">Damage Type</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: blankTreasure().weaponDamageTypeOptions,\n                           value: blankTreasure().weaponDamageType,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponProperty"\n             class="col-sm-2 control-label">Property</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: blankTreasure().weaponPropertyOptions,\n                           value: blankTreasure().weaponProperty,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponQuantity"\n             class="col-sm-2 control-label">Quantity</label>\n        <div class="col-sm-10">\n          <input type="number" min="0" class="form-control"\n                 id="weaponQuantity"\n                 placeholder="1"\n                 data-bind=\'textInput: blankTreasure().weaponQuantity\'>\n        </div>\n    </div>\n\n    <div class="form-group">\n      <label for="weaponDescription"\n             class="col-sm-2 control-label">Description</label>\n        <div class="col-sm-10">\n          <textarea type="password"\n                    class="form-control"\n                    id="weaponDescription"\n                    rows="4"\n                    placeholder="A sword...that is short..."\n                    data-bind=\'textInput: blankTreasure().weaponDescription\'>\n          </textarea>\n        </div>\n    </div>\n<\/script>\n\n\x3c!-- Preview Templates --\x3e\n<script type="text/html" id="armorPreviewTemplate">\n  <div class="h3">\n    <span data-bind="text: armorName"></span>&nbsp;\n    <small data-bind="text: armorSummaryLabel"></small>\n  </div>\n\n  <hr />\n  <div class="row">\n    <div class="col-sm-4 col-xs-12"><b>Stealth:</b>&nbsp;<span data-bind="text: armorStealth"></span></div>\n    <div class="col-sm-4 col-xs-12"><b>Weight:</b>&nbsp;<span data-bind="text: armorWeightLabel"></span></div>\n    <div class="col-sm-4 col-xs-12"><b>Type:</b>&nbsp;<span data-bind="text: armorType"></span></div>\n  </div>\n\n  <hr />\n  <h4>Description</h4>\n  <div class="row row-padded">\n    <div class="col-xs-12 col-padded">\n      <div data-bind="html: armorDescriptionHTML"\n           class="preview-modal-overflow">\n      </div>\n    </div>\n  </div>\n<\/script>\n\n<script type="text/html" id="coinsPreviewTemplate">\n  <div class="h3">\n    <span>Coins</span>&nbsp;\n  </div>\n  <hr />\n  <div class="row">\n    <div class="col-sm-6 col-xs-12"><b>Platinum:</b>&nbsp;<span data-bind="text: platinum"></span></div>\n    <div class="col-sm-6 col-xs-12"><b>Gold:</b>&nbsp;<span data-bind="text: gold"></span></div>\n    <div class="col-sm-6 col-xs-12"><b>Electrum:</b>&nbsp;<span data-bind="text: electrum"></span></div>\n    <div class="col-sm-6 col-xs-12"><b>Silver:</b>&nbsp;<span data-bind="text: silver"></span></div>\n    <div class="col-sm-6 col-xs-12"><b>Copper:</b>&nbsp;<span data-bind="text: copper"></span></div>\n  </div>\n  <hr />\n  <h4>Description</h4>\n  <div class="row row-padded">\n    <div class="col-sm-12 col-xs-12">\n      Total worth in Gold: <span data-bind="text: worthInGold"></span>\n    </div>\n    <div class="col-sm-12 col-xs-12">\n      Total Weight: <span data-bind="text: totalWeightLabel"></span>\n    </div>\n  </div>\n<\/script>\n\n<script type="text/html" id="itemPreviewTemplate">\n  <div class="h3">\n    <span data-bind="text: itemName"></span>&nbsp;\n  </div>\n  <hr />\n  <div class="row">\n    <div class="col-sm-6 col-xs-12"><b>Weight:</b>&nbsp;<span data-bind="text: itemWeightLabel"></span></div>\n    <div class="col-sm-6 col-xs-12"><b>Quantity:</b>&nbsp;<span data-bind="text: itemQty"></span></div>\n  </div>\n  <hr />\n  <h4>Description</h4>\n  <div class="row row-padded">\n    <div class="col-xs-12 col-padded">\n      <div data-bind="html: itemDescriptionHTML"\n           class="preview-modal-overflow">\n      </div>\n    </div>\n  </div>\n<\/script>\n\n<script type="text/html" id="magicItemPreviewTemplate">\n    <div class="h3">\n      <span data-bind="text: magicItemNameLabel"></span>&nbsp;\n      <small data-bind="text: magicItemRarity"></small>\n    </div>\n    <hr />\n    <div class="row">\n      <div class="col-sm-4 col-xs-12"><b>Type:</b>&nbsp;<span data-bind="text: magicItemType"></span></div>\n      <div class="col-sm-4 col-xs-12"><b>Weight:</b>&nbsp;<span data-bind="text: magicItemWeightLabel"></span></div>\n      <div class="col-sm-4 col-xs-12"><b>Max Charges:</b>&nbsp;<span data-bind="text: magicItemMaxCharges"></span></div>\n    </div>\n    <hr />\n    <h4>Description</h4>\n    <div class="row row-padded">\n      <div class="col-xs-12 col-padded">\n        <div data-bind="html: magicItemDescriptionHTML"\n             class="preview-modal-overflow">\n        </div>\n      </div>\n    </div>\n<\/script>\n\n<script type="text/html" id="weaponPreviewTemplate">\n    <div class="h3">\n      <span data-bind="text: weaponName"></span>\n      <small data-bind="text: magicalModifierLabel"></small>\n    </div>\n    <hr />\n    <div class="row">\n      <div class="col-sm-6 col-xs-12"><b>Damage:</b>&nbsp;<span data-bind="text: weaponDmg"></span></div>\n      <div class="col-sm-6 col-xs-12"><b>Range:</b>&nbsp;<span data-bind="text: weaponRangeLabel"></span></div>\n      <div class="col-sm-6 col-xs-12"><b>Type:</b>&nbsp;<span data-bind="text: weaponType"></span></div>\n      <div class="col-sm-6 col-xs-12"><b>Weight:</b>&nbsp;<span data-bind="text: weaponWeightLabel"></span></div>\n      <div class="col-sm-6 col-xs-12"><b>Damage Type:</b>&nbsp;<span data-bind="text: weaponDamageType"></span></div>\n      <div class="col-sm-6 col-xs-12"><b>Proficiency:</b>&nbsp;<span data-bind="text: weaponProficiency"></span></div>\n      <div class="col-sm-6 col-xs-12"><b>Handedness:</b>&nbsp;<span data-bind="text: weaponHandedness"></span></div>\n      <div class="col-sm-6 col-xs-12"><b>Property:</b>&nbsp;<span data-bind="text: weaponProperty"></span></div>\n    </div>\n    <hr />\n    <h4>Description</h4>\n    <div class="row row-padded">\n      <div class="col-xs-12 col-padded">\n        <div data-bind="html: weaponDescriptionHTML"\n             class="preview-modal-overflow">\n        </div>\n      </div>\n    </div>\n<\/script>\n\n\x3c!-- Edit Templates --\x3e\n<script type="text/html" id="armorEditTemplate">\n    <div class="form-group">\n      <label for="armorName"\n             class="col-sm-2 control-label">Name</label>\n      <div class="col-sm-10">\n        <input type="text"\n               class="form-control"\n               id="armorName"\n               placeholder="Chain Mail"\n               data-bind=\'textInput: armorName, hasFocus: $parent.editFirstModalElementHasFocus\'>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="armorType"\n             class="col-sm-2 control-label">Type</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: armorTypeOptions,\n                           value: armorType,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="armorMagicalModifier"\n             class="col-sm-2 control-label">Magical Modifier</label>\n        <div class="col-sm-10">\n        <input type="number" class="form-control"\n               id="armorMagicalModifier"\n               data-bind=\'textInput: armorMagicalModifier\'>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="armorPrice"\n             class="col-sm-2 control-label">Price</label>\n      <div class="col-sm-10">\n        <div class="input-group">\n          <input type="text"\n               class="form-control input-select2-addon"\n               id="armorPrice"\n               placeholder="5"\n               data-bind=\'textInput: armorPrice\'>\n           <span class="input-group-addon">\n            <select class="form-control"\n            data-bind="options: $parent.currencyDenominationList,\n            value: armorCurrencyDenomination,\n            select2: {theme: \'classic\'}"></select>\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="armorWeight"\n             class="col-sm-2 control-label">Weight</label>\n        <div class="col-sm-10">\n          <input type="text"\n                 class="form-control"\n                 id="armorWeight"\n                 placeholder="6"\n                 data-bind=\'textInput: armorWeight\'>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="armorClass"\n             class="col-sm-2 control-label">Armor Class</label>\n        <div class="col-sm-10">\n          <input type="text"\n                 class="form-control"\n                 id="armorClass"\n                 placeholder="3"\n                 data-bind=\'textInput: armorClass\'>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="armorSize"\n             class="col-sm-2 control-label">Stealth</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: armorStealthOptions,\n                           value: armorStealth,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="armorDescription"\n             class="col-sm-2 control-label">Description</label>\n        <div class="col-sm-10">\n          <textarea type="password"\n                    class="form-control"\n                    id="armorDescription"\n                    rows="4"\n                    placeholder="Armor of damage blocking"\n                    data-bind=\'textInput: armorDescription\'>\n          </textarea>\n        </div>\n    </div>\n<\/script>\n\n<script type="text/html" id="coinsEditTemplate">\n  <div class="row row-padded">\n    <div class="col-sm-12 row-padded">\n      <div class="input-group ">\n        <span class="input-group-addon no-top-bottom-padding">\n          <img data-bind="attr: { src: $parent.ppCoin }" width="30px" title="Platinum Coins" alt="Platinum Coins"/>\n        </span>\n        <input type="number" class="form-control" min="1"\n          data-bind=\'value: platinum, hasFocus: $parent.editFirstModalElementHasFocus\'/>\n      </div>\n    </div>\n    <div class="col-sm-12 row-padded">\n      <div class="input-group ">\n        <span class="input-group-addon no-top-bottom-padding">\n          <img data-bind="attr: { src: $parent.gpCoin }" width="30px" title="Gold Coins" alt="Gold Coins"/>\n        </span>\n        <input type="number" class="form-control" min="1"\n          data-bind=\'value: gold\'/>\n      </div>\n    </div>\n    <div class="col-sm-12 row-padded">\n      <div class="input-group ">\n        <span class="input-group-addon no-top-bottom-padding">\n          <img data-bind="attr: { src: $parent.epCoin }" width="30px" title="Electrum Coins" alt="Electrum Coins"/>\n        </span>\n        <input type="number" class="form-control" min="1"\n          data-bind=\'value: electrum\'>\n      </div>\n    </div>\n    <div class="col-sm-12 row-padded">\n      <div class="input-group ">\n        <span class="input-group-addon no-top-bottom-padding">\n          <img data-bind="attr: { src: $parent.spCoin }" width="30px" title="Silver Coins" alt="Silver Coins"/>\n        </span>\n        <input type="number" class="form-control" min="1"\n          data-bind=\'value: silver\'>\n      </div>\n    </div>\n    <div class="col-sm-12 row-padded">\n      <div class="input-group">\n        <span class="input-group-addon no-top-bottom-padding">\n          <img data-bind="attr: { src: $parent.cpCoin }" width="30px" title="Copper Coins" alt="Copper Coins"/>\n        </span>\n        <input type="number" class="form-control" min="1"\n          data-bind=\'value: copper\'>\n      </div>\n    </div>\n  </div>\n<\/script>\n\n<script type="text/html" id="itemEditTemplate">\n    <div class="form-group">\n      <label for="itemName"\n             class="col-sm-2 control-label">Name\n      </label>\n      <div class="col-sm-10">\n        <input type="text"\n               class="form-control"\n               id="itemName"\n               placeholder="Rations"\n               data-bind=\'textInput: itemName, hasFocus: $parent.editFirstModalElementHasFocus\'>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="itemWeight"\n             class="col-sm-2 control-label">Weight</label>\n      <div class="col-sm-10">\n        <div class="input-group">\n          <input type="number"\n                 class="form-control"\n                 min="0"\n                 max="5000"\n                 placeholder="Item Weight"\n                 data-bind=\'textInput: itemWeight\'>\n          <span class="input-group-addon">lbs.</span>\n        </div>\n       </div>\n    </div>\n    <div class="form-group">\n      <label for="itemQuantity"\n             class="col-sm-2 control-label">Quantity</label>\n      <div class="col-sm-10">\n        <input type="number"\n               class="form-control"\n               min="0"\n               max="5000"\n               id="itemQuantity"\n               placeholder="Item Quantity"\n               data-bind=\'textInput: itemQty\'>\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-sm-2 control-label">Cost</label>\n        <div class="col-sm-10">\n          <div class="input-group">\n            <input type="number"\n                   min="0"\n                   class="form-control input-select2-addon"\n                   data-bind="value: itemCost" />\n            <span class="input-group-addon">\n            <select class="form-control"\n                    data-bind="options: $parent.currencyDenominationList,\n                             value: itemCurrencyDenomination,\n                             select2: {theme: \'classic\'}"></select>\n            </span>\n          </div>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="itemDescription"\n             class="col-sm-2 control-label">Description</label>\n      <div class="col-sm-10">\n        <textarea type="password"\n                  class="form-control"\n                  id="itemDescription"\n                  placeholder="Rations consist of..."\n                  rows="4"\n                  data-bind=\'textInput: itemDesc\'>\n        </textarea>\n      </div>\n    </div>\n<\/script>\n\n<script type="text/html" id="magicItemEditTemplate">\n    <div class="form-group">\n      <label for="magicItemName"\n             class="col-sm-2 control-label">Item</label>\n      <div class="col-sm-10">\n        <input type="text"\n               class="form-control"\n               id="magicItemName"\n               placeholder="Dagger of Venom"\n               data-bind=\'textInput: magicItemName, hasFocus: $parent.editFirstModalElementHasFocus\'>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemType"\n             class="col-sm-2 control-label">Type</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: magicItemTypeOptions,\n                           value: magicItemType,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemType"\n             class="col-sm-2 control-label">Rarity</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: magicItemRarityOptions,\n                           value: magicItemRarity,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemMaxCharges"\n             class="col-sm-2 control-label">Max Charges</label>\n        <div class="col-sm-10">\n          <input type="number"\n                 class="form-control"\n                 id="magicItemMaxCharges"\n                 placeholder="1"\n                 min="0"\n                 max="100"\n                 data-bind=\'textInput: magicItemMaxCharges\'>\n        </div>\n    </div>\n    <div data-bind="visible: magicItemMaxCharges() != 0">\n      <div class="form-group">\n        <label for="magicItemCharges"\n               class="col-sm-2 control-label">Charges</label>\n          <div class="col-sm-10">\n            <input type="number"\n                   class="form-control"\n                   id="magicItemCharges"\n                   placeholder="1"\n                   min="0"\n                   max="100"\n                   data-bind=\'textInput: magicItemCharges\'>\n          </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemWeight"\n             class="col-sm-2 control-label">Weight</label>\n        <div class="col-sm-10">\n          <input type="number"\n                 class="form-control"\n                 id="magicItemWeight"\n                 placeholder="1"\n                 min="0"\n                 max="1000"\n                 data-bind=\'textInput: magicItemWeight\'>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemRequiresAttunement"\n             class="col-sm-2 control-label">Requires Attunement</label>\n        <div class="col-sm-10">\n          <input type="checkbox"\n                 class="form-control"\n                 id="magicItemRequiresAttunement"\n                 data-bind=\'checked: magicItemRequiresAttunement\'>\n        </div>\n    </div>\n    <div data-bind="visible: magicItemRequiresAttunement() == true">\n      <div class="form-group">\n        <label for="magicItemAttuned"\n               class="col-sm-2 control-label">Attuned</label>\n          <div class="col-sm-10">\n            <input type="checkbox"\n                   class="form-control"\n                   id="magicItemAttuned"\n                   data-bind=\'checked: magicItemAttuned\'>\n          </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="magicItemDescription"\n             class="col-sm-2 control-label">Description</label>\n        <div class="col-sm-10">\n          <textarea type="password"\n                    class="form-control"\n                    id="magicItemDescription"\n                    rows="4"\n                    placeholder="Awesome stuff goes here"\n                    data-bind=\'textInput: magicItemDescription\'>\n          </textarea>\n        </div>\n    </div>\n<\/script>\n\n<script type="text/html" id="weaponEditTemplate">\n    <div class="form-group">\n      <label for="weaponName"\n             class="col-sm-2 control-label">Name</label>\n      <div class="col-sm-10">\n        <input type="text"\n               class="form-control"\n               id="weaponName"\n               placeholder="Short Sword"\n               data-bind=\'textInput: weaponName, hasFocus: $parent.editFirstModalElementHasFocus\'>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponDmg"\n             class="col-sm-2 control-label">Damage</label>\n        <div class="col-sm-10">\n          <input type="text"\n                 class="form-control"\n                 id="weaponDmg"\n                 placeholder="1D4"\n                 data-bind=\'textInput: weaponDmg\'>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponHit"\n             class="col-sm-2 control-label">Magical Modifier</label>\n      <div class="col-sm-10">\n        <input type="number" class="form-control"\n               id="weaponHit"\n               placeholder="Place hit bonus here"\n               data-bind=\'textInput: weaponHit\'>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponType"\n             class="col-sm-2 control-label">Type</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: weaponTypeOptions,\n                           value: weaponType,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponHandedness"\n             class="col-sm-2 control-label">Handedness</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: weaponHandednessOptions,\n                           value: weaponHandedness,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponProficiency"\n             class="col-sm-2 control-label">Proficiency</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: weaponProficiencyOptions,\n                           value: weaponProficiency,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponPrice"\n             class="col-sm-2 control-label">Price</label>\n      <div class="col-sm-10">\n        <div class="input-group">\n          <input type="number" min="0" class="form-control input-select2-addon"\n               id="weaponPrice"\n               placeholder="5"\n               data-bind=\'textInput: weaponPrice\'>\n           <span class="input-group-addon">\n            <select class="form-control"\n                    data-bind="options: $parent.currencyDenominationList,\n                               value: weaponCurrencyDenomination,\n                               select2: {theme: \'classic\'}"></select>\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponWeight"\n             class="col-sm-2 control-label">Weight</label>\n        <div class="col-sm-10">\n          <input type="number" min="0" class="form-control"\n                 id="weaponWeight"\n                 placeholder="6"\n                 data-bind=\'textInput: weaponWeight\'>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponRange"\n             class="col-sm-2 control-label">Range</label>\n        <div class="col-sm-10">\n          <input type="text"\n                 class="form-control"\n                 id="weaponRange"\n                 placeholder="25/100"\n                 data-bind=\'textInput: weaponRange\'>\n        </div>\n    </div>\n    <div class="form-group">\n      <label for="weaponDamageType"\n             class="col-sm-2 control-label">Damage Type</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: weaponDamageTypeOptions,\n                           value: weaponDamageType,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n        </div>\n      <div class="form-group">\n      <label for="weaponProperty"\n             class="col-sm-2 control-label">Property</label>\n        <div class="col-sm-10">\n        <select class="form-control"\n                data-bind="options: weaponPropertyOptions,\n                           value: weaponProperty,\n                           select2: {theme: \'classic\'}"></select>\n        </div>\n    </div>\n\n    <div class="form-group">\n      <label for="weaponQuantity"\n             class="col-sm-2 control-label">Quantity</label>\n        <div class="col-sm-10">\n          <input type="number" min="0" class="form-control"\n                 id="weaponQuantity"\n                 placeholder="1"\n                 data-bind=\'textInput: weaponQuantity\'>\n        </div>\n    </div>\n\n    <div class="form-group">\n      <label for="weaponDescription"\n             class="col-sm-2 control-label">Description</label>\n        <div class="col-sm-10">\n          <textarea type="password"\n                    class="form-control"\n                    id="weaponDescription"\n                    rows="4"\n                    placeholder="A sword...that is short..."\n                    data-bind=\'textInput: weaponDescription\'>\n          </textarea>\n        </div>\n    </div>\n<\/script>\n'},function(e,t,n){e.exports=n.p+"465a2840199e61616202f6a1fb722b33.svg"},function(e,t){e.exports='\x3c!-- ko if: environment == \'dev\' --\x3e\n<div class="" style="background-color: lightgray;">\n  <div class="text-center" style="text-transform: uppercase;"\n    data-bind="text: environment"></div>\n</div>\n\x3c!-- /ko --\x3e\n\x3c!-- ko if: environment == \'test\' --\x3e\n<div class="" style="background-color: orange;">\n  <div class="text-center" style="text-transform: uppercase;"\n    data-bind="text: environment"></div>\n</div>\n\x3c!-- /ko --\x3e\n\n<div id="content">\n\x3c!-- Begin Nav --\x3e\n<nav class="navbar navbar-default navbar-static-top">\n<div class="container-fluid">\n  <div class="col-lg-10 col-xs-12 col-lg-offset-1">\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"\n        data-target="#navbar" aria-expanded="false" aria-controls="navbar">\n        <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span>\n        <span class="icon-bar"></span><span class="icon-bar"></span>\n      </button>\n      <a data-bind="attr: { href: homeURL }" class="navbar-brand">\n    \t  <img data-bind="attr: { src: navLogo }"\n    \t       class="pull-left img-rounded inline-block brand-icon resize_logo_nav"\n    \t       alt="Adventurer\'s Codex"/>\n        <span class="inline-block pull-right">Adventurer\'s Codex</span>\n      </a>\n    </div>\n    <div id="navbar" class="collapse navbar-collapse">\n      <ul class="nav navbar-nav">\n        <li><a href="//adventurerscodex.com"\n               target="_blank">Blog</a></li>\n        <li><a href="//tinyletter.com/adventurerscodex"\n               target="_blank">Newsletter</a></li>\n        <li><a href="https://www.patreon.com/bePatron?u=5313385"\n               target="_blank">Become a Patron</a>\n        </li>\n      </ul>\n      <login></login>\n    </div>\n  \x3c!--/.nav-collapse --\x3e\n  </div>\n</div>\n</nav>\n\n\x3c!-- New Modal --\x3e\n<div class="modal fade" id="newModal" tabindex="-1" role="dialog" aria-labelledby="newModal">\n  <div class="modal-dialog" role="document">\n      <div class="modal-content container-fluid">\n          <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                  <span aria-hidden="true">&times;</span>\n              </button>\n              <h4 class="modal-title" data-dismiss="modal">Create a new character or campaign</h4>\n          </div>\n          <div class="modal-body">\n              <p>If you play more than one character,\n                  run multiple campaigns, or do a little of both, you\'re\n                  in luck! Create a new character or campaign and then use\n                  the "Characters and Games" menu to switch between them.</p>\n          </div>\n          <div class="modal-footer">\n              <button data-bind="click: showWizard"\n                  type="button" data-dismiss="modal"\n                  class="btn btn-primary">Get started!\n              </button>\n          </div>\n      </div>\n  </div>\n</div>\n<user-notifications></user-notifications>\n\n\x3c!-- ko if: shouldShowApp --\x3e\n<div class="container-fluid main">\n  <div class="col-lg-10 col-xs-12 col-lg-offset-1">\n  <div id="characters" class="container-fluid characters-module-style">\n    <div class="row">\n      <div class="col-sm-12">\n        <div class="row">\n          <div class="col-padded col-sm-2 col-xs-12">\n            <player-image></player-image>\n          </div>\n          <div class="col-padded col-sm-10 col-xs-12 characters-player-name">\n            <player-name></player-name>\n            <div class="row">\n              <div class="col-md-12 text-center-xs text-left-sm">\n                <i class="small underline">\n                    <a data-toggle="modal" data-target="#newModal" href="#">\n                    New/Import\n                  </a>\n                </i>\n                &nbsp;\n                <i class="small underline">\n                  <a data-bind="click: toggleCharacterAndGamesModal" href="#">\n                    Characters and Games\n                  </a>\n                </i>\n                &nbsp;\n                <i class="small underline">\n                  <a data-bind="click: togglePartyManagerModal" href="#">\n                    Manage Party\n                  </a>\n                </i>\n                &nbsp;\n                <i class="small underline">\n                  <a data-bind="click: toggleExportModal" href="#">\n                    Export\n                  </a>\n                </i>\n              </div>\n            </div>\n            <div class="row row-padded">\n              <div class="col-xs-12">\n                \x3c!-- ko if: selectedCharacter --\x3e\n                  \x3c!-- ko if: selectedCharacter().playerType().key == \'character\' --\x3e\n                    <player-status-line params="character: selectedCharacter"></player-status-line>\n                  \x3c!-- /ko --\x3e\n                  \x3c!-- ko if: selectedCharacter().playerType().key == \'dm\' --\x3e\n                    <party-status-line params="character: selectedCharacter"></party-status-line>\n                  \x3c!-- /ko --\x3e\n                \x3c!-- /ko --\x3e\n              </div>\n            </div>\n            <div class="row">\n              <party-status></party-status>\n            </div>\n          </div>\n        </div>\n      </div>\n      </div>\n    </div>\n    <div class="spacer"></div>\n      \x3c!-- ko if: selectedCharacter --\x3e\n        \x3c!-- ko if: selectedCharacter().playerType().key == \'character\' --\x3e\n        <character-root params="activeCharacter: selectedCharacter"></character-root>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: selectedCharacter().playerType().key == \'dm\' --\x3e\n        <dm-root params="activeCharacter: selectedCharacter"></dm-root>\n        \x3c!-- /ko --\x3e\n      \x3c!-- /ko --\x3e\n\t</div>\n</div>\n\n\x3c!-- Switch Characters Modal --\x3e\n\x3c!-- ko if: characterAndGamesModalStatus --\x3e\n<characters params="modalStatus: characterAndGamesModalStatus"></characters>\n\x3c!-- /ko --\x3e\n\n\x3c!-- Party Manager Modal --\x3e\n\x3c!-- ko if: partyManagerModalStatus --\x3e\n<div class="modal fade" id="partyModal" tabindex="-1" role="dialog"\n  aria-labelledby="partyModalLabel"\n  data-bind="modal: {\n  open: partyManagerModalStatus,\n  onclose: partyModalFinishedClosing\n  }">\n  <party-manager></party-manager>\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- Export Modal --\x3e\n\x3c!-- ko if: exportModalStatus --\x3e\n<export params="selectedCharacter: selectedCharacter, modalStatus: exportModalStatus"></export>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: shouldShowWizard --\x3e\n<wizard></wizard>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: shouldShowPicker --\x3e\n<character-picker params="state: state"></character-picker>\n\x3c!-- /ko --\x3e\n</div>\n\n\x3c!-- Footer --\x3e\n<div class="container-fluid footer">\n  <div class="col-lg-10 col-lg-offset-1">\n    <ul class="footer-icons" style="padding:0px;">\n      <li>\n        <a href="//facebook.com/adventurerscodex" target="_blank">\n          <i class="fa fa-facebook social-media" aria-hidden="true"></i>\n        </a>\n      </li>\n      <li>\n        <a href="//twitter.com/adventurercodex" target="_blank">\n          <i class="fa fa-twitter social-media" aria-hidden="true"></i>\n        </a>\n      </li>\n      <li>\n        <a href="//www.reddit.com/r/adventurerscodex/" target="_blank">\n          <i class="fa fa-reddit social-media" aria-hidden="true"></i>\n        </a>\n      </li>\n      <li>\n        <a href="//plus.google.com/105624626079092258118" target="_blank">\n          <i class="fa fa-google-plus social-media" aria-hidden="true"></i>\n        </a>\n      </li>\n      <li>\n        <a href="//github.com/adventurerscodex" target="_blank">\n          <i class="fa fa-github social-media" aria-hidden="true"></i>\n        </a>\n      </li>\n      <li>\n        <a href="//adventurerscodex.com/feed.xml" target="_blank">\n          <i class="fa fa-rss social-media" aria-hidden="true"></i>\n        </a>\n      </li>\n    </ul>\n    <center>\n      <p class="text-muted">&copy; 2016-2017 Adventurer\'s Codex, LLC. All rights reserved. &#32;&#32;&#124;&#32;\n        <a href="//adventurerscodex.com/support.html">Contact Us</a>\n      </p>\n      <p class="text-muted">Version: <span data-bind="text: version"></span>, Build Date: <span data-bind="text: buildDate"></span></p>\n      <p class="text-muted">\n        Autofilled data is distributed under the\n          <a href=\'http://media.wizards.com/2016/downloads/DND/SRD-OGL_V5.1.pdf\'\n            target=\'_blank\'>\n            OGL</a><br/>\n            Open\tGame\tLicense\tv\t1.0a\tCopyright\t2000,\tWizards\tof\tthe\tCoast,\tLLC.\n      </p>\n    </center>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n(20),i=n(1),r=n(18),o=n.n(r),s=n(623),c=n.n(s),l=n(62),d=n(66),u=n.n(d),p=n(0),f=n.n(p),h=function(e){f.a.mapping.defaultOptions().ignore=l.a.mappingAlwaysIgnore,u.a.fragmentPrefix="",l.a.srdDataRepositoryLocations.forEach(function(e,t,n){o.a.getJSON(e.url,function(t){i.b[e.key]=t.values,"features"===e.key&&(i.b[e.key+"DisplayNames"]=t.values.map(function(e,t,n){return e.displayName}))})}),a.l.migrate(i.e.scripts,"1.5.2");new c.a(".btn").on("success",function(e){i.f.userNotification.infoNotification.dispatch("Text copied to clipboard.",""),e.clearSelection()}),a.o.configuration.components=[new a.p,new a.h,new a.e,new a.q,new a.i],a.s.sharedService(),a.o.sharedService(),a.b.sharedService(),a.r.sharedService(),a.j.sharedService(),a.c.sharedService(),a.k.sharedService(),window.hotkeyHandler=a.f.hotkeyHandler,window.PersistenceService=a.l,e.init()}},function(e,t,n){var a,i,r;!function(o,s){i=[e,n(624),n(626),n(627)],void 0===(r="function"==typeof(a=s)?a.apply(t,i):a)||(e.exports=r)}(0,function(e,t,n,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var o=i(t),s=i(n),c=i(a),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.resolveOptions(n),a.listenClick(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),d(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,c.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return r("action",e)}},{key:"defaultTarget",value:function(e){var t=r("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return r("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();e.exports=u})},function(e,t,n){var a,i,r;!function(o,s){i=[e,n(625)],void 0===(r="function"==typeof(a=s)?a.apply(t,i):a)||(e.exports=r)}(0,function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(t),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return i(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var a=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=a+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":a(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=r})},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var a=window.getSelection(),i=document.createRange();i.selectNodeContents(e),a.removeAllRanges(),a.addRange(i),t=a.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function a(){i.off(e,a),t.apply(n,arguments)}var i=this;return a._=t,this.on(e,a,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),a=0,i=n.length;a<i;a++)n[a].fn.apply(n[a].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),a=n[e],i=[];if(a&&t)for(var r=0,o=a.length;r<o;r++)a[r].fn!==t&&a[r].fn._!==t&&i.push(a[r]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t,n){var a=n(628),i=n(629);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(a.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(a.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){function a(e,t,n,a,r){var o=function(e,t,n,a){return function(n){n.delegateTarget=i(n.target,t),n.delegateTarget&&a.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,o,r),{destroy:function(){e.removeEventListener(n,o,r)}}}var i=n(630);e.exports=function(e,t,n,i,r){return"function"==typeof e.addEventListener?a.apply(null,arguments):"function"==typeof n?a.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return a(e,t,n,i,r)}))}},function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}}]);